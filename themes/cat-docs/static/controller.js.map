{"version":3,"file":"controller.js","sources":["../src/js/componentCatTrack.js","../src/js/util.js","../src/js/componentAccordion.js","../src/js/componentCloseOpen.js","../src/js/componentCodeBlockFix.js","../src/js/componentCopyButtons.js","../src/js/componentEcosystemLinkTrack.js","../src/js/componentFastLoad.js","../src/node_modules/prop-types/lib/ReactPropTypesSecret.js","../src/node_modules/prop-types/factoryWithThrowingShims.js","../src/node_modules/prop-types/index.js","../src/node_modules/preact/dist/preact.mjs","../src/widgets/deluge/FreeformQuestion.js","../src/widgets/deluge/InputField.js","../src/widgets/deluge/MainWidget.js","../src/widgets/deluge/deluge.js","../src/widgets/suggestion/SuggestionCardList.js","../src/widgets/suggestion/suggestion.js","../src/widgets/widgets.js","../src/js/componentFeedback.js","../src/js/componentTabs.js","../src/js/componentGuides.js","../src/js/componentLightbox.js","../src/js/componentOpenAPI.js","../src/js/componentOpenLink.js","../src/js/componentPillStrip.js","../src/js/componentSidebar.js","../src/js/componentStitchSidebar.js","../src/js/componentThirdParty.js","../src/js/componentToggleController.js","../src/js/componentUriwriter.js","../src/js/componentVersionSelector.js","../src/main/controller.js"],"sourcesContent":["function setAuthKey(key) {\n  window.__ctlst_authkey = key;\n}\n\nexport function setup() {\n  setAuthKey(\n    'Basic OGY1OGIxMDMtODQwOS00OTM1LWE5MDEtMjhmYzgzMWQ3ZmY1Ojg4OVYxbE1lNG9FYU5Mbmo3RFFnWTVEalNMT1g5ZHVuSGNIZmNUaVlwTEJDYWs3UmhQZzR3bzB1ajJnZk1wMmc='\n  );\n\n  const catTrackFn = window.__cat_track_event\n    ? window.__cat_track_event\n    : function () {\n        console.log('__cat_track_event not found');\n      };\n\n  console.log('[*] CatTrack initialized.');\n}\n","export function isLeafNode($node) {\n  return !$node.siblings('ul:not(.simple)').length;\n}\n\nexport function toArray(arrayLike) {\n  const result = [];\n  for (let i = 0; i < arrayLike.length; i += 1) {\n    result.push(arrayLike[i]);\n  }\n\n  return result;\n}\n\n/* Checks a whitelist for non-leaf nodes that should trigger a full page reload */\nexport function requiresPageload($node) {\n  const docsExcludedNav = window.docsExcludedNav;\n\n  if (!docsExcludedNav || !docsExcludedNav.length) {\n    return false;\n  }\n\n  for (let i = 0; i < docsExcludedNav.length; i += 1) {\n    if ($node[0].href.indexOf(docsExcludedNav[i]) !== -1) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport function throttle(func, wait) {\n  let args = null;\n  let result = null;\n  let timeout = null;\n  let previous = 0;\n\n  function later() {\n    previous = Date.now();\n    timeout = null;\n    result = func.apply(...args);\n    if (!timeout) {\n      args = null;\n    }\n  }\n\n  return function (...newArgs) {\n    const now = Date.now();\n    const remaining = wait - (now - previous);\n    args = newArgs;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        window.clearTimeout(timeout);\n        timeout = null;\n      }\n\n      previous = now;\n      result = func(...args);\n      if (!timeout) {\n        args = null;\n      }\n    } else if (!timeout) {\n      timeout = window.setTimeout(later, remaining);\n    }\n\n    return result;\n  };\n}\n\nexport function reportAnalytics(eventName, data) {\n  console.log('report analytics', eventName, data);\n}\n\nexport class Dispatcher {\n  constructor() {\n    this.listeners = [];\n  }\n\n  listen(handler) {\n    this.listeners.push(handler);\n  }\n\n  dispatch(ctx) {\n    for (let i = 0; i < this.listeners.length; i += 1) {\n      this.listeners[i](ctx);\n    }\n  }\n}\n","import {reportAnalytics} from './util';\n\nconst COLLAPSED_PROPERTY = 'accordion--collapsed';\n\n/**\n * Expands and collapses the accordion. Changes the label for the\n * action, i.e., \"Expand\" or \"Collapse\"\n * @param {object} element The accordion element.\n * @returns {void}\n */\nfunction accordionShowHide(element) {\n    element.classList.toggle(COLLAPSED_PROPERTY);\n\n    const control = element.querySelector('.accordion__action');\n    control.innerHTML = (control.innerHTML === 'Expand') ? 'Collapse' : 'Expand';\n\n    const title = element.querySelector('.accordion__title').innerText;\n    reportAnalytics('Accordion Toggled', {\n        'title': title,\n        'status': element.classList.contains(COLLAPSED_PROPERTY) ? 'collapsed' : 'expanded'\n    });\n}\n\nexport function setup() {\n    // Get accordions and assign listeners to handle expand/collapse\n    const accordionElements = document.getElementsByClassName('accordion');\n    for (let i = 0; i < accordionElements.length; i += 1) {\n        const element = accordionElements[i];\n        const button = element.querySelector('.accordion__button');\n\n        button.addEventListener('click', accordionShowHide.bind(this, element));\n    }\n}\n","export function setup() {\n    const showNavButton = document.getElementById('showNav');\n    if (showNavButton) {\n        showNavButton.onclick = () => {\n            document.getElementById('sphinxsidebar').style.display = 'block';\n            document.getElementById('left-column').style.display = 'flex';\n            document.getElementById('showNav').style.display = 'none';\n        };\n    }\n\n    const closeNavButton = document.getElementById('closeNav');\n    if (closeNavButton) {\n        closeNavButton.onclick = () => {\n            document.getElementById('showNav').style.display = 'flex';\n            document.getElementById('left-column').style.display = 'none';\n        };\n    }\n}\n","/*\ncode-blocks with the :linenos: options render an html table, unlike\nregular code-blocks. This component moves the button row into a new row\nof the html table to fix the visual alignment.\n\n*/\n\nfunction isLineNumberBlock(block) {\n    return Boolean(block.getElementsByClassName('linenos').length);\n}\n\nfunction isCaptionBlock(block) {\n    return Boolean(block.getElementsByClassName('caption-text').length);\n}\n\nfunction hasButtonRow(block) {\n    return Boolean(block.getElementsByClassName('button-row')[0]);\n}\n\nfunction moveButtonRowToTable(block) {\n    // Select existing elements\n    const buttonRow = block.getElementsByClassName('button-row')[0];\n    const tableBody = block.getElementsByClassName('highlighttable')[0].childNodes[0];\n\n    // Create new table elements\n    const tableButtonRow = document.createElement('tr');\n    const linenosSpacer = document.createElement('td');\n    const buttonRowDestination = document.createElement('td');\n\n    // Add class for { table-layout: fixed; } styling\n    linenosSpacer.className = 'linenos-button-row-spacer';\n\n    // Manipulate the DOM\n    tableBody.insertBefore(tableButtonRow, tableBody.firstChild);\n    tableButtonRow.appendChild(linenosSpacer);\n    tableButtonRow.appendChild(buttonRowDestination);\n    buttonRowDestination.appendChild(buttonRow);\n}\n\nfunction moveButtonRowBelowCaption(block) {\n    // Select existing elements\n    const buttonRow = block.getElementsByClassName('button-row')[0];\n    const caption = block.getElementsByClassName('code-block-caption')[0];\n\n    // console.log('MOVING BELOW CAPTION');\n\n    // Manipulate the DOM\n    caption.parentNode.insertBefore(buttonRow, caption.nextSibling);\n}\n\nfunction fixCodeBlock(block) {\n    if (isLineNumberBlock(block)) {\n        moveButtonRowToTable(block);\n    }\n    else if (isCaptionBlock(block)) {\n        moveButtonRowBelowCaption(block);\n    }\n}\n\nexport function setup() {\n    const codeblocks = document.getElementsByClassName('button-code-block');\n    for (const codeblock of codeblocks) {\n        if (hasButtonRow(codeblock)) {\n            fixCodeBlock(codeblock);\n        }\n    }\n}\n","import {reportAnalytics, toArray} from './util';\n\nconst TOOLTIP_STATE_ACTIVE = 'code-button__tooltip--active';\nconst TOOLTIP_STATE_INACTIVE = 'code-button__tooltip--inactive';\n\nfunction cancelAndWait(f, timeoutID, ms) {\n    if (timeoutID >= 0) {\n        window.clearTimeout(timeoutID);\n    }\n\n    return window.setTimeout(f, ms);\n}\n\nfunction isCopyableCodeBlock(block) {\n    return Boolean(block.getElementsByClassName('copyable-code-block')[0]);\n}\n\nexport function setup() {\n    const buttonCodeBlocks = document.getElementsByClassName('button-code-block');\n    const copyableBlocks = toArray(buttonCodeBlocks).filter(isCopyableCodeBlock);\n\n    for (const block of copyableBlocks) {\n        const highlightElement = block.getElementsByClassName('highlight')[0];\n        if (!highlightElement) {\n            return;\n        }\n\n        const buttonRow = block.getElementsByClassName('button-row')[0];\n        const copyButton = buttonRow.getElementsByClassName('code-button--copy')[0];\n        if (!copyButton) {\n            return;\n        }\n\n        const popupElement = document.createElement('div');\n        popupElement.innerText = 'copied';\n        popupElement.classList.add('code-button__tooltip');\n        popupElement.classList.add(TOOLTIP_STATE_INACTIVE);\n        let closePopupTimer = -1;\n\n        copyButton.appendChild(popupElement);\n        copyButton.addEventListener('click', () => {\n            const tempElement = document.createElement('textarea');\n            tempElement.style.position = 'fixed';\n            document.body.appendChild(tempElement);\n            const text = highlightElement.innerText.trim();\n            tempElement.value = text;\n            tempElement.select();\n\n            try {\n                const successful = document.execCommand('copy');\n                if (!successful) {\n                    throw new Error('Failed to copy');\n                }\n\n                popupElement.classList.replace(TOOLTIP_STATE_INACTIVE, TOOLTIP_STATE_ACTIVE);\n                closePopupTimer = cancelAndWait(() => {\n                    popupElement.classList.replace(TOOLTIP_STATE_ACTIVE, TOOLTIP_STATE_INACTIVE);\n                }, closePopupTimer, 1500);\n            } catch (err) {\n                console.error(err);\n            }\n\n            document.body.removeChild(tempElement);\n\n            reportAnalytics('Codeblock Copied', {'code': text});\n        });\n    }\n}\n","import {reportAnalytics} from './util';\n\nfunction reportClick(anchorElement) {\n    reportAnalytics('Link Clicked', {\n        'text': anchorElement.text,\n        'href': anchorElement.href\n    });\n}\n\nexport function setup() {\n    // only on ecosystem homepage, track link clicks\n    const driversUrls = [];\n    if (document.body.dataset && document.body.dataset.project === 'ecosystem' && driversUrls.includes(window.location.href)) {\n        // get links on ecosystem\n        const anchors = document.querySelectorAll('a.external');\n        for (let i = 0; i < anchors.length; i += 1) {\n            const anchor = anchors[i];\n            anchor.addEventListener('click', reportClick.bind(this, anchor));\n        }\n    }\n}\n","import * as util from './util';\n\n/* Wrapper around XMLHttpRequest to make it more convenient\n * Calls options.success(response, url), providing the response text and\n *         the canonical URL after redirects.\n * Calls options.error() on error.\n * jQuery's wrapper does not supply XMLHttpRequest.responseURL, making\n * this rewrite necessary. */\nfunction xhrGet(url, options) {\n    const xhr = new XMLHttpRequest();\n\n    xhr.onload = function() {\n        if (xhr.status >= 200 && xhr.status < 400) {\n            options.success(xhr.responseText, xhr.responseURL);\n            options.complete();\n        } else {\n            options.error();\n            options.complete();\n        }\n    };\n\n    xhr.onerror = function() {\n        options.error();\n        options.complete();\n    };\n\n    xhr.open('GET', url, true);\n    try {\n        xhr.send();\n    } catch (err) {\n        options.error();\n        options.complete();\n    }\n}\n\n// Because this is a SPA,  the browser can't scroll to find hashes\n// on its own.\nwindow.addEventListener('hashchange', () => {\n    if (!window.location.hash) { return; }\n\n    const el = document.getElementById(window.location.hash.slice(1));\n    if (!el) { return; }\n    el.scrollIntoView(true);\n});\n\n// If the browser is sufficiently modern, make navbar links load only\n// content pieces to avoid a full page load.\nexport function setup(fastNav) {\n    const project = $('body').attr('data-project');\n    const isStitch = project === 'stitch' || project === 'realm';\n    if (isStitch) {\n        return false;\n    }\n\n    if (window.history === undefined ||\n        document.querySelectorAll === undefined ||\n        document.body.classList === undefined ||\n        (new XMLHttpRequest()).responseURL === undefined) {\n        return false;\n    }\n\n    let navRootElement = document.querySelector('.sphinxsidebarwrapper');\n    let bodyElement = document.querySelector('.body');\n    let curLoading = {};\n\n    // Set up initial state so we can return to our initial landing page.\n    window.history.replaceState({'href': window.location.href},\n        document.querySelector('title').textContent,\n        window.location.href);\n\n    // Stop loading the currently-in-progress page.\n    function abortLoading() {\n        if (curLoading.timeoutID !== undefined) {\n            window.clearTimeout(curLoading.timeoutID);\n        }\n\n        if (curLoading.xhr !== undefined) {\n            curLoading.xhr.abort();\n        }\n\n        curLoading = {};\n    }\n\n    // Load the specified URL.\n    function loadPage(href, createHistory) {\n        if (href === undefined) {\n            console.error('Going to undefined path');\n        }\n\n        abortLoading();\n        bodyElement.classList.add('loading');\n\n        // If something goes wrong while loading, we don't want to leave\n        // people without a paddle. If we can't load after a long period of\n        // time, bring back the original content.\n        curLoading.timeoutID = window.setTimeout(() => {\n            bodyElement.classList.remove('loading');\n            curLoading.timeoutID = -1;\n        }, 10000);\n\n        const startTime = new Date();\n        curLoading.xhr = xhrGet(href, {\n            'complete': () => {\n                abortLoading();\n            },\n            'error': (error) => {\n            // Some browsers consider any file://-type request to be cross-origin.\n            // Upon any kind of error, fall back to classic behavior\n                console.error(`Failed to load ${href}`);\n                window.location = href;\n            },\n            'success': (pageText, trueUrl) => {\n                const enlapsedMs = (new Date()) - startTime;\n                bodyElement.classList.remove('loading');\n\n                // Change URL before loading the DOM to properly resolve URLs\n                if (createHistory && trueUrl !== window.location.href) {\n                    window.history.pushState({'href': trueUrl}, '', trueUrl);\n                }\n\n                const page = document.createElement('html');\n                page.innerHTML = pageText;\n                const title = page.querySelector('title').textContent;\n                const newBody = page.querySelector('.body');\n                const newNav = page.querySelector('.sphinxsidebarwrapper');\n\n                // Fade in ONLY if we had enough time to start fading out.\n                if (enlapsedMs > (250 / 4)) {\n                    newBody.classList.add('loading');\n                }\n\n                // Replace the DOM elements\n                bodyElement.parentElement.replaceChild(newBody, bodyElement);\n                bodyElement = newBody;\n                navRootElement.parentElement.replaceChild(newNav, navRootElement);\n                navRootElement = newNav;\n                document.title = title;\n\n                // Update dynamic page features\n                fastNav.update();\n\n                if (window.history.onnavigate) {\n                    window.history.onnavigate();\n                }\n\n                // Prime the new DOM so that we can set up our fade-in\n                // animation and scroll the new contents to the top.\n                window.setTimeout(() => {\n                    bodyElement.classList.remove('loading');\n\n                    // Scroll to the top of the page only if this is a new history entry.\n                    if (createHistory) {\n                        window.scroll(0, 0);\n                    }\n                }, 1);\n            }\n        });\n    }\n\n    // Set up fastnav links\n    const nodes = document.querySelectorAll('.sphinxsidebarwrapper > ul a.reference.internal');\n    function handleClickFunction(ev) {\n        // Ignore anything but vanilla click events, so that people can\n        // still use special browser behaviors like open in new tab.\n        if (!(ev.button !== 0 || ev.shiftKey || ev.altKey || ev.metaKey || ev.ctrlKey)) {\n            ev.preventDefault();\n            loadPage(ev.currentTarget.href, true);\n        }\n    }\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (!util.isLeafNode($(node)) && !util.requiresPageload($(node))) { continue; }\n\n        node.addEventListener('click', handleClickFunction);\n    }\n\n    window.onpopstate = function(ev) {\n        if (ev.state === null) { return; }\n        loadPage(ev.state.href, false);\n    };\n\n\n    return true;\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","var VNode = function VNode() {};\n\nvar options = {};\n\nvar stack = [];\n\nvar EMPTY_CHILDREN = [];\n\nfunction h(nodeName, attributes) {\n\tvar children = EMPTY_CHILDREN,\n\t    lastSimple,\n\t    child,\n\t    simple,\n\t    i;\n\tfor (i = arguments.length; i-- > 2;) {\n\t\tstack.push(arguments[i]);\n\t}\n\tif (attributes && attributes.children != null) {\n\t\tif (!stack.length) stack.push(attributes.children);\n\t\tdelete attributes.children;\n\t}\n\twhile (stack.length) {\n\t\tif ((child = stack.pop()) && child.pop !== undefined) {\n\t\t\tfor (i = child.length; i--;) {\n\t\t\t\tstack.push(child[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof child === 'boolean') child = null;\n\n\t\t\tif (simple = typeof nodeName !== 'function') {\n\t\t\t\tif (child == null) child = '';else if (typeof child === 'number') child = String(child);else if (typeof child !== 'string') simple = false;\n\t\t\t}\n\n\t\t\tif (simple && lastSimple) {\n\t\t\t\tchildren[children.length - 1] += child;\n\t\t\t} else if (children === EMPTY_CHILDREN) {\n\t\t\t\tchildren = [child];\n\t\t\t} else {\n\t\t\t\tchildren.push(child);\n\t\t\t}\n\n\t\t\tlastSimple = simple;\n\t\t}\n\t}\n\n\tvar p = new VNode();\n\tp.nodeName = nodeName;\n\tp.children = children;\n\tp.attributes = attributes == null ? undefined : attributes;\n\tp.key = attributes == null ? undefined : attributes.key;\n\n\tif (options.vnode !== undefined) options.vnode(p);\n\n\treturn p;\n}\n\nfunction extend(obj, props) {\n  for (var i in props) {\n    obj[i] = props[i];\n  }return obj;\n}\n\nvar defer = typeof Promise == 'function' ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout;\n\nfunction cloneElement(vnode, props) {\n  return h(vnode.nodeName, extend(extend({}, vnode.attributes), props), arguments.length > 2 ? [].slice.call(arguments, 2) : vnode.children);\n}\n\nvar IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n\nvar items = [];\n\nfunction enqueueRender(component) {\n\tif (!component._dirty && (component._dirty = true) && items.push(component) == 1) {\n\t\t(options.debounceRendering || defer)(rerender);\n\t}\n}\n\nfunction rerender() {\n\tvar p,\n\t    list = items;\n\titems = [];\n\twhile (p = list.pop()) {\n\t\tif (p._dirty) renderComponent(p);\n\t}\n}\n\nfunction isSameNodeType(node, vnode, hydrating) {\n\tif (typeof vnode === 'string' || typeof vnode === 'number') {\n\t\treturn node.splitText !== undefined;\n\t}\n\tif (typeof vnode.nodeName === 'string') {\n\t\treturn !node._componentConstructor && isNamedNode(node, vnode.nodeName);\n\t}\n\treturn hydrating || node._componentConstructor === vnode.nodeName;\n}\n\nfunction isNamedNode(node, nodeName) {\n\treturn node.normalizedNodeName === nodeName || node.nodeName.toLowerCase() === nodeName.toLowerCase();\n}\n\nfunction getNodeProps(vnode) {\n\tvar props = extend({}, vnode.attributes);\n\tprops.children = vnode.children;\n\n\tvar defaultProps = vnode.nodeName.defaultProps;\n\tif (defaultProps !== undefined) {\n\t\tfor (var i in defaultProps) {\n\t\t\tif (props[i] === undefined) {\n\t\t\t\tprops[i] = defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn props;\n}\n\nfunction createNode(nodeName, isSvg) {\n\tvar node = isSvg ? document.createElementNS('http://www.w3.org/2000/svg', nodeName) : document.createElement(nodeName);\n\tnode.normalizedNodeName = nodeName;\n\treturn node;\n}\n\nfunction removeNode(node) {\n\tvar parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nfunction setAccessor(node, name, old, value, isSvg) {\n\tif (name === 'className') name = 'class';\n\n\tif (name === 'key') {} else if (name === 'ref') {\n\t\tif (old) old(null);\n\t\tif (value) value(node);\n\t} else if (name === 'class' && !isSvg) {\n\t\tnode.className = value || '';\n\t} else if (name === 'style') {\n\t\tif (!value || typeof value === 'string' || typeof old === 'string') {\n\t\t\tnode.style.cssText = value || '';\n\t\t}\n\t\tif (value && typeof value === 'object') {\n\t\t\tif (typeof old !== 'string') {\n\t\t\t\tfor (var i in old) {\n\t\t\t\t\tif (!(i in value)) node.style[i] = '';\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i in value) {\n\t\t\t\tnode.style[i] = typeof value[i] === 'number' && IS_NON_DIMENSIONAL.test(i) === false ? value[i] + 'px' : value[i];\n\t\t\t}\n\t\t}\n\t} else if (name === 'dangerouslySetInnerHTML') {\n\t\tif (value) node.innerHTML = value.__html || '';\n\t} else if (name[0] == 'o' && name[1] == 'n') {\n\t\tvar useCapture = name !== (name = name.replace(/Capture$/, ''));\n\t\tname = name.toLowerCase().substring(2);\n\t\tif (value) {\n\t\t\tif (!old) node.addEventListener(name, eventProxy, useCapture);\n\t\t} else {\n\t\t\tnode.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t\t(node._listeners || (node._listeners = {}))[name] = value;\n\t} else if (name !== 'list' && name !== 'type' && !isSvg && name in node) {\n\t\ttry {\n\t\t\tnode[name] = value == null ? '' : value;\n\t\t} catch (e) {}\n\t\tif ((value == null || value === false) && name != 'spellcheck') node.removeAttribute(name);\n\t} else {\n\t\tvar ns = isSvg && name !== (name = name.replace(/^xlink:?/, ''));\n\n\t\tif (value == null || value === false) {\n\t\t\tif (ns) node.removeAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase());else node.removeAttribute(name);\n\t\t} else if (typeof value !== 'function') {\n\t\t\tif (ns) node.setAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase(), value);else node.setAttribute(name, value);\n\t\t}\n\t}\n}\n\nfunction eventProxy(e) {\n\treturn this._listeners[e.type](options.event && options.event(e) || e);\n}\n\nvar mounts = [];\n\nvar diffLevel = 0;\n\nvar isSvgMode = false;\n\nvar hydrating = false;\n\nfunction flushMounts() {\n\tvar c;\n\twhile (c = mounts.pop()) {\n\t\tif (options.afterMount) options.afterMount(c);\n\t\tif (c.componentDidMount) c.componentDidMount();\n\t}\n}\n\nfunction diff(dom, vnode, context, mountAll, parent, componentRoot) {\n\tif (!diffLevel++) {\n\t\tisSvgMode = parent != null && parent.ownerSVGElement !== undefined;\n\n\t\thydrating = dom != null && !('__preactattr_' in dom);\n\t}\n\n\tvar ret = idiff(dom, vnode, context, mountAll, componentRoot);\n\n\tif (parent && ret.parentNode !== parent) parent.appendChild(ret);\n\n\tif (! --diffLevel) {\n\t\thydrating = false;\n\n\t\tif (!componentRoot) flushMounts();\n\t}\n\n\treturn ret;\n}\n\nfunction idiff(dom, vnode, context, mountAll, componentRoot) {\n\tvar out = dom,\n\t    prevSvgMode = isSvgMode;\n\n\tif (vnode == null || typeof vnode === 'boolean') vnode = '';\n\n\tif (typeof vnode === 'string' || typeof vnode === 'number') {\n\t\tif (dom && dom.splitText !== undefined && dom.parentNode && (!dom._component || componentRoot)) {\n\t\t\tif (dom.nodeValue != vnode) {\n\t\t\t\tdom.nodeValue = vnode;\n\t\t\t}\n\t\t} else {\n\t\t\tout = document.createTextNode(vnode);\n\t\t\tif (dom) {\n\t\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\t\t\t\trecollectNodeTree(dom, true);\n\t\t\t}\n\t\t}\n\n\t\tout['__preactattr_'] = true;\n\n\t\treturn out;\n\t}\n\n\tvar vnodeName = vnode.nodeName;\n\tif (typeof vnodeName === 'function') {\n\t\treturn buildComponentFromVNode(dom, vnode, context, mountAll);\n\t}\n\n\tisSvgMode = vnodeName === 'svg' ? true : vnodeName === 'foreignObject' ? false : isSvgMode;\n\n\tvnodeName = String(vnodeName);\n\tif (!dom || !isNamedNode(dom, vnodeName)) {\n\t\tout = createNode(vnodeName, isSvgMode);\n\n\t\tif (dom) {\n\t\t\twhile (dom.firstChild) {\n\t\t\t\tout.appendChild(dom.firstChild);\n\t\t\t}\n\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\n\t\t\trecollectNodeTree(dom, true);\n\t\t}\n\t}\n\n\tvar fc = out.firstChild,\n\t    props = out['__preactattr_'],\n\t    vchildren = vnode.children;\n\n\tif (props == null) {\n\t\tprops = out['__preactattr_'] = {};\n\t\tfor (var a = out.attributes, i = a.length; i--;) {\n\t\t\tprops[a[i].name] = a[i].value;\n\t\t}\n\t}\n\n\tif (!hydrating && vchildren && vchildren.length === 1 && typeof vchildren[0] === 'string' && fc != null && fc.splitText !== undefined && fc.nextSibling == null) {\n\t\tif (fc.nodeValue != vchildren[0]) {\n\t\t\tfc.nodeValue = vchildren[0];\n\t\t}\n\t} else if (vchildren && vchildren.length || fc != null) {\n\t\t\tinnerDiffNode(out, vchildren, context, mountAll, hydrating || props.dangerouslySetInnerHTML != null);\n\t\t}\n\n\tdiffAttributes(out, vnode.attributes, props);\n\n\tisSvgMode = prevSvgMode;\n\n\treturn out;\n}\n\nfunction innerDiffNode(dom, vchildren, context, mountAll, isHydrating) {\n\tvar originalChildren = dom.childNodes,\n\t    children = [],\n\t    keyed = {},\n\t    keyedLen = 0,\n\t    min = 0,\n\t    len = originalChildren.length,\n\t    childrenLen = 0,\n\t    vlen = vchildren ? vchildren.length : 0,\n\t    j,\n\t    c,\n\t    f,\n\t    vchild,\n\t    child;\n\n\tif (len !== 0) {\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tvar _child = originalChildren[i],\n\t\t\t    props = _child['__preactattr_'],\n\t\t\t    key = vlen && props ? _child._component ? _child._component.__key : props.key : null;\n\t\t\tif (key != null) {\n\t\t\t\tkeyedLen++;\n\t\t\t\tkeyed[key] = _child;\n\t\t\t} else if (props || (_child.splitText !== undefined ? isHydrating ? _child.nodeValue.trim() : true : isHydrating)) {\n\t\t\t\tchildren[childrenLen++] = _child;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (vlen !== 0) {\n\t\tfor (var i = 0; i < vlen; i++) {\n\t\t\tvchild = vchildren[i];\n\t\t\tchild = null;\n\n\t\t\tvar key = vchild.key;\n\t\t\tif (key != null) {\n\t\t\t\tif (keyedLen && keyed[key] !== undefined) {\n\t\t\t\t\tchild = keyed[key];\n\t\t\t\t\tkeyed[key] = undefined;\n\t\t\t\t\tkeyedLen--;\n\t\t\t\t}\n\t\t\t} else if (min < childrenLen) {\n\t\t\t\t\tfor (j = min; j < childrenLen; j++) {\n\t\t\t\t\t\tif (children[j] !== undefined && isSameNodeType(c = children[j], vchild, isHydrating)) {\n\t\t\t\t\t\t\tchild = c;\n\t\t\t\t\t\t\tchildren[j] = undefined;\n\t\t\t\t\t\t\tif (j === childrenLen - 1) childrenLen--;\n\t\t\t\t\t\t\tif (j === min) min++;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\tchild = idiff(child, vchild, context, mountAll);\n\n\t\t\tf = originalChildren[i];\n\t\t\tif (child && child !== dom && child !== f) {\n\t\t\t\tif (f == null) {\n\t\t\t\t\tdom.appendChild(child);\n\t\t\t\t} else if (child === f.nextSibling) {\n\t\t\t\t\tremoveNode(f);\n\t\t\t\t} else {\n\t\t\t\t\tdom.insertBefore(child, f);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tif (keyedLen) {\n\t\tfor (var i in keyed) {\n\t\t\tif (keyed[i] !== undefined) recollectNodeTree(keyed[i], false);\n\t\t}\n\t}\n\n\twhile (min <= childrenLen) {\n\t\tif ((child = children[childrenLen--]) !== undefined) recollectNodeTree(child, false);\n\t}\n}\n\nfunction recollectNodeTree(node, unmountOnly) {\n\tvar component = node._component;\n\tif (component) {\n\t\tunmountComponent(component);\n\t} else {\n\t\tif (node['__preactattr_'] != null && node['__preactattr_'].ref) node['__preactattr_'].ref(null);\n\n\t\tif (unmountOnly === false || node['__preactattr_'] == null) {\n\t\t\tremoveNode(node);\n\t\t}\n\n\t\tremoveChildren(node);\n\t}\n}\n\nfunction removeChildren(node) {\n\tnode = node.lastChild;\n\twhile (node) {\n\t\tvar next = node.previousSibling;\n\t\trecollectNodeTree(node, true);\n\t\tnode = next;\n\t}\n}\n\nfunction diffAttributes(dom, attrs, old) {\n\tvar name;\n\n\tfor (name in old) {\n\t\tif (!(attrs && attrs[name] != null) && old[name] != null) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = undefined, isSvgMode);\n\t\t}\n\t}\n\n\tfor (name in attrs) {\n\t\tif (name !== 'children' && name !== 'innerHTML' && (!(name in old) || attrs[name] !== (name === 'value' || name === 'checked' ? dom[name] : old[name]))) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = attrs[name], isSvgMode);\n\t\t}\n\t}\n}\n\nvar recyclerComponents = [];\n\nfunction createComponent(Ctor, props, context) {\n\tvar inst,\n\t    i = recyclerComponents.length;\n\n\tif (Ctor.prototype && Ctor.prototype.render) {\n\t\tinst = new Ctor(props, context);\n\t\tComponent.call(inst, props, context);\n\t} else {\n\t\tinst = new Component(props, context);\n\t\tinst.constructor = Ctor;\n\t\tinst.render = doRender;\n\t}\n\n\twhile (i--) {\n\t\tif (recyclerComponents[i].constructor === Ctor) {\n\t\t\tinst.nextBase = recyclerComponents[i].nextBase;\n\t\t\trecyclerComponents.splice(i, 1);\n\t\t\treturn inst;\n\t\t}\n\t}\n\n\treturn inst;\n}\n\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n\nfunction setComponentProps(component, props, renderMode, context, mountAll) {\n\tif (component._disable) return;\n\tcomponent._disable = true;\n\n\tcomponent.__ref = props.ref;\n\tcomponent.__key = props.key;\n\tdelete props.ref;\n\tdelete props.key;\n\n\tif (typeof component.constructor.getDerivedStateFromProps === 'undefined') {\n\t\tif (!component.base || mountAll) {\n\t\t\tif (component.componentWillMount) component.componentWillMount();\n\t\t} else if (component.componentWillReceiveProps) {\n\t\t\tcomponent.componentWillReceiveProps(props, context);\n\t\t}\n\t}\n\n\tif (context && context !== component.context) {\n\t\tif (!component.prevContext) component.prevContext = component.context;\n\t\tcomponent.context = context;\n\t}\n\n\tif (!component.prevProps) component.prevProps = component.props;\n\tcomponent.props = props;\n\n\tcomponent._disable = false;\n\n\tif (renderMode !== 0) {\n\t\tif (renderMode === 1 || options.syncComponentUpdates !== false || !component.base) {\n\t\t\trenderComponent(component, 1, mountAll);\n\t\t} else {\n\t\t\tenqueueRender(component);\n\t\t}\n\t}\n\n\tif (component.__ref) component.__ref(component);\n}\n\nfunction renderComponent(component, renderMode, mountAll, isChild) {\n\tif (component._disable) return;\n\n\tvar props = component.props,\n\t    state = component.state,\n\t    context = component.context,\n\t    previousProps = component.prevProps || props,\n\t    previousState = component.prevState || state,\n\t    previousContext = component.prevContext || context,\n\t    isUpdate = component.base,\n\t    nextBase = component.nextBase,\n\t    initialBase = isUpdate || nextBase,\n\t    initialChildComponent = component._component,\n\t    skip = false,\n\t    snapshot = previousContext,\n\t    rendered,\n\t    inst,\n\t    cbase;\n\n\tif (component.constructor.getDerivedStateFromProps) {\n\t\tstate = extend(extend({}, state), component.constructor.getDerivedStateFromProps(props, state));\n\t\tcomponent.state = state;\n\t}\n\n\tif (isUpdate) {\n\t\tcomponent.props = previousProps;\n\t\tcomponent.state = previousState;\n\t\tcomponent.context = previousContext;\n\t\tif (renderMode !== 2 && component.shouldComponentUpdate && component.shouldComponentUpdate(props, state, context) === false) {\n\t\t\tskip = true;\n\t\t} else if (component.componentWillUpdate) {\n\t\t\tcomponent.componentWillUpdate(props, state, context);\n\t\t}\n\t\tcomponent.props = props;\n\t\tcomponent.state = state;\n\t\tcomponent.context = context;\n\t}\n\n\tcomponent.prevProps = component.prevState = component.prevContext = component.nextBase = null;\n\tcomponent._dirty = false;\n\n\tif (!skip) {\n\t\trendered = component.render(props, state, context);\n\n\t\tif (component.getChildContext) {\n\t\t\tcontext = extend(extend({}, context), component.getChildContext());\n\t\t}\n\n\t\tif (isUpdate && component.getSnapshotBeforeUpdate) {\n\t\t\tsnapshot = component.getSnapshotBeforeUpdate(previousProps, previousState);\n\t\t}\n\n\t\tvar childComponent = rendered && rendered.nodeName,\n\t\t    toUnmount,\n\t\t    base;\n\n\t\tif (typeof childComponent === 'function') {\n\n\t\t\tvar childProps = getNodeProps(rendered);\n\t\t\tinst = initialChildComponent;\n\n\t\t\tif (inst && inst.constructor === childComponent && childProps.key == inst.__key) {\n\t\t\t\tsetComponentProps(inst, childProps, 1, context, false);\n\t\t\t} else {\n\t\t\t\ttoUnmount = inst;\n\n\t\t\t\tcomponent._component = inst = createComponent(childComponent, childProps, context);\n\t\t\t\tinst.nextBase = inst.nextBase || nextBase;\n\t\t\t\tinst._parentComponent = component;\n\t\t\t\tsetComponentProps(inst, childProps, 0, context, false);\n\t\t\t\trenderComponent(inst, 1, mountAll, true);\n\t\t\t}\n\n\t\t\tbase = inst.base;\n\t\t} else {\n\t\t\tcbase = initialBase;\n\n\t\t\ttoUnmount = initialChildComponent;\n\t\t\tif (toUnmount) {\n\t\t\t\tcbase = component._component = null;\n\t\t\t}\n\n\t\t\tif (initialBase || renderMode === 1) {\n\t\t\t\tif (cbase) cbase._component = null;\n\t\t\t\tbase = diff(cbase, rendered, context, mountAll || !isUpdate, initialBase && initialBase.parentNode, true);\n\t\t\t}\n\t\t}\n\n\t\tif (initialBase && base !== initialBase && inst !== initialChildComponent) {\n\t\t\tvar baseParent = initialBase.parentNode;\n\t\t\tif (baseParent && base !== baseParent) {\n\t\t\t\tbaseParent.replaceChild(base, initialBase);\n\n\t\t\t\tif (!toUnmount) {\n\t\t\t\t\tinitialBase._component = null;\n\t\t\t\t\trecollectNodeTree(initialBase, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (toUnmount) {\n\t\t\tunmountComponent(toUnmount);\n\t\t}\n\n\t\tcomponent.base = base;\n\t\tif (base && !isChild) {\n\t\t\tvar componentRef = component,\n\t\t\t    t = component;\n\t\t\twhile (t = t._parentComponent) {\n\t\t\t\t(componentRef = t).base = base;\n\t\t\t}\n\t\t\tbase._component = componentRef;\n\t\t\tbase._componentConstructor = componentRef.constructor;\n\t\t}\n\t}\n\n\tif (!isUpdate || mountAll) {\n\t\tmounts.unshift(component);\n\t} else if (!skip) {\n\n\t\tif (component.componentDidUpdate) {\n\t\t\tcomponent.componentDidUpdate(previousProps, previousState, snapshot);\n\t\t}\n\t\tif (options.afterUpdate) options.afterUpdate(component);\n\t}\n\n\twhile (component._renderCallbacks.length) {\n\t\tcomponent._renderCallbacks.pop().call(component);\n\t}if (!diffLevel && !isChild) flushMounts();\n}\n\nfunction buildComponentFromVNode(dom, vnode, context, mountAll) {\n\tvar c = dom && dom._component,\n\t    originalComponent = c,\n\t    oldDom = dom,\n\t    isDirectOwner = c && dom._componentConstructor === vnode.nodeName,\n\t    isOwner = isDirectOwner,\n\t    props = getNodeProps(vnode);\n\twhile (c && !isOwner && (c = c._parentComponent)) {\n\t\tisOwner = c.constructor === vnode.nodeName;\n\t}\n\n\tif (c && isOwner && (!mountAll || c._component)) {\n\t\tsetComponentProps(c, props, 3, context, mountAll);\n\t\tdom = c.base;\n\t} else {\n\t\tif (originalComponent && !isDirectOwner) {\n\t\t\tunmountComponent(originalComponent);\n\t\t\tdom = oldDom = null;\n\t\t}\n\n\t\tc = createComponent(vnode.nodeName, props, context);\n\t\tif (dom && !c.nextBase) {\n\t\t\tc.nextBase = dom;\n\n\t\t\toldDom = null;\n\t\t}\n\t\tsetComponentProps(c, props, 1, context, mountAll);\n\t\tdom = c.base;\n\n\t\tif (oldDom && dom !== oldDom) {\n\t\t\toldDom._component = null;\n\t\t\trecollectNodeTree(oldDom, false);\n\t\t}\n\t}\n\n\treturn dom;\n}\n\nfunction unmountComponent(component) {\n\tif (options.beforeUnmount) options.beforeUnmount(component);\n\n\tvar base = component.base;\n\n\tcomponent._disable = true;\n\n\tif (component.componentWillUnmount) component.componentWillUnmount();\n\n\tcomponent.base = null;\n\n\tvar inner = component._component;\n\tif (inner) {\n\t\tunmountComponent(inner);\n\t} else if (base) {\n\t\tif (base['__preactattr_'] && base['__preactattr_'].ref) base['__preactattr_'].ref(null);\n\n\t\tcomponent.nextBase = base;\n\n\t\tremoveNode(base);\n\t\trecyclerComponents.push(component);\n\n\t\tremoveChildren(base);\n\t}\n\n\tif (component.__ref) component.__ref(null);\n}\n\nfunction Component(props, context) {\n\tthis._dirty = true;\n\n\tthis.context = context;\n\n\tthis.props = props;\n\n\tthis.state = this.state || {};\n\n\tthis._renderCallbacks = [];\n}\n\nextend(Component.prototype, {\n\tsetState: function setState(state, callback) {\n\t\tif (!this.prevState) this.prevState = this.state;\n\t\tthis.state = extend(extend({}, this.state), typeof state === 'function' ? state(this.state, this.props) : state);\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t},\n\tforceUpdate: function forceUpdate(callback) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\trenderComponent(this, 2);\n\t},\n\trender: function render() {}\n});\n\nfunction render(vnode, parent, merge) {\n  return diff(merge, vnode, {}, false, parent, false);\n}\n\nvar preact = {\n\th: h,\n\tcreateElement: h,\n\tcloneElement: cloneElement,\n\tComponent: Component,\n\trender: render,\n\trerender: rerender,\n\toptions: options\n};\n\nexport default preact;\nexport { h, h as createElement, cloneElement, Component, render, rerender, options };\n//# sourceMappingURL=preact.mjs.map\n","import PropTypes from 'prop-types';\nimport preact from 'preact';\n\nclass FreeformQuestion extends preact.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            'error': false,\n            'text': ''\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    handleChange(ev) {\n        const {hasError, store} = this.props;\n        const value = ev.target.value;\n        const error = hasError(value);\n\n        if (error) {\n            store.set('');\n            ev.target.setCustomValidity(error);\n        } else {\n            store.set(value);\n            ev.target.setCustomValidity('');\n        }\n        this.setState({\n            'error': error,\n            'text': value\n        });\n    }\n\n    render() {\n        const {errorText, placeholder} = this.props;\n        const {error, text} = this.state;\n        return (\n            <div>\n                <textarea\n                    placeholder={placeholder}\n                    onInput={this.handleChange}\n                    value={text}></textarea>\n                <div\n                    className=\"error\"\n                    style={{'visibility': error ? 'visible' : 'hidden'}}>\n                    {errorText}\n                </div>\n            </div>\n        );\n    }\n}\n\nFreeformQuestion.propTypes = {\n    'errorText': PropTypes.string,\n    'hasError': PropTypes.func,\n    'placeholder': PropTypes.string,\n    'store': PropTypes.objectOf(PropTypes.func).isRequired\n};\n\nFreeformQuestion.defaultProps = {\n    'hasError': () => false\n};\n\nexport default FreeformQuestion;\n","import PropTypes from 'prop-types';\nimport preact from 'preact';\n\nclass InputField extends preact.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            'error': false,\n            'text': ''\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    handleChange(ev) {\n        const {hasError, store} = this.props;\n        const value = ev.target.value;\n        const error = hasError(value);\n\n        if (error) {\n            store.set('');\n            ev.target.setCustomValidity(error);\n        } else {\n            store.set(value);\n            ev.target.setCustomValidity('');\n        }\n        this.setState({\n            'error': error,\n            'text': value\n        });\n    }\n\n    render() {\n        const {errorText, inputType, placeholder} = this.props;\n        const {error, text} = this.state;\n        return (\n            <div>\n                <input\n                    onInput={this.handleChange}\n                    placeholder={placeholder}\n                    type={inputType}\n                    value={text} />\n                <div className=\"error\" style={{'visibility': error ? 'visible' : 'hidden'}}>\n                    {errorText}\n                </div>\n            </div>\n        );\n    }\n}\n\nInputField.propTypes = {\n    'errorText': PropTypes.string,\n    'hasError': PropTypes.func,\n    'inputType': PropTypes.string,\n    'placeholder': PropTypes.string,\n    'store': PropTypes.objectOf(PropTypes.func).isRequired\n};\n\nInputField.defaultProps = {\n    'hasError': () => false,\n    'inputType': 'text'\n};\n\nexport default InputField;\n","import PropTypes from 'prop-types';\nimport preact from 'preact';\n\n// State enum\nconst STATE_INITIAL = 'Initial';\nconst STATE_VOTED = 'Voted';\n\nclass MainWidget extends preact.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            'closed': false,\n            'state': STATE_INITIAL\n        };\n\n        this.onSubmitFeedback = this.onSubmitFeedback.bind(this);\n        this.onInitialVote = this.onInitialVote.bind(this);\n        this.toggleVisibility = this.toggleVisibility.bind(this);\n    }\n\n    componentDidMount() {\n        const savedFeedbackState = JSON.parse(window.sessionStorage.getItem('feedbackHidden'));\n        if (savedFeedbackState) {\n            this.setState({'closed': savedFeedbackState});\n        }\n    }\n\n    onSubmitFeedback() {\n        this.props.onSubmitFeedback(this.state.state);\n        this.setState({'state': STATE_VOTED});\n    }\n\n    onInitialVote(e, state) {\n        window.open('https://discord.gg/yn3fm8bjWU', '_blank');\n    }\n\n    toggleVisibility(event) {\n        const {closed, state} = this.state;\n        event.stopPropagation();\n        if ((typeof state === 'boolean' || state === STATE_VOTED) && closed === false) {\n            this.setState({'state': STATE_INITIAL});\n        }\n        this.setState(\n            (prevState) => ({'closed': !prevState.closed}),\n            () => window.sessionStorage.setItem('feedbackHidden', JSON.stringify(this.state.closed))\n        );\n    }\n\n    render({children, canShowSuggestions, voteAcknowledgement}, {closed, state}) {\n        const delugeBodyClass = (state === STATE_INITIAL)\n            ? 'deluge-body'\n            : 'deluge-body deluge-body-expanded';\n        const delugeHeaderClass = 'deluge-header';\n        const delugeClass = (state !== STATE_INITIAL && closed === false)\n            ? 'deluge deluge-expanded'\n            : 'deluge';\n\n        return (\n            <div class={delugeClass}>\n                {closed ? (\n                    <div class=\"deluge-header deluge-header-minimized\"\n                        onClick={this.toggleVisibility}>\n                        <span class=\"fa fa-angle-up deluge-open-icon\"></span>\n                    </div>\n                ) : (\n                    <div>\n                        <div class={delugeHeaderClass}>\n                            <span class=\"fa fa-angle-down deluge-close-icon-hidden\"></span>\n                            <span class=\"deluge-helpful\">Need more info?</span>\n                            <span class=\"fa fa-angle-down deluge-close-icon\"\n                                onClick={this.toggleVisibility}></span>\n                        </div>\n\n                        <div class=\"deluge-vote\">\n                            <a key=\"voteup\" id=\"rate-up\"\n                                onClick={(e) => this.onInitialVote(e, true)}>JOIN DISCORD</a>\n                        </div>\n\n                        <div class={delugeBodyClass}>\n                        </div>\n                    </div>\n                )}\n            </div>\n        );\n    }\n}\n\nMainWidget.propTypes = {\n    'error': PropTypes.bool.isRequired,\n    'onSubmitFeedback': PropTypes.func.isRequired,\n    'onSubmitVote': PropTypes.func.isRequired,\n    'onClear': PropTypes.func.isRequired,\n    'children': PropTypes.arrayOf(PropTypes.node),\n    'voteAcknowledgement': PropTypes.string,\n    'handleOpenDrawer': PropTypes.func.isRequired,\n    'canShowSuggestions': PropTypes.bool.isRequired\n};\n\nexport default MainWidget;\n","import FreeformQuestion from './FreeformQuestion';\nimport InputField from './InputField';\nimport MainWidget from './MainWidget';\nimport PropTypes from 'prop-types';\nimport preact from 'preact';\n\nconst MIN_CHAR_COUNT = 15;\nconst MIN_CHAR_ERROR_TEXT = `Please respond with at least ${MIN_CHAR_COUNT} characters.`;\nconst EMAIL_ERROR_TEXT = 'Please enter a valid email address.';\nconst EMAIL_PROMPT_TEXT = 'May we contact you about your feedback?';\n\nclass Deluge extends preact.Component {\n  constructor(props) {\n    super(props);\n\n    const crypto = window.crypto || window.msCrypto;\n    const buf = new Uint8Array(16);\n    crypto.getRandomValues(buf);\n\n    this.state = {\n      answers: {},\n      emailError: false,\n      interactionId: btoa(\n        Array.prototype.map.call(buf, ch => String.fromCharCode(ch)).join('')\n      ).slice(0, -2),\n      voteAcknowledgement: null,\n    };\n    this.onSubmitFeedback = this.onSubmitFeedback.bind(this);\n    this.onSubmitVote = this.onSubmitVote.bind(this);\n  }\n\n  sendAnalytics(eventName, eventObj) {\n    try {\n      const user = window.analytics.user();\n      const segmentUID = user.id();\n      if (segmentUID) {\n        eventObj.segmentUID = segmentUID.toString();\n      } else {\n        eventObj.segmentAnonymousID = user.anonymousId().toString();\n      }\n      window.analytics.track(eventName, eventObj);\n    } catch (err) {\n      console.error(err);\n    }\n    return eventObj;\n  }\n\n  onSubmitVote(vote) {\n    this.sendVote(vote)\n      .then(result => {\n        this.setState({\n          voteAcknowledgement: vote ? 'up' : 'down',\n        });\n      })\n      .catch(err => {\n        console.error(err);\n      });\n  }\n\n  sendVote(vote) {}\n\n  onSubmitFeedback(vote) {\n    const fields = {};\n\n    const answers = this.state.answers;\n    const keys = Object.keys(answers);\n    for (let i = 0; i < keys.length; i += 1) {\n      const key = keys[i];\n\n      // Report booleans and non-empty strings\n      if (answers[key] || answers[key] === false) {\n        fields[key] = answers[key];\n      }\n    }\n\n    this.sendFeedback(vote, fields).catch(err => {\n      console.error(err);\n    });\n  }\n\n  sendFeedback(vote, fields) {}\n\n  makeStore(key) {\n    return {\n      get: () => this.state.answers[key],\n      set: val =>\n        this.setState(prevState => ({\n          answers: {\n            ...prevState.answers,\n            [key]: val,\n          },\n        })),\n    };\n  }\n\n  validateEmail(input) {\n    const hasError = !(\n      input === '' || /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(input)\n    );\n    this.setState({emailError: hasError});\n    return hasError;\n  }\n\n  render(props, {voteAcknowledgement}) {\n    const noAnswersSubmitted =\n      Object.keys(this.state.answers).length === 0 ||\n      Object.values(this.state.answers).every(val => val === '');\n    const hasError = noAnswersSubmitted || this.state.emailError;\n    return (\n      <MainWidget\n        voteAcknowledgement={voteAcknowledgement}\n        onSubmitFeedback={this.onSubmitFeedback}\n        onSubmitVote={this.onSubmitVote}\n        onClear={() => this.setState({answers: {}})}\n        canShowSuggestions={props.canShowSuggestions}\n        i\n        handleOpenDrawer={props.handleOpenDrawer}\n        error={hasError}\n      >\n        <FreeformQuestion\n          errorText={MIN_CHAR_ERROR_TEXT}\n          store={this.makeStore('reason')}\n          placeholder=\"What are you trying to do?\"\n        />\n        <div className=\"caption\">{EMAIL_PROMPT_TEXT}</div>\n        <InputField\n          errorText={EMAIL_ERROR_TEXT}\n          hasError={input => this.validateEmail(input)}\n          inputType={'email'}\n          store={this.makeStore('email')}\n          placeholder=\"Email address\"\n        />\n      </MainWidget>\n    );\n  }\n}\n\nDeluge.propTypes = {\n  project: PropTypes.string.isRequired,\n  path: PropTypes.string.isRequired,\n  canShowSuggestions: PropTypes.bool.isRequired,\n  handleOpenDrawer: PropTypes.func.isRequired,\n};\n\nexport default Deluge;\n","import PropTypes from 'prop-types';\nimport preact from 'preact';\n\nfunction addQueryParameters(url, pageName) {\n    return `${url}?suggestor=${encodeURIComponent(pageName)}`;\n}\n\nfunction SuggestionCard({suggestion}) {\n    const urlWithParams = addQueryParameters(suggestion.url, this.props.pageName);\n    return (\n        <div className=\"suggestion-card\">\n            <a href={urlWithParams}>\n                <div>\n                    <h2>{suggestion.title}</h2>\n                    {suggestion.description && <p>{suggestion.description}</p>}\n                </div>\n            </a>\n        </div>\n    );\n}\n\nfunction EmptyCard({handleDismissCard}) {\n    return (\n        <div className=\"suggestion-card suggestion-close\"\n            onClick={() => handleDismissCard()}>\n            <h2>This isn&#39;t what I was looking for</h2>\n        </div>\n    );\n}\n\nclass SuggestionCardList extends preact.Component {\n    render() {\n        const suggestions = this.props.suggestions;\n        const suggestionCards = suggestions.map((suggestion) =>\n            <SuggestionCard\n                suggestion={suggestion}\n                key={suggestion.url}\n                pageName={this.props.pageName}\n            />\n        );\n        return (\n            <div>\n                {suggestionCards}\n                <EmptyCard handleDismissCard={this.props.handleDismissCard} />\n            </div>\n        );\n    }\n}\n\nSuggestionCard.propTypes = {\n    'pageName': PropTypes.string.isRequired,\n    'suggestion': PropTypes.object.isRequired\n};\n\nEmptyCard.propTypes = {\n    'handleDismissCard': PropTypes.func.isRequired\n};\n\nSuggestionCardList.propTypes = {\n    'suggestions': PropTypes.array.isRequired,\n    'handleDismissCard': PropTypes.func.isRequired,\n    'pageName': PropTypes.string.isRequired\n};\n\nexport default SuggestionCardList;\n","import PropTypes from 'prop-types';\nimport SuggestionCardList from './SuggestionCardList';\nimport preact from 'preact';\nimport {reportAnalytics} from '../../js/util';\n\nfunction getPageName() {\n  const bodyElements = document.getElementsByClassName('body');\n  if (!bodyElements.length) {\n    return null;\n  }\n\n  const pagename = bodyElements[0].getAttribute('data-pagename');\n\n  return pagename;\n}\n\nclass Suggestion extends preact.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleCloseDrawer = this.handleCloseDrawer.bind(this);\n    this.handleDismissCard = this.handleDismissCard.bind(this);\n    this.pageName = getPageName();\n\n    this.state = {\n      isLoaded: false,\n      showThankYouMessage: false,\n      suggestions: [],\n    };\n  }\n\n  handleCloseDrawer() {\n    this.props.handleCloseDrawer();\n    reportAnalytics('Suggestion Drawer Closed', {\n      userDismissedSuggestions: this.state.showThankYouMessage,\n    });\n  }\n\n  handleDismissCard() {\n    this.setState({showThankYouMessage: true});\n    reportAnalytics('Suggestions Dismissed');\n  }\n\n  render() {\n    const drawerIsOpen = this.props.drawerIsOpen ? 'is-open' : '';\n    const showThankYouMessage = this.state.showThankYouMessage;\n    let bodyDisplay; // eslint-disable-line init-declarations\n\n    if (showThankYouMessage) {\n      bodyDisplay = (\n        <div>\n          <span\n            onClick={() => this.handleCloseDrawer()}\n            class=\"fa fa-times suggestion-close suggestion-close-button\"\n          />\n          <h1>Thanks for your feedback.</h1>\n          <p>\n            We&apos;ll use it to make more helpful suggestions in the future.\n          </p>\n        </div>\n      );\n    } else {\n      bodyDisplay = (\n        <div>\n          <span\n            onClick={() => this.handleCloseDrawer()}\n            class=\"fa fa-times suggestion-close suggestion-close-button\"\n          />\n          <h1>Need help?</h1>\n          <p>Other MongoDB users have found these resources useful.</p>\n          <SuggestionCardList\n            suggestions={this.state.suggestions}\n            handleDismissCard={this.handleDismissCard}\n            pageName={this.pageName}\n          />\n        </div>\n      );\n    }\n    return <div className={`suggestion ${drawerIsOpen}`}>{bodyDisplay}</div>;\n  }\n}\n\nSuggestion.propTypes = {\n  drawerIsOpen: PropTypes.bool.isRequired,\n  handleCloseDrawer: PropTypes.func.isRequired,\n};\n\nexport default Suggestion;\n","import Deluge from './deluge/deluge';\nimport PropTypes from 'prop-types';\nimport Suggestion from './suggestion/suggestion';\nimport preact from 'preact';\n\nconst whitelist = [\n];\n\nclass Widgets extends preact.Component {\n    constructor(props) {\n        super(props);\n        this.isSuggestionPage = this.isSuggestionPage(this.props.path);\n        this.handleOpenDrawer = this.handleOpenDrawer.bind(this);\n        this.handleCloseDrawer = this.handleCloseDrawer.bind(this);\n\n        this.state = {\n            'drawerIsOpen': false,\n            'drawerHasOpened': false\n        };\n    }\n\n    isSuggestionPage(path) {\n        return whitelist.indexOf(path) >= 0;\n    }\n\n    handleOpenDrawer() {\n        // Don't display suggestions again after closing\n        if (this.state.drawerHasOpened) {\n            return;\n        }\n\n        this.setState((prevState) => ({\n            'drawerIsOpen': true,\n            'drawerHasOpened': true\n        }));\n    }\n\n    handleCloseDrawer() {\n        this.setState((prevState) => ({\n            'drawerIsOpen': false\n        }));\n    }\n\n    render() {\n        // return null;\n        return (\n            <div>\n                <Deluge\n                    project={this.props.project}\n                    path={this.props.path}\n                    handleOpenDrawer={this.handleOpenDrawer}\n                    canShowSuggestions={this.isSuggestionPage}\n                />\n                {this.isSuggestionPage &&\n                    <Suggestion\n                        drawerIsOpen={this.state.drawerIsOpen}\n                        handleCloseDrawer={this.handleCloseDrawer}\n                    />\n                }\n            </div>\n        );\n    }\n}\n\nWidgets.propTypes = {\n    'project': PropTypes.string.isRequired,\n    'path': PropTypes.string.isRequired\n};\n\nexport default function widgets(project, path, rootElement) {\n    preact.render('', rootElement, rootElement._widgetsRendered);\n\n    if (path) {\n        rootElement._widgetsRendered = preact.render(\n            <Widgets project={project} path={path} />,\n            rootElement);\n    }\n}\n","import widgets from '../widgets/widgets';\n\nlet project = null;\nlet ratingPanelElement = null;\n\n// Files on which we should not have feedback widgets\nconst blacklist = ['meta/404', 'search'];\n\nfunction getPageName() {\n    const bodyElements = document.getElementsByClassName('body');\n    if (!bodyElements.length) { return null; }\n\n    const pagename = bodyElements[0].getAttribute('data-pagename');\n    if (blacklist.indexOf(pagename) >= 0) {\n        return null;\n    }\n\n    const isEol = bodyElements[0].getAttribute('data-eol');\n    if (isEol) {\n        return null;\n    }\n\n    return pagename;\n}\nexport function init() {\n    project = document.body.getAttribute('data-project');\n    ratingPanelElement = document.getElementById('rating-panel');\n}\n\nexport function setup() {\n    // We require DOM storage. Don't show anything if support is not present.\n    if (window.localStorage === undefined) { return; }\n\n    const pageName = getPageName();\n    if (ratingPanelElement) {\n        widgets(project, pageName, ratingPanelElement);\n    }\n}\n","import {Dispatcher, reportAnalytics, toArray} from './util';\n\nexport const tabsEventDispatcher = new Dispatcher();\n\n/**\n * Show only the first set of tabs at the top of the page.\n * @returns {void}\n */\nfunction hideTabBars() {\n    const isTop = document.querySelector('.tabs-top');\n    if (isTop) {\n        const tabBars = $('.tab-strip--singleton');\n        const mainTabBar = tabBars.first();\n        // Remove any additional tab bars\n        tabBars.slice(1).\n            detach();\n        // Position the main tab bar after the page title\n        mainTabBar.\n            detach().\n            insertAfter('h1').\n            first();\n    }\n}\n\n/**\n * Return the tabPref object containing preferences for tab sets\n * and page specific prefs. Returns an empty object if it doesn't\n * exist.\n * @returns {object} Tab preference object.\n */\nexport function getTabPref() {\n    return JSON.parse(window.localStorage.getItem('tabPref')) || {};\n}\n\n/**\n * Sets the tabPref object depending on whether the tab belongs\n * to set (e.g., \"drivers\") or if it's a one-off page.\n\n * @param {object} pref The \"tabId\" and \"type\" (tab set)\n * @param {boolean} anonymous Whether or not the tab being configured is anonymous.\n * @returns {void}\n */\nexport function setTabPref(pref, anonymous) {\n    const tabPref = getTabPref();\n\n    if (anonymous) {\n        if (!tabPref.pages) {\n            tabPref.pages = {};\n        }\n\n        tabPref.pages[window.location.pathname] = pref.tabId;\n    } else {\n        // Set top-level fields for tab set preferences\n        tabPref[pref.type] = pref.tabId;\n    }\n\n    // Write pref object back to localStorage\n    window.localStorage.setItem('tabPref', JSON.stringify(tabPref));\n}\n\nlet tabSets = {};\nclass TabSet {\n    constructor(tabType, anonymous, tabStripElements, tabContents) {\n        this.type = tabType;\n        this.tabStrips = tabStripElements;\n        this.tabContents = tabContents;\n        this.anonymous = anonymous;\n\n        // A set of all tabIds contained within this TabSet.\n        this.tabIds = {};\n    }\n\n    /**\n     * Return the first singleton tab ID on the page.\n     * @returns {string} The first singleton tab ID found.\n     */\n    getFirstTabId() {\n        const tabsElement = this.tabStrips[0].\n            querySelector('.tab-strip__element[aria-selected=true]');\n        if (!tabsElement) { return null; }\n\n        return tabsElement.getAttribute('data-tabid');\n    }\n\n    setup() {\n        if (this.tabStrips.length === 0) { return; }\n\n        hideTabBars();\n\n        for (const tabStrip of this.tabStrips) {\n            for (const element of tabStrip.querySelectorAll('[data-tabid]')) {\n                this.tabIds[element.getAttribute('data-tabid')] = true;\n\n                element.onclick = (e) => {\n                    // Get the initial position of the tab clicked\n                    // to avoid page jumping after new tab is selected\n                    const initRect = element.getBoundingClientRect();\n\n                    // Get the position where the user scrolled to\n                    const initScrollY = window.scrollY;\n\n                    // Calc the distance from the tab strip to the top\n                    // of whatever the user has scrolled to\n                    const offset = initScrollY - initRect.y;\n\n                    // Get the tab ID of the clicked tab\n                    const tabId = e.target.getAttribute('data-tabid');\n\n                    // Build the pref object to set\n                    const pref = {};\n                    pref.tabId = tabId;\n                    pref.type = this.type;\n\n                    // Check to make sure value is not null, i.e., don't do anything on \"other\"\n                    if (tabId) {\n                        // Save the users preference and re-render\n                        this.update(tabId, true);\n\n                        // Get the position of tab strip after re-render\n                        const rects = element.getBoundingClientRect();\n\n                        // Reset the scroll position of the browser\n                        window.scrollTo(rects.x, rects.y + offset);\n\n                        reportAnalytics('Tab Selected', {\n                            'tabId': tabId,\n                            'title': e.target.innerText,\n                            'tabSet': this.type\n                        });\n\n                        e.preventDefault();\n                    }\n                };\n            }\n        }\n\n        this.update(null, false);\n    }\n\n    update(tabId, isUserAction) {\n        if (this.tabStrips.length === 0) { return; }\n\n        if (!tabId) {\n            const tabPref = getTabPref();\n            if (this.anonymous && tabPref.pages && tabPref.pages[window.location.pathname]) {\n                // Check if current page has a one-off page specific pref\n                tabId = tabPref.pages[window.location.pathname];\n            } else if (tabPref[this.type]) {\n                tabId = tabPref[this.type];\n            }\n        }\n\n        if (!tabId || !this.tabIds[tabId]) {\n            tabId = this.getFirstTabId();\n\n            if (!tabId) { return; }\n        }\n\n        // Show the appropriate tab content and mark the tab as active\n        tabsEventDispatcher.dispatch({\n            'isUserAction': isUserAction,\n            'tabId': tabId,\n            'type': this.type\n        });\n    }\n\n    /**\n     * Marks the selected tab as active, handles special cases for the dropdown\n     * @param {string} currentAttrValue The currently selected tab ID.\n     * @returns {void}\n     */\n    showHideSelectedTab(currentAttrValue) {\n        for (const tabStrip of this.tabStrips) {\n            // Get the <a>, <li> and <ul> of the selected tab\n            const tabLink = $(tabStrip.querySelector(`[data-tabid=\"${currentAttrValue}\"]`));\n            if (!tabLink.length) {\n                continue;\n            }\n\n            const tabList = tabLink.parent('ul');\n\n            // Get the dropdown <a> and <li> for active and label management\n            const dropdownLink = $(tabStrip.querySelector('.dropdown-toggle'));\n            const dropdownListItem = $(tabStrip.querySelector('.dropdown'));\n\n            // Set the active tab, if it's on the dropdown set it to active and change label\n            if (tabList.hasClass('dropdown-menu')) {\n                // Use first so text doesn't repeat if more than one set of tabs\n                dropdownLink.text(`${tabLink.first().text()}`).append('<span class=\"caret\"></span>');\n                dropdownListItem.\n                    attr('aria-selected', true).\n                    siblings().\n                    attr('aria-selected', false);\n            } else {\n                // Set a non-dropdown tab to active, and change the dropdown label back to \"Other\"\n                tabLink.\n                    attr('aria-selected', true).\n                    siblings().\n                    attr('aria-selected', false);\n                dropdownLink.text('Other ').append('<span class=\"caret\"></span>');\n            }\n        }\n\n        const className = `tabpanel-${currentAttrValue}`;\n        for (const contentElement of this.tabContents) {\n            for (const childElement of contentElement.children) {\n                if (childElement.classList.contains(className)) {\n                    childElement.style.display = 'block';\n                } else {\n                    childElement.style.display = 'none';\n                }\n            }\n        }\n    }\n\n    static register(tabElement) {\n        const tabStripElements = toArray(tabElement.getElementsByClassName('tab-strip--singleton'));\n        const tabContent = tabElement.querySelector('.tabs__content');\n        let tabType = tabElement.getAttribute('data-tab-preference');\n        let anonymous = false;\n\n        // If there is no specified tab type, use the first tab's ID\n        if (!tabType) {\n            const firstTabidElement = tabElement.querySelector('[data-tabid]');\n            if (!firstTabidElement) { return; }\n\n            tabType = `anonymous-${firstTabidElement.getAttribute('data-tabid')}`;\n            anonymous = true;\n        }\n\n        if (tabSets[tabType]) {\n            const tabSet = tabSets[tabType];\n            tabSet.tabStrips = tabSet.tabStrips.concat(tabStripElements);\n            tabSet.tabContents.push(tabContent);\n            return;\n        }\n\n        const tabSet = new TabSet(tabType, anonymous, tabStripElements, [tabContent], false);\n        tabSets[tabType] = tabSet;\n    }\n}\n\n// Listen for state changes necessitating a redraw\ntabsEventDispatcher.listen((ctx) => {\n    const tabSet = tabSets[ctx.type];\n    if (tabSet) {\n        // Only save our new preference if we are responding to user input.\n        if (ctx.isUserAction) {\n            setTabPref(ctx, tabSet.anonymous);\n        }\n\n        tabSet.showHideSelectedTab(ctx.tabId);\n    }\n});\n\n// Create tab functionality for code examples\nexport function setup() {\n    tabSets = {};\n\n    const tabsElements = document.getElementsByClassName('tabs');\n    for (let i = 0; i < tabsElements.length; i += 1) {\n        TabSet.register(tabsElements[i]);\n    }\n\n    for (const tabType of Object.keys(tabSets)) {\n        tabSets[tabType].setup();\n    }\n}\n","import {setTabPref, tabsEventDispatcher} from './componentTabs';\nimport {throttle} from './util';\n\nconst headings = [];\n\nfunction recalculate() {\n    const height = document.body.clientHeight - window.innerHeight;\n\n    // This is a bit hacky, but it mostly works. Choose our current\n    // position in the page as a decimal in the range [0, 1], adding\n    // our window size multiplied by 80% of the unadjusted [0, 1]\n    // position.\n    // The 80% is necessary because the last sections of a guide tend to\n    // be shorter, and we need to make sure that scrolling to the bottom\n    // highlights the last section.\n    let currentPosition = document.documentElement.scrollTop / height;\n    currentPosition = (document.documentElement.scrollTop +\n        (currentPosition * 0.8 * window.innerHeight)) / height;\n\n    let bestMatch = [Infinity, null];\n\n    for (const [headingElement, tocElement] of headings) {\n        tocElement.classList.remove('active');\n\n        const headingPosition = headingElement.offsetTop / height;\n        const delta = Math.abs(headingPosition - currentPosition);\n        if (delta <= bestMatch[0]) {\n            bestMatch = [delta, tocElement];\n        }\n    }\n\n    if (bestMatch[1]) {\n        bestMatch[1].classList.add('active');\n    }\n}\n\ndocument.addEventListener('scroll', throttle(recalculate, 150));\n\nfunction setupScrollMonitor() {\n    const leftToc = document.querySelector('.left-toc');\n    if (!leftToc) { return; }\n\n    headings.length = 0;\n    for (const linkElement of leftToc.querySelectorAll('a')) {\n        const id = linkElement.getAttribute('href').slice(1);\n        if (!id) { continue; }\n\n        const headingElement = document.getElementById(id);\n        if (!headingElement) { continue; }\n\n        headings.push([headingElement, linkElement.parentElement]);\n    }\n\n    recalculate();\n}\n\nfunction pillClickHandler(ev) {\n    const tabId = ev.target.getAttribute('data-tab-preference');\n    if (!tabId) { return; }\n\n    setTabPref({\n        'tabId': tabId,\n        'type': 'languages'\n    }, false);\n}\n\nfunction setupLandingPage() {\n    const guidesCategoryListElement = document.getElementsByClassName('guide-category-list')[0];\n    if (!guidesCategoryListElement) { return; }\n\n    const pills = guidesCategoryListElement.getElementsByClassName('guide__pill');\n    for (let i = 0; i < pills.length; i += 1) {\n        pills[i].onclick = pillClickHandler;\n    }\n}\n\n// Guides show the current language in the tab preferences header. Update\n// that if necessary.\nconst showCurrentLanguageElements = document.getElementsByClassName('show-current-language');\ntabsEventDispatcher.listen((ctx) => {\n    if (ctx.type !== 'languages') { return; }\n\n    for (let i = 0; i < showCurrentLanguageElements.length; i += 1) {\n        showCurrentLanguageElements[i].innerText = ctx.tabId;\n    }\n});\n\nexport function setup() {\n    setupScrollMonitor();\n    setupLandingPage();\n}\n","const CLASS_ACTIVATED = 'lightbox__content--activated';\nconst CLASS_SCALABLE = 'lightbox__content--scalable';\n\nconst modal = document.createElement('div');\nmodal.className = 'lightbox__modal';\nmodal.title = 'click to close';\nconst modalContent = document.createElement('img');\nmodalContent.className = 'lightbox__content';\nmodal.appendChild(modalContent);\n\nfunction closeLightbox(ev) {\n    if (ev.type === 'keydown' && ev.key !== 'Escape') {\n        return;\n    }\n\n    modalContent.classList.remove(CLASS_ACTIVATED);\n    if (!modal.parentNode) {\n        return;\n    }\n\n    modal.parentNode.removeChild(modal);\n}\n\n// Wrap an image in a lightbox\nfunction wrapImage(img) {\n    const wrapperElement = document.createElement('div');\n    const captionElement = document.createElement('div');\n\n    wrapperElement.className = 'lightbox__imageWrapper';\n    captionElement.className = 'lightbox__caption';\n    captionElement.innerText = 'click to enlarge';\n\n    img.parentNode.replaceChild(wrapperElement, img);\n    wrapperElement.appendChild(img);\n    wrapperElement.appendChild(captionElement);\n\n    wrapperElement.addEventListener('click', () => {\n        document.body.appendChild(modal);\n        modalContent.src = img.src;\n        modalContent.alt = `${img.alt}  Enlarged`;\n\n        if ((/\\.svg$/).test(modalContent.src)) {\n            modalContent.classList.add(CLASS_SCALABLE);\n        } else {\n            modalContent.classList.remove(CLASS_SCALABLE);\n        }\n\n        modal.addEventListener('click', closeLightbox);\n\n        // Wait until the next DOM tick to make the fade animation work\n        setTimeout(() => {\n            modalContent.classList.add(CLASS_ACTIVATED);\n        }, 0);\n    });\n}\n\n// Intelligently wrap a figure in a lightbox if its natural area is >10%\n// larger than displayed.\nfunction wrapIfNeeded(figure, img) {\n    const naturalArea = img.naturalWidth * img.naturalHeight;\n    const clientArea = img.clientWidth * img.clientHeight;\n    if (clientArea < (naturalArea * 0.9)) {\n        wrapImage(img);\n        figure.classList.add('lightbox');\n    }\n}\n\nexport function setup() {\n    for (const figure of document.getElementsByClassName('lightbox')) {\n        if (figure.children.length === 0 || figure.children[0].tagName !== 'IMG') {\n            continue;\n        }\n\n        wrapImage(figure.children[0]);\n    }\n\n    // Now look at all non-explicitly-lightbox figures to see if they need\n    // the same treatment.\n    for (const figure of document.getElementsByClassName('figure')) {\n        if (figure.children.length === 0 ||\n            figure.children[0].tagName !== 'IMG' ||\n            figure.classList.contains('lightbox')) {\n            continue;\n        }\n\n        const img = figure.children[0];\n\n        if (img.complete) {\n            wrapIfNeeded(figure, img);\n        } else {\n            img.addEventListener('load', wrapIfNeeded.bind(null, figure, img));\n        }\n    }\n\n    // Register our escape handler. This is idempotent\n    document.addEventListener('keydown', closeLightbox);\n}\n","const COLLAPSED_PROPERTY = 'apiref-resource--collapsed';\n\n// We want to let users select a path without toggling the resource's\n// stage (open vs. collapsed). Only consider an event a click if the cursor\n// moved less than 50 pixels in either direction before the button is lifted.\nfunction createClickButNotSelectionHandler(element, onclick) {\n    let dragStart = null;\n\n    element.addEventListener('mousedown', (ev) => {\n        if (ev.button !== 0) { return; }\n        dragStart = ev;\n    });\n\n    element.addEventListener('mouseup', (ev) => {\n        if (ev.button !== 0) { return; }\n        const formerDragStart = dragStart;\n        dragStart = null;\n\n        if (!formerDragStart || (\n            Math.abs(ev.clientX - formerDragStart.clientX) < 50 &&\n            Math.abs(ev.clientY - formerDragStart.clientY) < 50)) {\n            onclick();\n        }\n    });\n}\n\nfunction toggleResource(classListAction, resourceElement) {\n    if (resourceElement.id) {\n        const hash = `#${resourceElement.id}`;\n        window.history.pushState({'href': hash}, '', hash);\n    }\n\n    resourceElement.classList[classListAction](COLLAPSED_PROPERTY);\n}\n\nfunction expand() {\n    const hash = document.location.hash.slice(1);\n    if (!hash) { return; }\n    const requested = document.getElementById(hash);\n    if (!requested) { return; }\n    if (!requested.classList.contains('apiref-resource')) { return; }\n    toggleResource('remove', requested);\n}\n\nwindow.addEventListener('hashchange', expand, false);\n\nexport function setup() {\n    const resourceHeaderElements = document.getElementsByClassName('apiref-resource__header');\n    for (let i = 0; i < resourceHeaderElements.length; i += 1) {\n        const element = resourceHeaderElements[i];\n        createClickButNotSelectionHandler(element,\n            toggleResource.bind(null, 'toggle', element.parentElement));\n    }\n\n    expand();\n}\n","export function setup() {\n    const extLinks = document.querySelectorAll('a.external');\n    if (extLinks) {\n        extLinks.forEach((link) => {\n            link.setAttribute('target', '_blank');\n        });\n    }\n}\n","import {reportAnalytics, toArray} from './util';\nimport {tabsEventDispatcher} from './componentTabs';\n\nfunction pillClickHandler(tabType, ev) {\n    const tabId = ev.target.getAttribute('data-tabid');\n    tabsEventDispatcher.dispatch({\n        'isUserAction': true,\n        'tabId': tabId,\n        'type': tabType\n    });\n\n    reportAnalytics('Pill Selected', {\n        'tabId': tabId,\n        'title': ev.target.innerText,\n        'pillSet': tabType\n    });\n}\n\nlet tabTypes = {};\ntabsEventDispatcher.listen((ctx) => {\n    for (const pillStripElement of tabTypes[ctx.type] || []) {\n        const elements = pillStripElement.getElementsByClassName('guide__pill');\n        for (let i = 0; i < elements.length; i += 1) {\n            const element = elements[i];\n            if (element.getAttribute('data-tabid') === ctx.tabId) {\n                elements[i].classList.add('guide__pill--active');\n            } else {\n                elements[i].classList.remove('guide__pill--active');\n            }\n        }\n    }\n});\n\nexport function setup() {\n    tabTypes = {};\n    for (const pillStripElement of document.querySelectorAll('.pillstrip-declaration')) {\n        const tabsType = pillStripElement.getAttribute('data-tab-preference');\n        if (!tabsType) { continue; }\n\n        if (tabTypes[tabsType] === undefined) { tabTypes[tabsType] = []; }\n        tabTypes[tabsType].push(pillStripElement);\n    }\n\n    for (const tabsType of Object.keys(tabTypes)) {\n        const pillStripElements = tabTypes[tabsType];\n        const tabStrips = document.querySelectorAll(`.tabs[data-tab-preference=\"${tabsType}\"] > .tab-strip`);\n        const seenPills = {};\n        const pills = [];\n\n        for (const tabStripElement of tabStrips) {\n            tabStripElement.style.display = 'none';\n\n            let i = -1;\n            let childElements = toArray(\n                tabStripElement.querySelectorAll('.tab-strip__element[data-tabid]'));\n            childElements = childElements.concat(\n                toArray(\n                    tabStripElement.querySelectorAll('.tab-strip__dropdown > li')));\n            for (const childElement of childElements) {\n                i += 1;\n                const tabId = childElement.getAttribute('data-tabid');\n                if (seenPills[tabId] !== undefined) {\n                    continue;\n                }\n\n                seenPills[tabId] = true;\n                pills.splice(i, 0, [tabId, childElement.innerText]);\n            }\n        }\n\n        const clickHandler = pillClickHandler.bind(undefined, tabsType);\n        for (const strip of pillStripElements) {\n            for (const [tabId, tabTitle] of pills) {\n                const pill = document.createElement('li');\n                pill.className = 'guide__pill';\n                pill.setAttribute('data-tabid', tabId);\n                pill.innerText = tabTitle;\n                pill.onclick = clickHandler;\n                strip.appendChild(pill);\n            }\n        }\n    }\n}\n","import * as util from './util';\n\n/* currently open page */\nfunction isCurrentNode($node) {\n    return $node.hasClass('current');\n}\n\nexport function setup() {\n    const project = $('body').attr('data-project');\n    const isStitch = project === 'stitch' || project === 'realm';\n    if (isStitch) {\n        return;\n    }\n    let $current = $('.sidebar a.current');\n    if (util.isLeafNode($current) || util.requiresPageload($current) || isCurrentNode($current)) {\n        $current.parent('li').addClass('selected-item');\n    }\n    $current.parents('ul').each((index, el) => {\n        $(el).css('display', 'block');\n    });\n\n    $('.sphinxsidebarwrapper > ul li:not(.current) > ul:not(.current)').hide();\n    $('.sphinxsidebarwrapper').show();\n\n    /*\n     * This event handler defines the left-column navigation's behavior\n     * The logic conforms to how sphinx generates the markup\n     * The rules are:\n     *  $('a.current') is the title of the content that is currently rendered\n     *    (this should never be changed client-side)\n     *  $('ul.current, li.current') are the set of lists that are currently expanded\n     *  $('li.selected-item') is the currently highlighted item\n     */\n    $('.sphinxsidebarwrapper .toctree-l1').on('click', 'a', (e) => {\n        const $target = $(e.currentTarget);\n        if (util.isLeafNode($target)) {\n            // Do a full page reload on leaf nodes\n            return;\n        }\n\n        // Release notes has special behavior to click through\n        if (!$target.parent().hasClass('selected-item') && util.requiresPageload($target)) {\n            return;\n        }\n\n        e.preventDefault();\n\n        if ($target.parent().hasClass('current')) {\n            // collapse target node\n            $target.parent().removeClass('current selected-item');\n            $target.siblings('ul').slideUp();\n        } else {\n\n            $current.parent().removeClass('selected-item');\n            // roll up all navigation up to the common ancestor\n            $current.parents().\n                add($current.siblings('ul')).\n                each((index, el) => {\n                    const $el = $(el);\n                    if ($el.has(e.currentTarget).length) {\n                        return;\n                    }\n\n                    if ($el.is('ul')) {\n                        $el.removeClass('current').slideUp();\n                    } else {\n                        $el.removeClass('current');\n                    }\n                });\n            // add css classes for the new 'current' nav item\n            $target.parent().addClass('current');\n            $target.siblings('ul').slideDown(() => {\n                if (util.isLeafNode($target) ||\n                    util.requiresPageload($target) ||\n                    isCurrentNode($current)) {\n                    $target.parent('li').addClass('selected-item');\n                }\n            });\n            // set new $current\n            $current = $target;\n        }\n    });\n\n    /* Add expand icons to indicate what's expandable and what's a link. This\n       is necessary when (1) we're at a leaf node, or (2) the menu triggers\n       a page load. */\n    $('.sphinxsidebarwrapper > ul ul a.reference').prepend(function(index) {\n        const expandElement = $('<span class=\"expand-icon\"></span>');\n        const self = $(this);\n\n        if (!util.isLeafNode(self)) {\n            expandElement.addClass('docs-expand-arrow');\n        }\n\n        return expandElement;\n    });\n}\n","const SLIDE_ANIMATION_TIME_MS = 400;\nlet $currentPage = $('.sidebar a.current');\n\nfunction isVisible(target) {\n    return target.hasClass('current');\n}\n\nfunction handleTocSectionVisibility() {\n    // Show/hide the appropriate TOC sections\n    const $sidebar = $('.sphinxsidebarwrapper');\n    const $visibleRootSection = $('ul.toc-section-root.current');\n    const $nonvisibleRootSections = $('ul.toc-section-root:not(.current)');\n    const $visibleNestedSection = $('ul.toc-section-nested.current');\n    const $nonvisibleNestedSections = $('ul.toc-section-nested:not(.current)');\n    $visibleRootSection.show();\n    $visibleNestedSection.show();\n    $nonvisibleRootSections.hide();\n    $nonvisibleNestedSections.hide();\n    $sidebar.show();\n}\nfunction handleRootSectionNavigation(e) {\n    e.preventDefault();\n    const $targetSection = $(e.currentTarget).parent();\n\n    function collapseSection(section) {\n        const $sectionHeading = section.children('h3');\n        const $sectionContent = section.children(':not(h3)');\n\n        $sectionHeading.removeClass('open');\n        $sectionContent.stop().slideUp(SLIDE_ANIMATION_TIME_MS, () => {\n            section.add(section.children()).removeClass('current');\n        });\n    }\n\n    function expandSection(section) {\n        section.add(section.children()).addClass('current');\n        section.children('ul.toc-section-root').stop().\n            slideDown(SLIDE_ANIMATION_TIME_MS);\n    }\n\n    if (isVisible($targetSection)) {\n        collapseSection($targetSection);\n    } else {\n        const $visibleSection = $('li.toctree-l1.current');\n        collapseSection($visibleSection);\n        expandSection($targetSection);\n    }\n}\n\nfunction handleSectionNavigation(e) {\n    e.preventDefault();\n    const $targetHeading = $(e.currentTarget);\n    const $targetSection = $targetHeading.parent();\n\n    function collapseSection(section) {\n        const $sectionHeading = section.children('h4, h5');\n        const $sectionContent = section.children(':not(h4, h5)');\n\n        $sectionHeading.removeClass('open');\n        $sectionContent.stop().slideUp(SLIDE_ANIMATION_TIME_MS, () => {\n            section.add(section.children()).removeClass('current');\n        });\n    }\n\n    function expandSection(section) {\n        const $sectionHeading = section.children('h4, h5');\n        const $sectionContent = section.children(':not(h4, h5)');\n\n        $sectionHeading.addClass('open current');\n        $sectionContent.stop().slideDown(SLIDE_ANIMATION_TIME_MS, () => {\n            section.addClass('current');\n            $sectionContent.addClass('current');\n        });\n    }\n\n    if (isVisible($targetSection)) {\n        collapseSection($targetSection);\n    } else {\n        expandSection($targetSection);\n    }\n}\n\nfunction handleCompositePage(e) {\n    e.preventDefault();\n    const $targetIcon = $(e.currentTarget);\n    const $targetPage = $targetIcon.parent();\n    const $subpageSection = $targetPage.siblings('ul.toc-section-nested');\n\n    const isClosed = $targetIcon.hasClass('is-closed');\n    if (isClosed) {\n        $subpageSection.stop().slideDown();\n        $targetIcon.removeClass('is-closed');\n        $targetIcon.addClass('is-open');\n    } else {\n        $subpageSection.stop().slideUp();\n        $targetIcon.removeClass('is-open');\n        $targetIcon.addClass('is-closed');\n    }\n}\n\n\nfunction addNavigationHandlers() {\n    // Handle TOC navigation\n    const $tocSections = $('.toctree-root .toctree-l1');\n    $tocSections.on('click', 'h3', handleRootSectionNavigation);\n    $tocSections.on('click', 'h4', handleSectionNavigation);\n    $tocSections.on('click', 'h5', handleSectionNavigation);\n    $tocSections.on('click', 'a span.nested-page-toggle', handleCompositePage);\n}\n\nfunction addIcons() {\n    // Add the page icon (file-alt-regular) to (expand-icon)\n    const $tocPagesWithoutChildren = $(\n        'ul.toctree-root li:not(.contains-nested) > a.reference'\n    );\n    $tocPagesWithoutChildren.prepend(() =>\n        $('<span class=\"page-icon\"></span>')\n    );\n\n    // Add composite page toggles\n    const closedPageToggleIcon =\n    '<span class=\"nested-page-toggle is-closed\"></span>';\n    const openPageToggleIcon =\n    '<span class=\"nested-page-toggle is-open contains-current-page\"></span>';\n\n    const $closedPagesWithChildren = $('li.contains-nested > a:not(.current)').\n        filter($('li.contains-nested > ul:not(.toc-section-nested.current)').siblings('a'));\n    const $openPagesWithChildren = $('li.contains-nested > a.current').\n        add($('li.contains-nested > ul.toc-section-nested.current').siblings('a'));\n\n    $closedPagesWithChildren.prepend(closedPageToggleIcon);\n    $openPagesWithChildren.prepend(openPageToggleIcon);\n\n    // Add a vertical line to nested sub-pages\n    const $nestedTocPages = $('ul.toc-section-nested a.reference');\n    $nestedTocPages.prepend(() => $('<span class=\"nested-page-line\"></span>'));\n}\n\nexport function setup() {\n    const project = $('body').attr('data-project');\n    const isStitch = project === 'stitch' || project === 'realm';\n    if (isStitch) {\n        $currentPage = $('.sidebar a.current');\n        $currentPage.parent('li').addClass('selected-item');\n\n        handleTocSectionVisibility();\n        addNavigationHandlers();\n        addIcons();\n    }\n}\n","export function initialize() {\n    /* eslint-disable */\n}\n\nexport function setup(fastNav) {\n    return false;\n}\n","import {getTabPref, tabsEventDispatcher} from './componentTabs';\n\nconst STYLE_SELECTED = 'guide__deploymentpill--active';\nconst STYLE = 'guide__pill';\nconst STYLE_DEPLOY = 'guide__deploymentpill';\nconst STYLE_DEPLOYTEXT = 'show-current-deployment';\n\n\nfunction setToggleState(id) {\n    const elements = document.getElementsByClassName(STYLE);\n    for (let i = 0; i < elements.length; i += 1) {\n        const element = elements[i];\n        if (element.getAttribute('data-tabid') === id) {\n            elements[i].classList.add(STYLE_SELECTED);\n        } else {\n            elements[i].classList.remove(STYLE_SELECTED);\n        }\n    }\n    if (document.getElementsByClassName(STYLE_DEPLOYTEXT).length > 0) {\n        document.getElementsByClassName(STYLE_DEPLOYTEXT)[0].innerHTML = id;\n    }\n}\n\ntabsEventDispatcher.listen((ctx) => {\n    if (ctx.type === 'cloud') {\n        setToggleState(ctx.tabId);\n    }\n});\n\nfunction dispatchState(cloudState) {\n    tabsEventDispatcher.dispatch({\n        'isUserAction': true,\n        'tabId': cloudState,\n        'type': 'cloud'\n    });\n}\n\nfunction addListenersToPills(element) {\n    element.addEventListener('click', (event) => {\n        tabsEventDispatcher.dispatch({\n            'isUserAction': true,\n            'tabId': event.target.innerHTML,\n            'type': 'cloud'\n        });\n    });\n}\n\nfunction getTabNode(nodeName, pref) {\n    const element = document.createElement('li');\n    element.classList.add(STYLE);\n    element.classList.add(STYLE_DEPLOY);\n    element.setAttribute('data-tabid', nodeName);\n    element.innerHTML = nodeName;\n    addListenersToPills(element);\n    setToggleState(nodeName);\n    return element;\n}\n\nexport function setup() {\n    // we use a sort of reflection to figure out if this needs to display\n\n    const parent = document.getElementsByClassName('guide-prefs__deploy')[0];\n    if (parent === undefined) {\n        return;\n    }\n    if (document.getElementsByClassName('tabpanel-cloud').length === 0 &&\n        document.getElementsByClassName('guide-prefs__deploy').length > 0) {\n        document.getElementsByClassName('guide-prefs__deploy')[0].style.display = 'none';\n        return;\n    }\n    const tabPrefs = getTabPref();\n    if (tabPrefs.cloud === undefined) {\n        tabPrefs.cloud = 'local';\n    }\n    // setToggleState(tabPrefs.cloud);\n    const list = document.createElement('ul');\n    list.classList.add('guide__pills');\n    list.classList.add('pillstrip-declaration');\n    list.setAttribute('role', 'tablist');\n    list.setAttribute('data-tab-preference', 'cloud');\n    list.appendChild(getTabNode('cloud', tabPrefs.cloud));\n    list.appendChild(getTabNode('local', tabPrefs.cloud));\n    parent.appendChild(list);\n    setToggleState(tabPrefs.cloud);\n    dispatchState(tabPrefs.cloud);\n}\n","import {tabsEventDispatcher} from './componentTabs';\n\nconst LOCALSTORAGE_KEY_LOCAL = 'uriwriter_local';\nconst LOCALSTORAGE_KEY_ATLAS = 'uriwriter_atlas';\nconst LOCALSTORAGE_KEY_CURRENT_STATE = 'uriwriter_currentstate';\n\nconst TEMPLATE_TYPE_SELF_MANAGED = 'local';\nconst TEMPLATE_TYPE_REPLICA_SET = 'local with replica set';\nconst TEMPLATE_TYPE_ATLAS_36 = 'Atlas (Cloud) v. 3.6';\nconst TEMPLATE_TYPE_ATLAS_34 = 'Atlas (Cloud) v. 3.4';\nconst TEMPLATE_TYPE_ATLAS = 'Atlas (Cloud)';\n\nconst TEMPLATES = {\n  [TEMPLATE_TYPE_SELF_MANAGED]: {\n    options: [\n      {\n        name: 'authSource',\n        type: 'text',\n      },\n    ],\n    template:\n      'mongodb://$[username]:$[password]@$[hostlist]/$[database]?$[options]',\n    templatePasswordRedactedShell:\n      'mongodb://$[hostlist]/$[database]?$[options] --username $[username]',\n    templateShell:\n      'mongodb://$[username]:$[password]@$[hostlist]/$[database]?$[options]',\n  },\n  [TEMPLATE_TYPE_REPLICA_SET]: {\n    options: [\n      {\n        name: 'replicaSet',\n        type: 'text',\n      },\n      {\n        name: 'authSource',\n        type: 'text',\n      },\n      {\n        name: 'ssl',\n        type: 'pass-through',\n        value: 'true',\n      },\n    ],\n    template:\n      'mongodb://$[username]:$[password]@$[hostlist]/$[database]?$[options]',\n    templatePasswordRedactedShell:\n      'mongodb://$[hostlist]/$[database]?$[options] --username $[username] --password',\n    templateShell:\n      'mongodb://$[username]:$[password]@$[hostlist]/$[database]?$[options]',\n  },\n  [TEMPLATE_TYPE_ATLAS_36]: {\n    options: [],\n    template:\n      'mongodb+srv://$[username]:$[password]@$[hostlist]/$[database]?retryWrites=true',\n    templatePasswordRedactedShell:\n      'mongodb+srv://$[hostlist]/$[database] --username $[username] --password',\n    templateShell:\n      'mongodb+srv://$[username]:$[password]@$[hostlist]/$[database]',\n  },\n  [TEMPLATE_TYPE_ATLAS_34]: {\n    options: [\n      {\n        name: 'replicaSet',\n        type: 'text',\n      },\n      {\n        name: 'authSource',\n        type: 'text',\n      },\n      {\n        name: 'ssl',\n        type: 'pass-through',\n        value: 'true',\n      },\n    ],\n    template:\n      'mongodb://$[username]:$[password]@$[hostlist]/$[database]?$[options]',\n    templatePasswordRedactedShell:\n      'mongodb://$[hostlist]/$[database]?replicaSet=$[replicaSet] --ssl --authenticationDatabase $[authSource] --username $[username] --password',\n    templateShell:\n      'mongodb://$[hostlist]/$[database]?replicaSet=$[replicaSet] --ssl --authenticationDatabase $[authSource] --username $[username] --password $[password]',\n  },\n};\n\nfunction getValue(value, option) {\n  if (option.type === 'pass-through') {\n    return option.value;\n  }\n\n  return value;\n}\n\nfunction getPrefix(uri) {\n  if (uri.charAt(0) === \"'\" || uri.charAt(0) === '\"') {\n    return uri.charAt(0);\n  }\n  return '';\n}\n\nconst PLACEHOLDER_PATTERN =\n  /&lt;(?:(?:URISTRING(?:_(?:(?:SHELL_NOUSER)|(?:SHELL)))?)|(?:USERNAME))&gt;/g;\nfunction preparseUristrings() {\n  const elements = document.getElementsByTagName('pre');\n  for (let i = 0; i < elements.length; i += 1) {\n    elements[i].innerHTML = elements[i].innerHTML.replace(\n      PLACEHOLDER_PATTERN,\n      '<span class=\"uristring-element\">$&</span>'\n    );\n  }\n}\n\nfunction validateHost(host) {\n  const parsed = /^\\s*([^:\\s]+)(?::(\\d+))?\\s*$/.exec(host);\n  if (!parsed) {\n    throw new Error(\n      'Invalid host format: must match the format \"hostname:port\"'\n    );\n  }\n\n  const port = parseInt(parsed[2], 10);\n  if (isNaN(port)) {\n    throw new Error('Missing port: host must match the format \"hostname:port\"');\n  }\n\n  if (port > 65535) {\n    throw new Error('Port number is too large');\n  }\n\n  return [parsed[1], port];\n}\n\nfunction conveyInvalidParse(statusElement) {\n  statusElement.classList.add('mongodb-form__status--invalid');\n  statusElement.classList.remove('mongodb-form__status--good');\n  statusElement.style.display = '';\n  statusElement.innerText = 'Connection string could not be parsed';\n  // do something? email?\n}\n\nfunction conveyValidParse(statusElement) {\n  statusElement.classList.add('mongodb-form__status--good');\n  statusElement.classList.remove('mongodb-form__status--invalid');\n  statusElement.style.display = '';\n  statusElement.innerText = 'Connection string parsed';\n}\n\nfunction splitOptions(tempWriter, arrayOfMatches) {\n  const settingsArray = arrayOfMatches.split('&');\n  if (settingsArray.length > 0) {\n    for (let i = 0; i < settingsArray.length; i += 1) {\n      const keyValue = settingsArray[i].split('=');\n      tempWriter[keyValue[0]] = keyValue[1];\n    }\n  }\n}\n\nclass HostList {\n  constructor(rootElement, uriWriter) {\n    this.root = rootElement;\n\n    this.uriWriter = uriWriter;\n    this.elementPairs = [];\n    this.updateHostsFromUriWriter();\n  }\n\n  get hosts() {\n    return this.elementPairs\n      .map(pair => pair[0].value.trim())\n      .filter(host => host);\n  }\n\n  get lastInput() {\n    return this.elementPairs[this.elementPairs.length - 1][0];\n  }\n\n  updateHostsFromUriWriter() {\n    this.elementPairs = [];\n    this.root.innerText = '';\n    const state = this.uriWriter.loadState(this.uriWriter.loadCurrentState());\n    for (const host of state.hostlist || []) {\n      this.addHost(host);\n    }\n\n    this.addHost();\n  }\n\n  addHost(host) {\n    const inputElement = document.createElement('input');\n    inputElement.className = 'mongodb-form__input';\n    inputElement.placeholder = 'localhost:27017';\n    inputElement.value = host || '';\n    const statusElement = document.createElement('div');\n    statusElement.className = 'mongodb-form__status';\n\n    inputElement.oninput = () => {\n      if (inputElement.value) {\n        if (this.lastInput === inputElement) {\n          this.addHost();\n        }\n      } else if (this.lastInput !== inputElement) {\n        this.elementPairs = this.elementPairs.filter(\n          x => x[0] !== inputElement\n        );\n        this.root.removeChild(inputElement);\n        this.root.removeChild(statusElement);\n\n        this.uriWriter.setHosts(this.hosts);\n        return;\n      }\n\n      try {\n        validateHost(inputElement.value);\n      } catch (err) {\n        inputElement.setCustomValidity(err.message);\n        statusElement.innerText = err.message;\n        statusElement.classList.add('mongodb-form__status--invalid');\n        return;\n      }\n\n      statusElement.innerText = '';\n      statusElement.classList.remove('mongodb-form__status--invalid');\n      inputElement.setCustomValidity('');\n\n      this.uriWriter.setHosts(this.hosts);\n    };\n\n    this.root.appendChild(inputElement);\n    this.root.appendChild(statusElement);\n    this.elementPairs.push([inputElement, statusElement]);\n  }\n}\n\nlet uriwriterSingleton = null;\nclass UriwriterSingleton {\n  constructor() {\n    // an array of DOM objects that care about changes to the URI\n    this.uristowrite = [];\n    this.usernamestowrite = [];\n    this.uristowritepasswordredactedshell = [];\n    this.uristowriteshell = [];\n    // this.uristringPasswordRedacted = 'mongodb://$[hostlist]/$[database]?$[options]';\n    this.urireplacestring = '';\n    this.options = {};\n\n    this.hostList = null;\n\n    // setup listeners on the page to changes in uri fields (view)\n    this.setupURIListeners();\n    // calculate and propagate the URI (controller)]\n    this.loadTemplateEnv();\n    this.renderURI();\n    this.registerDispatch();\n  }\n\n  loadTemplateEnv() {\n    if (this.loadState(this.loadCurrentState()).env === undefined) {\n      if (\n        this.loadCurrentState() === 'local' ||\n        this.loadCurrentState() === 'undefined'\n      ) {\n        this.saveState({env: TEMPLATE_TYPE_SELF_MANAGED}, 'local');\n      } else {\n        this.saveState({env: TEMPLATE_TYPE_ATLAS_36}, 'cloud');\n      }\n    }\n  }\n\n  // get stuff related to this component out of local storage\n  loadState(atlas) {\n    if (atlas === 'cloud') {\n      return (\n        JSON.parse(window.localStorage.getItem(LOCALSTORAGE_KEY_ATLAS)) || {}\n      );\n    }\n    return (\n      JSON.parse(window.localStorage.getItem(LOCALSTORAGE_KEY_LOCAL)) || {}\n    );\n  }\n\n  // put stuff related to this coponent in local storage, we only set\n  // the whole thing, not portions\n  saveState(state, atlas) {\n    if (atlas === 'cloud') {\n      window.localStorage.setItem(\n        LOCALSTORAGE_KEY_ATLAS,\n        JSON.stringify(state)\n      );\n    } else {\n      window.localStorage.setItem(\n        LOCALSTORAGE_KEY_LOCAL,\n        JSON.stringify(state)\n      );\n    }\n  }\n\n  loadCurrentState() {\n    return window.localStorage.getItem(LOCALSTORAGE_KEY_CURRENT_STATE);\n  }\n\n  saveCurrentState(atlasState) {\n    window.localStorage.setItem(LOCALSTORAGE_KEY_CURRENT_STATE, atlasState);\n  }\n\n  // add or modify a value in our uriwriter in local storage.\n  addValue(key, value) {\n    const uriwriter = this.loadState(this.loadCurrentState());\n    if (key !== 'atlaspasteduri' && key !== 'env') {\n      delete uriwriter.atlaspasteduri;\n    }\n    uriwriter[key] = value;\n    this.saveState(uriwriter, this.loadCurrentState());\n  }\n\n  // setup view hooks to change when data or environment changes\n  setupURIListeners() {\n    preparseUristrings();\n    const list = document.getElementsByClassName('uristring-element');\n    for (let i = 0; i < list.length; i += 1) {\n      if (list[i].innerHTML.indexOf('&lt;URISTRING&gt;') > -1) {\n        this.uristowrite.push(list[i]);\n      }\n      if (list[i].innerHTML.indexOf('&lt;USERNAME&gt;') > -1) {\n        this.usernamestowrite.push(list[i]);\n      }\n      if (list[i].innerHTML.indexOf('&lt;URISTRING_SHELL&gt;') > -1) {\n        this.uristowriteshell.push(list[i]);\n      }\n      if (list[i].innerHTML.indexOf('&lt;URISTRING_SHELL_NOUSER&gt;') > -1) {\n        this.uristowritepasswordredactedshell.push(list[i]);\n      }\n    }\n  }\n\n  writeToPlaceholders() {\n    for (let i = 0; i < this.uristowrite.length; i += 1) {\n      const prefix = getPrefix(this.uristowrite[i].innerHTML);\n      this.uristowrite[\n        i\n      ].innerHTML = `${prefix}${this.urireplacestring}${prefix}`;\n    }\n    for (let i = 0; i < this.uristowritepasswordredactedshell.length; i += 1) {\n      this.uristowritepasswordredactedshell[i].innerHTML =\n        this.urireplacestringPasswordRedactedShell;\n    }\n    for (let i = 0; i < this.uristowriteshell.length; i += 1) {\n      this.uristowriteshell[i].innerHTML = this.urireplacestringShell;\n    }\n    // node use case for separation of username out of uri for encoding\n    for (let i = 0; i < this.usernamestowrite.length; i += 1) {\n      this.usernamestowrite[i].innerHTML = this.username;\n    }\n  }\n\n  setEnvironment(env) {\n    const isAtlas = env.startsWith(TEMPLATE_TYPE_ATLAS);\n    if (isAtlas) {\n      this.saveCurrentState('cloud');\n    } else {\n      this.saveCurrentState('local');\n    }\n    const state = this.loadState(this.loadCurrentState());\n    const haveWidgetOnPage = Boolean(document.getElementById('uriwriter'));\n    if (isAtlas && haveWidgetOnPage) {\n      document.getElementsByClassName(\n        'atlascontrols__status'\n      )[0].style.display = 'none';\n\n      if (state.atlaspasteduri !== undefined) {\n        // move all of this to an encapsulating function;\n        this.parseIncomingAtlasString(state.atlaspasteduri);\n        this.renderURI();\n        this.populateForm();\n        return;\n      }\n    }\n\n    if (\n      (state !== undefined &&\n        state.env !== undefined &&\n        state.env.startsWith(TEMPLATE_TYPE_ATLAS)) ||\n      isAtlas\n    ) {\n      // this.saveState({});\n\n      if (haveWidgetOnPage) {\n        this.hostList.updateHostsFromUriWriter();\n      }\n    }\n\n    this.addValue('env', env);\n    this.renderURI();\n\n    if (haveWidgetOnPage) {\n      this.populateForm();\n    }\n  }\n\n  toggleEnvironmentExternal(atlas) {\n    const element = document.getElementById('deployment_type');\n    if (atlas === 'cloud') {\n      element.style.display = 'none';\n    } else {\n      element.style.display = 'block';\n    }\n  }\n  // this is the listener that is triggered when an environment select happens\n  setupEnvironmentListeners() {\n    const elements = document.getElementsByClassName('uriwriter__toggle');\n    let initiallySelected = this.loadState(this.loadCurrentState()).env;\n    if (\n      initiallySelected === TEMPLATE_TYPE_ATLAS_36 ||\n      initiallySelected === TEMPLATE_TYPE_ATLAS_34\n    ) {\n      initiallySelected = TEMPLATE_TYPE_ATLAS;\n    }\n\n    for (let i = 0; i < elements.length; i += 1) {\n      if (initiallySelected === elements[i].innerHTML) {\n        elements[i].classList.add('guide__pill--active');\n      }\n\n      elements[i].onclick = event => {\n        const element = event.target;\n\n        const parentChildren = element.parentElement.children;\n        for (\n          let childIndex = 0;\n          childIndex < parentChildren.length;\n          childIndex += 1\n        ) {\n          parentChildren[childIndex].classList.remove('guide__pill--active');\n        }\n\n        element.classList.add('guide__pill--active');\n        this.setEnvironment(element.innerHTML);\n      };\n    }\n  }\n\n  // controller for writing the uri out to the listening html\n  renderURI() {\n    // User is in Atlas placeholder mode, no template defined. Can't render a uri.\n    // or should we default?\n    if (this.loadState(this.loadCurrentState()).env === TEMPLATE_TYPE_ATLAS) {\n      this.addValue('env', TEMPLATE_TYPE_ATLAS_36);\n    }\n    // we have a basic idea of the environment, get the associated uri template\n    const template = TEMPLATES[this.loadState(this.loadCurrentState()).env];\n\n    if (!template) {\n      return;\n    }\n\n    // the placeholder uri string template\n    this.uristring = template.template;\n    // options are environment specific settings that need to go in the uri\n    this.options = template.options;\n    // no we do our replacing of template fields\n    this.urireplacestring = this.replaceString(this.uristring, '&');\n    // on the redacted one as well\n    this.urireplacestringShell = this.replaceString(\n      template.templateShell,\n      ','\n    );\n    this.urireplacestringPasswordRedactedShell = this.replaceString(\n      template.templatePasswordRedactedShell,\n      ','\n    );\n    this.username = this.loadState(this.loadCurrentState()).username;\n    this.writeToPlaceholders();\n  }\n\n  optionStringifier(options, optionJoinCharacter) {\n    const parts = [];\n    const state = this.loadState(this.loadCurrentState());\n\n    for (let i = 0; i < this.options.length; i += 1) {\n      const option = this.options[i];\n      const name = option.name;\n      let value = getValue(state[name], option);\n      if (!value) {\n        if (option.placeholder) {\n          value = option.placeholder;\n        } else {\n          value = `$[${name}]`;\n        }\n      }\n      parts.push(`${name}=${value}`);\n    }\n\n    return parts.join(optionJoinCharacter);\n  }\n\n  replaceString(localUriString, optionJoinCharacter) {\n    const state = this.loadState(this.loadCurrentState());\n\n    // replace hardcoded plaments (why oh why do we do this????)\n    if (state.username) {\n      localUriString = localUriString.replace('$[username]', state.username);\n    }\n    if (state.database) {\n      localUriString = localUriString.replace('$[database]', state.database);\n    }\n    if (state.authSource) {\n      localUriString = localUriString.replace(\n        '$[authSource]',\n        state.authSource\n      );\n    }\n    if (state.replicaSet) {\n      localUriString = localUriString.replace(\n        '$[replicaSet]',\n        state.replicaSet\n      );\n    }\n\n    // replace options where they exist\n    const optionsString = this.optionStringifier(\n      this.options,\n      optionJoinCharacter\n    );\n\n    if (optionsString.length > 0) {\n      localUriString = localUriString.replace('$[options]', optionsString);\n    }\n\n    // get our hosts and ports in\n    if (state.hostlist && state.hostlist.length > 0) {\n      localUriString = localUriString.replace(\n        '$[hostlist]',\n        state.hostlist.join(',')\n      );\n    }\n\n    return localUriString;\n  }\n\n  renderOptions() {\n    const elements = document.getElementsByClassName(\n      'uriwriter__option-prompt'\n    );\n    while (elements.length > 0) {\n      elements[0].parentElement.removeChild(elements[0]);\n    }\n\n    if (this.options && this.options.length > 0) {\n      for (let i = 0; i < this.options.length; i += 1) {\n        if (this.options[i].type !== 'pass-through') {\n          this.renderOption(this.options[i]);\n        }\n      }\n    }\n  }\n\n  renderOption(option) {\n    const optionElement = document.createElement('label');\n    optionElement.className = 'mongodb-form__prompt uriwriter__option-prompt';\n\n    const label = document.createElement('div');\n    label.className = 'mongodb-form__label';\n    label.innerText = option.name;\n\n    const inputElement = document.createElement('input');\n    inputElement.setAttribute('id', option.name);\n    if (option.placeholder) {\n      inputElement.setAttribute('placeholder', option.placeholder);\n    }\n    inputElement.className = 'mongodb-form__input';\n    if (this.loadState(this.loadCurrentState())[option.name] !== undefined) {\n      inputElement.value = this.loadState(this.loadCurrentState())[option.name];\n    }\n    inputElement.addEventListener('input', event => {\n      this.addValue(option.name, document.getElementById(option.name).value);\n      this.renderURI();\n    });\n\n    optionElement.appendChild(label);\n    optionElement.appendChild(inputElement);\n\n    const serverPromptElement = document.querySelector(\n      '[data-server-configuration]'\n    );\n    serverPromptElement.parentElement.insertBefore(\n      optionElement,\n      serverPromptElement\n    );\n  }\n\n  initializeWidget() {\n    if (!document.getElementById('uriwriter')) {\n      return;\n    }\n\n    this.hostList = new HostList(document.getElementById('hostlist'), this);\n\n    document\n      .getElementById('uriwriter_username')\n      .addEventListener('input', event => {\n        this.addValue('username', event.target.value);\n        this.renderURI();\n      });\n\n    const atlaspaste = document.getElementById('uriwriter_atlaspaste');\n    const statusElement = document.getElementsByClassName(\n      'atlascontrols__status'\n    )[0];\n\n    atlaspaste.oninput = event => {\n      const pastedValue = atlaspaste.value;\n      if (!pastedValue.trim()) {\n        statusElement.style.display = 'none';\n        atlaspaste.setCustomValidity('');\n        return;\n      }\n\n      if (!this.parseIncomingAtlasString(pastedValue)) {\n        atlaspaste.setCustomValidity('Failed to parse');\n        conveyInvalidParse(statusElement);\n      } else {\n        atlaspaste.setCustomValidity('');\n        this.addValue('atlaspasteduri', pastedValue);\n        conveyValidParse(statusElement);\n        this.renderURI();\n        this.populateForm();\n      }\n    };\n\n    document.getElementById('uriwriter_db').addEventListener('input', event => {\n      this.addValue('database', document.getElementById('uriwriter_db').value);\n      this.renderURI();\n    });\n    this.setupEnvironmentListeners();\n    this.populateForm();\n  }\n\n  renderFormValues() {\n    const state = this.loadState(this.loadCurrentState());\n    const atlasControlsElement = document.getElementsByClassName(\n      'uriwriter__atlascontrols'\n    )[0];\n    if (\n      state.env === TEMPLATE_TYPE_SELF_MANAGED ||\n      state.env === TEMPLATE_TYPE_REPLICA_SET\n    ) {\n      atlasControlsElement.style.display = 'none';\n      document.getElementById('userinfo_form').style.display = '';\n    } else {\n      document.getElementById('uriwriter_atlaspaste').value =\n        state.atlaspasteduri || '';\n\n      if (state.atlaspasteduri !== undefined) {\n        atlasControlsElement.style.display = '';\n      } else {\n        atlasControlsElement.style.display = 'none';\n      }\n\n      document.getElementById('userinfo_form').style.display = 'none';\n      atlasControlsElement.style.display = '';\n      return;\n    }\n    if (state.username !== undefined) {\n      document.getElementById('uriwriter_username').value = state.username;\n    }\n    if (state.database !== undefined) {\n      document.getElementById('uriwriter_db').value = state.database;\n    }\n  }\n\n  /** IP related functions **/\n\n  setHosts(hostlist) {\n    const uriwriter = this.loadState(this.loadCurrentState());\n    uriwriter.hostlist = hostlist;\n    this.saveState(uriwriter, this.loadCurrentState());\n    this.renderURI();\n  }\n\n  populateForm() {\n    this.toggleEnvironmentExternal(this.loadCurrentState());\n    this.renderOptions();\n    this.renderFormValues();\n    this.hostList = new HostList(document.getElementById('hostlist'), this);\n  }\n\n  registerDispatch() {\n    tabsEventDispatcher.listen(ctx => {\n      if (!uriwriterSingleton) {\n        return;\n      }\n      this.renderURI();\n      if (ctx.type !== 'cloud') {\n        return;\n      }\n      // tricky: we only want to change the pill state on toggle\n      if (ctx.tabId === 'cloud') {\n        if (this.loadCurrentState() === 'cloud') {\n          return;\n        }\n        this.saveCurrentState('cloud');\n        this.loadTemplateEnv();\n        this.renderURI();\n        // this.toggleEnvironmentExternal('cloud');\n      } else {\n        if (this.loadCurrentState() === 'local') {\n          return;\n        }\n        this.saveCurrentState('local');\n        this.loadTemplateEnv();\n        this.renderURI();\n        // this.toggleEnvironmentExternal('local');\n      }\n      const haveWidgetOnPage = Boolean(document.getElementById('uriwriter'));\n      if (haveWidgetOnPage) {\n        this.populateForm();\n      }\n    });\n  }\n\n  /** Atlas copy paste parse and processing **/\n\n  parseOutShellParams(splitOnSpace, tempWriter) {\n    // go through all of the command line args, parse\n    for (let i = 0; i < splitOnSpace.length; i += 1) {\n      if (splitOnSpace[i].startsWith('--')) {\n        // this is a key, if next val does not begin with --, its a value\n        if (!splitOnSpace[i + 1].startsWith('--')) {\n          let splitKey = splitOnSpace[i].replace('--', '');\n          let splitValue = splitOnSpace[i + 1];\n\n          if (splitKey === 'authenticationDatabase') {\n            splitKey = 'authSource';\n          }\n\n          // sometimes the next string is another parameter,\n          // ignore those as they are canned\n          if (!splitValue.startsWith('--')) {\n            // get rid of brackets which can cause problems with our inline code\n            splitValue = splitValue.replace('<', '').replace('>', '');\n            tempWriter[splitKey] = splitValue;\n          }\n        }\n      }\n    }\n  }\n\n  parseOutURIParams(shellString, tempWriter) {\n    const uriParamArray = shellString.split('&');\n    for (let i = 0; i < uriParamArray.length; i += 1) {\n      const keyValueString = uriParamArray[i];\n      const keyValueArray = keyValueString.split('=');\n      tempWriter[keyValueArray[0]] = keyValueArray[1];\n    }\n  }\n\n  parseOutEnvAndClusters(splitOnSpaceClusterEnv, tempWriter) {\n    // depending on whether this is 3.6 or 3.4 the cluster info looks slightly different\n    // 3.4 uses the URI to pass in a replica set name\n    let shellMatch = /(\\w+):\\/\\/((\\S+)(:)+(\\S+))\\/(\\w+)?\\?(\\S+)/;\n    const shellMatch36 = /((\\w+)\\+(\\w+)):\\/\\/((\\S+))\\/(\\w+)/;\n    if (splitOnSpaceClusterEnv.startsWith('mongodb+srv')) {\n      shellMatch = shellMatch36;\n    }\n    const shellArray = splitOnSpaceClusterEnv.match(shellMatch);\n    // add length check here?\n    if (shellArray[1] === 'mongodb') {\n      tempWriter.env = TEMPLATE_TYPE_ATLAS_34;\n      const hostListString = shellArray[2];\n      tempWriter.hostlist = hostListString.split(',');\n      this.parseOutURIParams(shellArray[7], tempWriter);\n    } else {\n      tempWriter.env = TEMPLATE_TYPE_ATLAS_36;\n      tempWriter.hostlist = [shellArray[4]];\n    }\n    tempWriter.database = shellArray[6];\n  }\n\n  parseShell(atlasString, tempWriter) {\n    // split out the mongo and parse the rest\n    const splitOnSpace = atlasString.split(' ');\n    let splitOnSpaceClusterEnv = splitOnSpace[1];\n    // get rid of double quotes\n    splitOnSpaceClusterEnv = splitOnSpaceClusterEnv.replace(/\"/g, '');\n    // get command line args\n    this.parseOutShellParams(splitOnSpace, tempWriter);\n    // get the cluster information\n    this.parseOutEnvAndClusters(splitOnSpaceClusterEnv, tempWriter);\n\n    this.saveState(tempWriter, 'cloud');\n\n    // we need to define success\n    return true;\n  }\n\n  // get the pasted string and parse it out\n  parseIncomingAtlasString(pastedValue) {\n    if (pastedValue === undefined) {\n      return false;\n    }\n    // trim any carriage return line feed business\n    pastedValue = pastedValue.replace(/[\\n\\r]+/g, '').trim();\n    if (pastedValue !== null) {\n      const status = this.parseAtlasString(pastedValue);\n      this.hostList.updateHostsFromUriWriter();\n      return status;\n    }\n    return false;\n  }\n\n  // this is a 3.4 URI\n  // mongodb://<USERNAME>:<PASSWORD>@cluster0-shard-00-00-juau5.mongodb.net:27017,cluster0-shard-00-01-juau5.mongodb.net:27017,cluster0-shard-00-02-juau5.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin\n  parseTo3dot4(atlasString, tempWriter) {\n    tempWriter.env = TEMPLATE_TYPE_ATLAS_34;\n    // save the environment selection\n    this.saveState(tempWriter, 'cloud');\n    tempWriter = this.loadState(this.loadCurrentState());\n    const re = /(\\S+):\\/\\/(\\S+):(\\S*)@(\\S+)\\/(\\S+)\\?(\\S+)/;\n    const matchesArray = atlasString.match(re);\n    if (!matchesArray) {\n      return false;\n    }\n\n    tempWriter.username = matchesArray[2];\n    tempWriter.hostlist = matchesArray[4].split(',');\n    tempWriter.database = matchesArray[5];\n    splitOptions(tempWriter, matchesArray[6]);\n    this.saveState(tempWriter, this.loadCurrentState());\n    return true;\n  }\n\n  // this is a 3.6 url, parse accordingly\n  // ex: mongodb+srv://<USERNAME>:<PASSWORD>@cluster0-juau5.mongodb.net/test\n  parseTo3dot6(atlasString, tempWriter) {\n    tempWriter.env = TEMPLATE_TYPE_ATLAS_36;\n    // save the environment selection\n    this.saveState(tempWriter, 'cloud');\n    tempWriter = this.loadState(this.loadCurrentState());\n    // regexp for 3.6 format\n    const re = /(\\S+):\\/\\/(\\S+):(\\S*)@(\\S+)\\/([^\\s?]+)\\?/;\n    const matchesArray = atlasString.match(re);\n    if (!matchesArray) {\n      return false;\n    }\n\n    tempWriter.username = matchesArray[2];\n    tempWriter.havePassword = Boolean(matchesArray[3]);\n    tempWriter.hostlist = [matchesArray[4]];\n    tempWriter.database = matchesArray[5];\n    this.saveState(tempWriter, this.loadCurrentState());\n    return true;\n  }\n\n  parseAtlasString(atlasString) {\n    const tempWriter = this.loadState('true');\n    // add shell parser here\n    if (atlasString.indexOf(' --') > -1) {\n      return this.parseShell(atlasString, tempWriter);\n    }\n    if (atlasString.startsWith('mongodb+srv')) {\n      return this.parseTo3dot6(atlasString, tempWriter);\n    }\n    return this.parseTo3dot4(atlasString, tempWriter);\n  }\n}\n\n// Create Uriwriter\nexport function setup() {\n  uriwriterSingleton = new UriwriterSingleton();\n  uriwriterSingleton.initializeWidget();\n}\n","function fullDocsPath(base) {\n    const body = document.getElementsByClassName('body')[0];\n    let path = body.getAttribute('data-pagename');\n\n    // skip if pagename is undefined (index.html)\n    if (path === 'index') {\n        path = '';\n    } else if (path) {\n        path = `${path}/`;\n    }\n\n    return `/${base}/${path}`;\n}\n\nexport function setup() {\n    $('.version-selector').on('click', (e) => {\n        e.preventDefault();\n        const base = $(e.currentTarget).data('path');\n        window.location.href = fullDocsPath(base);\n    });\n}\n","import * as componentCatTrack from '../js/componentCatTrack';\nimport * as componentAccordion from '../js/componentAccordion';\nimport * as componentCloseOpen from '../js/componentCloseOpen';\nimport * as componentCodeBlockFix from '../js/componentCodeBlockFix';\nimport * as componentCopyButtons from '../js/componentCopyButtons';\nimport * as componentEcosystemLinkTrack from '../js/componentEcosystemLinkTrack';\nimport * as componentFastLoad from '../js/componentFastLoad';\nimport * as componentFeedback from '../js/componentFeedback';\nimport * as componentGuides from '../js/componentGuides';\nimport * as componentLightbox from '../js/componentLightbox';\nimport * as componentOpenAPI from '../js/componentOpenAPI';\nimport * as componentOpenLink from '../js/componentOpenLink';\nimport * as componentPillStrip from '../js/componentPillStrip';\nimport * as componentSidebar from '../js/componentSidebar';\nimport * as componentStitchSidebar from '../js/componentStitchSidebar';\nimport * as componentTabs from '../js/componentTabs';\nimport * as componentThirdParty from '../js/componentThirdParty';\nimport * as componentToggleController from '../js/componentToggleController';\nimport * as componentUriWriter from '../js/componentUriwriter';\nimport * as componentVersionSelector from '../js/componentVersionSelector';\n\nclass FastNav {\n  constructor() {\n    this.components = [];\n  }\n\n  register(component) {\n    this.components.push(component);\n    if (component.init) {\n      component.init();\n    }\n  }\n\n  update() {\n    for (const component of this.components) {\n      component.setup(this);\n    }\n\n    // The anchor we wanted might have shifted around the page.\n    // Reload to make sure that we're at the right place.\n    if (window.location.hash) {\n      window.location.hash = window.location.hash; // eslint-disable-line no-self-assign\n    }\n  }\n}\nconst fastNav = new FastNav();\n\n$(() => {\n  // Monkey-patch jQuery to add the removed load() event handler.\n  // This is required by the JIRA issue collector \n  jQuery.fn.load = function (callback) {\n    $(window).on('load', callback);\n  };\n\n  componentThirdParty.initialize();\n\n  fastNav.register(componentCatTrack);\n  fastNav.register(componentCodeBlockFix);\n  fastNav.register(componentCopyButtons);\n  fastNav.register(componentEcosystemLinkTrack);\n  fastNav.register(componentFastLoad);\n  fastNav.register(componentFeedback);\n  fastNav.register(componentLightbox);\n  fastNav.register(componentSidebar);\n  fastNav.register(componentStitchSidebar);\n  // Must precede componentTabs\n  fastNav.register(componentPillStrip);\n  fastNav.register(componentTabs);\n  fastNav.register(componentVersionSelector);\n  fastNav.register(componentThirdParty);\n  fastNav.register(componentGuides);\n  fastNav.register(componentOpenAPI);\n  fastNav.register(componentUriWriter);\n  fastNav.register(componentToggleController);\n  fastNav.register(componentCloseOpen);\n  fastNav.register(componentAccordion);\n  fastNav.register(componentOpenLink);\n\n  /* Hide toc if there aren't any items */\n  if (!$('.toc > ul > li > ul > li').length) {\n    $('.right-column .toc').hide();\n  }\n\n  /* Expand/collapse navbar on narrower viewports */\n  $('.expand-toc-icon').on('click', e => {\n    e.preventDefault();\n    $('.sidebar').toggleClass('reveal');\n  });\n\n  /* Reset the sidebar when the viewport is wider than tablet size */\n  const $window = $(window);\n  const $sidebar = $('.sidebar');\n  let isTabletWidth = $window.width() <= 1093;\n  $window.resize(_e => {\n    if (isTabletWidth && $window.width() > 1093) {\n      isTabletWidth = false;\n      $sidebar.removeClass('reveal');\n    } else if (!isTabletWidth && $window.width() <= 1093) {\n      isTabletWidth = true;\n    }\n  });\n\n  // Update dynamic page features\n  fastNav.update();\n\n  if (document.querySelector) {\n    // Scroll so that the selected navbar element is in view.\n    const current = document.querySelector('a.current');\n    if (current) {\n      current.scrollIntoView(false);\n    }\n  }\n});\n"],"names":["key","__ctlst_authkey","window","__cat_track_event","log","isLeafNode","$node","siblings","length","toArray","arrayLike","result","i","push","requiresPageload","docsExcludedNav","href","indexOf","reportAnalytics","eventName","data","Dispatcher","listeners","handler","ctx","this","COLLAPSED_PROPERTY","accordionShowHide","element","classList","toggle","control","querySelector","innerHTML","innerText","contains","accordionElements","document","getElementsByClassName","addEventListener","bind","showNavButton","getElementById","onclick","style","display","closeNavButton","fixCodeBlock","block","Boolean","isLineNumberBlock","isCaptionBlock","buttonRow","caption","parentNode","insertBefore","nextSibling","tableBody","childNodes","tableButtonRow","createElement","linenosSpacer","buttonRowDestination","className","firstChild","appendChild","codeblocks","codeblock","TOOLTIP_STATE_ACTIVE","TOOLTIP_STATE_INACTIVE","isCopyableCodeBlock","copyableBlocks","filter","highlightElement","copyButton","popupElement","add","closePopupTimer","tempElement","position","body","f","timeoutID","ms","text","trim","value","select","execCommand","Error","replace","clearTimeout","setTimeout","err","error","removeChild","code","reportClick","anchorElement","dataset","project","includes","location","anchors","querySelectorAll","anchor","hash","el","slice","scrollIntoView","fastNav","$","attr","undefined","history","XMLHttpRequest","responseURL","navRootElement","bodyElement","curLoading","abortLoading","xhr","abort","loadPage","createHistory","remove","startTime","Date","url","options","onload","status","success","responseText","complete","onerror","open","send","xhrGet","pageText","trueUrl","enlapsedMs","pushState","page","title","textContent","newBody","newNav","parentElement","replaceChild","update","onnavigate","scroll","replaceState","nodes","handleClickFunction","ev","button","shiftKey","altKey","metaKey","ctrlKey","preventDefault","currentTarget","node","util","onpopstate","state","emptyFunction","emptyFunctionWithReset","resetWarningCache","module","shim","props","propName","componentName","propFullName","secret","ReactPropTypesSecret","name","getShim","isRequired","ReactPropTypes","array","bigint","bool","func","number","object","string","symbol","any","arrayOf","elementType","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","require$$0","VNode","stack","EMPTY_CHILDREN","h","nodeName","attributes","lastSimple","child","simple","children","arguments","pop","String","p","extend","obj","defer","Promise","resolve","then","IS_NON_DIMENSIONAL","items","enqueueRender","component","_dirty","rerender","list","renderComponent","isNamedNode","normalizedNodeName","toLowerCase","getNodeProps","vnode","defaultProps","removeNode","setAccessor","old","isSvg","cssText","test","__html","useCapture","substring","eventProxy","removeEventListener","_listeners","e","removeAttribute","ns","removeAttributeNS","setAttributeNS","setAttribute","type","mounts","diffLevel","isSvgMode","hydrating","flushMounts","c","componentDidMount","diff","dom","context","mountAll","parent","componentRoot","ownerSVGElement","ret","idiff","out","prevSvgMode","splitText","_component","nodeValue","createTextNode","recollectNodeTree","vnodeName","originalComponent","oldDom","isDirectOwner","_componentConstructor","isOwner","_parentComponent","constructor","setComponentProps","base","unmountComponent","createComponent","nextBase","buildComponentFromVNode","createElementNS","fc","vchildren","a","isHydrating","j","vchild","originalChildren","keyed","keyedLen","min","len","childrenLen","vlen","_child","__key","innerDiffNode","dangerouslySetInnerHTML","attrs","diffAttributes","unmountOnly","ref","removeChildren","lastChild","next","previousSibling","recyclerComponents","Ctor","inst","prototype","render","Component","call","doRender","splice","renderMode","_disable","__ref","getDerivedStateFromProps","componentWillMount","componentWillReceiveProps","prevContext","prevProps","syncComponentUpdates","isChild","rendered","cbase","previousProps","previousState","prevState","previousContext","isUpdate","initialBase","initialChildComponent","skip","snapshot","shouldComponentUpdate","componentWillUpdate","getChildContext","getSnapshotBeforeUpdate","toUnmount","childComponent","childProps","baseParent","componentRef","t","unshift","componentDidUpdate","_renderCallbacks","componentWillUnmount","inner","setState","callback","forceUpdate","preact","cloneElement","merge","FreeformQuestion","handleChange","_this","hasError","store","target","set","setCustomValidity","errorText","placeholder","visibility","propTypes","InputField","inputType","STATE_INITIAL","MainWidget","onSubmitFeedback","onInitialVote","toggleVisibility","savedFeedbackState","JSON","parse","sessionStorage","getItem","closed","event","stopPropagation","setItem","stringify","_this2","canShowSuggestions","voteAcknowledgement","delugeBodyClass","delugeClass","class","id","_this3","Deluge","crypto","msCrypto","buf","Uint8Array","getRandomValues","btoa","Array","map","fromCharCode","ch","join","onSubmitVote","eventObj","user","analytics","segmentUID","toString","segmentAnonymousID","anonymousId","track","vote","sendVote","catch","fields","answers","keys","Object","sendFeedback","val","input","emailError","values","every","_this4","handleOpenDrawer","makeStore","validateEmail","SuggestionCard","pageName","suggestion","urlWithParams","encodeURIComponent","description","EmptyCard","handleDismissCard","SuggestionCardList","suggestionCards","suggestions","Suggestion","bodyElements","handleCloseDrawer","getAttribute","showThankYouMessage","drawerIsOpen","bodyDisplay","whitelist","Widgets","isSuggestionPage","path","drawerHasOpened","ratingPanelElement","blacklist","localStorage","pagename","getPageName","rootElement","_widgetsRendered","tabsEventDispatcher","getTabPref","setTabPref","pref","anonymous","tabPref","pages","pathname","tabId","tabSets","TabSet","tabType","tabStripElements","tabContents","tabStrips","tabIds","tabsElement","tabBars","mainTabBar","first","detach","insertAfter","initRect","getBoundingClientRect","offset","scrollY","y","rects","scrollTo","x","isUserAction","getFirstTabId","dispatch","currentAttrValue","tabStrip","tabLink","tabList","dropdownLink","dropdownListItem","hasClass","append","childElement","tabElement","tabContent","firstTabidElement","tabSet","concat","listen","showHideSelectedTab","tabsElements","register","setup","headings","recalculate","height","clientHeight","innerHeight","currentPosition","documentElement","scrollTop","bestMatch","Infinity","headingElement","tocElement","headingPosition","offsetTop","delta","Math","abs","pillClickHandler","wait","args","timeout","previous","later","now","apply","remaining","newArgs","throttle","showCurrentLanguageElements","leftToc","linkElement","guidesCategoryListElement","pills","CLASS_ACTIVATED","CLASS_SCALABLE","modal","modalContent","closeLightbox","wrapImage","img","wrapperElement","captionElement","src","alt","wrapIfNeeded","figure","naturalArea","naturalWidth","naturalHeight","clientWidth","tagName","createClickButNotSelectionHandler","dragStart","formerDragStart","clientX","clientY","toggleResource","classListAction","resourceElement","expand","requested","resourceHeaderElements","extLinks","forEach","link","tabTypes","elements","pillStripElement","tabsType","pillStripElements","seenPills","tabStripElement","childElements","clickHandler","strip","tabTitle","pill","isCurrentNode","$current","addClass","parents","each","index","css","hide","show","on","$target","removeClass","slideUp","$el","has","is","slideDown","prepend","expandElement","SLIDE_ANIMATION_TIME_MS","isVisible","handleRootSectionNavigation","section","$targetSection","collapseSection","$sectionHeading","$sectionContent","stop","handleSectionNavigation","handleCompositePage","$targetIcon","$subpageSection","$tocSections","$sidebar","$visibleRootSection","$nonvisibleRootSections","$visibleNestedSection","$nonvisibleNestedSections","$closedPagesWithChildren","$openPagesWithChildren","STYLE_SELECTED","STYLE","STYLE_DEPLOY","STYLE_DEPLOYTEXT","setToggleState","getTabNode","tabPrefs","cloud","cloudState","TEMPLATES","getValue","option","PLACEHOLDER_PATTERN","HostList","uriWriter","root","elementPairs","updateHostsFromUriWriter","loadState","loadCurrentState","hostlist","host","addHost","inputElement","statusElement","oninput","lastInput","setHosts","hosts","parsed","exec","port","parseInt","isNaN","message","pair","uriwriterSingleton","UriwriterSingleton","uristowrite","usernamestowrite","uristowritepasswordredactedshell","uristowriteshell","urireplacestring","hostList","setupURIListeners","loadTemplateEnv","renderURI","registerDispatch","env","saveState","atlas","atlasState","uriwriter","atlaspasteduri","getElementsByTagName","prefix","uri","charAt","urireplacestringPasswordRedactedShell","urireplacestringShell","username","isAtlas","startsWith","saveCurrentState","haveWidgetOnPage","parseIncomingAtlasString","populateForm","addValue","initiallySelected","parentChildren","childIndex","setEnvironment","template","uristring","replaceString","templateShell","templatePasswordRedactedShell","writeToPlaceholders","optionJoinCharacter","parts","localUriString","database","authSource","replicaSet","optionsString","optionStringifier","renderOption","optionElement","label","serverPromptElement","atlaspaste","pastedValue","setupEnvironmentListeners","atlasControlsElement","toggleEnvironmentExternal","renderOptions","renderFormValues","_this5","splitOnSpace","tempWriter","splitKey","splitValue","shellString","uriParamArray","split","keyValueArray","splitOnSpaceClusterEnv","shellMatch","shellArray","match","hostListString","parseOutURIParams","atlasString","parseOutShellParams","parseOutEnvAndClusters","parseAtlasString","matchesArray","arrayOfMatches","settingsArray","keyValue","havePassword","parseShell","parseTo3dot6","parseTo3dot4","initializeWidget","fullDocsPath","components","init","fn","load","componentCatTrack","componentCodeBlockFix","componentCopyButtons","componentEcosystemLinkTrack","componentFastLoad","componentFeedback","componentLightbox","componentSidebar","componentStitchSidebar","componentPillStrip","componentTabs","componentVersionSelector","componentThirdParty","componentGuides","componentOpenAPI","componentUriWriter","componentToggleController","componentCloseOpen","componentAccordion","componentOpenLink","toggleClass","$window","isTabletWidth","width","resize","current"],"mappings":"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"}