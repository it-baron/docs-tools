{"version":3,"file":"controller.js","sources":["../src/js/componentCatTrack.js","../src/js/util.js","../src/js/componentAccordion.js","../src/js/componentCloseOpen.js","../src/js/componentCodeBlockFix.js","../src/js/componentCopyButtons.js","../src/js/componentEcosystemLinkTrack.js","../src/js/componentFastLoad.js","../src/node_modules/prop-types/lib/ReactPropTypesSecret.js","../src/node_modules/prop-types/factoryWithThrowingShims.js","../src/node_modules/prop-types/index.js","../src/node_modules/preact/dist/preact.mjs","../src/widgets/deluge/FreeformQuestion.js","../src/widgets/deluge/InputField.js","../src/widgets/deluge/MainWidget.js","../src/widgets/deluge/deluge.js","../src/widgets/suggestion/SuggestionCardList.js","../src/widgets/suggestion/suggestion.js","../src/widgets/widgets.js","../src/js/componentFeedback.js","../src/js/componentTabs.js","../src/js/componentGuides.js","../src/js/componentLightbox.js","../src/js/componentOpenAPI.js","../src/js/componentOpenLink.js","../src/js/componentPillStrip.js","../src/js/componentSidebar.js","../src/js/componentStitchSidebar.js","../src/js/componentThirdParty.js","../src/js/componentToggleController.js","../src/js/componentUriwriter.js","../src/js/componentVersionSelector.js","../src/main/controller.js"],"sourcesContent":["function setAuthKey(key) {\n  window.__ctlst_authkey = key;\n}\n\nexport function setup() {\n  setAuthKey(\n    'Basic OGY1OGIxMDMtODQwOS00OTM1LWE5MDEtMjhmYzgzMWQ3ZmY1Ojg4OVYxbE1lNG9FYU5Mbmo3RFFnWTVEalNMT1g5ZHVuSGNIZmNUaVlwTEJDYWs3UmhQZzR3bzB1ajJnZk1wMmc='\n  );\n\n  const catTrackFn = window.__cat_track_event\n    ? window.__cat_track_event\n    : function () {\n        console.log('__cat_track_event not found');\n      };\n\n  // console.log('[*] CatTrack initialized.');\n  const sessionId = 'unknown';\n  const userId = {};\n\n  catTrackFn(\n    {\n      TRACKING_ENABLED: false,\n      CONSOLE_TRACKING: true,\n    },\n    'docs',\n    {type: 'VISIT', subType: 'DIRECT_LINK_HIT'},\n    sessionId,\n    userId,\n    {},\n    {}\n  );\n}\n","export function isLeafNode($node) {\n  return !$node.siblings('ul:not(.simple)').length;\n}\n\nexport function toArray(arrayLike) {\n  const result = [];\n  for (let i = 0; i < arrayLike.length; i += 1) {\n    result.push(arrayLike[i]);\n  }\n\n  return result;\n}\n\n/* Checks a whitelist for non-leaf nodes that should trigger a full page reload */\nexport function requiresPageload($node) {\n  const docsExcludedNav = window.docsExcludedNav;\n\n  if (!docsExcludedNav || !docsExcludedNav.length) {\n    return false;\n  }\n\n  for (let i = 0; i < docsExcludedNav.length; i += 1) {\n    if ($node[0].href.indexOf(docsExcludedNav[i]) !== -1) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport function throttle(func, wait) {\n  let args = null;\n  let result = null;\n  let timeout = null;\n  let previous = 0;\n\n  function later() {\n    previous = Date.now();\n    timeout = null;\n    result = func.apply(...args);\n    if (!timeout) {\n      args = null;\n    }\n  }\n\n  return function (...newArgs) {\n    const now = Date.now();\n    const remaining = wait - (now - previous);\n    args = newArgs;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        window.clearTimeout(timeout);\n        timeout = null;\n      }\n\n      previous = now;\n      result = func(...args);\n      if (!timeout) {\n        args = null;\n      }\n    } else if (!timeout) {\n      timeout = window.setTimeout(later, remaining);\n    }\n\n    return result;\n  };\n}\n\nexport function reportAnalytics(eventName, data) {\n  console.log('report analytics', eventName, data);\n}\n\nexport class Dispatcher {\n  constructor() {\n    this.listeners = [];\n  }\n\n  listen(handler) {\n    this.listeners.push(handler);\n  }\n\n  dispatch(ctx) {\n    for (let i = 0; i < this.listeners.length; i += 1) {\n      this.listeners[i](ctx);\n    }\n  }\n}\n","import {reportAnalytics} from './util';\n\nconst COLLAPSED_PROPERTY = 'accordion--collapsed';\n\n/**\n * Expands and collapses the accordion. Changes the label for the\n * action, i.e., \"Expand\" or \"Collapse\"\n * @param {object} element The accordion element.\n * @returns {void}\n */\nfunction accordionShowHide(element) {\n    element.classList.toggle(COLLAPSED_PROPERTY);\n\n    const control = element.querySelector('.accordion__action');\n    control.innerHTML = (control.innerHTML === 'Expand') ? 'Collapse' : 'Expand';\n\n    const title = element.querySelector('.accordion__title').innerText;\n    reportAnalytics('Accordion Toggled', {\n        'title': title,\n        'status': element.classList.contains(COLLAPSED_PROPERTY) ? 'collapsed' : 'expanded'\n    });\n}\n\nexport function setup() {\n    // Get accordions and assign listeners to handle expand/collapse\n    const accordionElements = document.getElementsByClassName('accordion');\n    for (let i = 0; i < accordionElements.length; i += 1) {\n        const element = accordionElements[i];\n        const button = element.querySelector('.accordion__button');\n\n        button.addEventListener('click', accordionShowHide.bind(this, element));\n    }\n}\n","export function setup() {\n    const showNavButton = document.getElementById('showNav');\n    if (showNavButton) {\n        showNavButton.onclick = () => {\n            document.getElementById('sphinxsidebar').style.display = 'block';\n            document.getElementById('left-column').style.display = 'flex';\n            document.getElementById('showNav').style.display = 'none';\n        };\n    }\n\n    const closeNavButton = document.getElementById('closeNav');\n    if (closeNavButton) {\n        closeNavButton.onclick = () => {\n            document.getElementById('showNav').style.display = 'flex';\n            document.getElementById('left-column').style.display = 'none';\n        };\n    }\n}\n","/*\ncode-blocks with the :linenos: options render an html table, unlike\nregular code-blocks. This component moves the button row into a new row\nof the html table to fix the visual alignment.\n\n*/\n\nfunction isLineNumberBlock(block) {\n    return Boolean(block.getElementsByClassName('linenos').length);\n}\n\nfunction isCaptionBlock(block) {\n    return Boolean(block.getElementsByClassName('caption-text').length);\n}\n\nfunction hasButtonRow(block) {\n    return Boolean(block.getElementsByClassName('button-row')[0]);\n}\n\nfunction moveButtonRowToTable(block) {\n    // Select existing elements\n    const buttonRow = block.getElementsByClassName('button-row')[0];\n    const tableBody = block.getElementsByClassName('highlighttable')[0].childNodes[0];\n\n    // Create new table elements\n    const tableButtonRow = document.createElement('tr');\n    const linenosSpacer = document.createElement('td');\n    const buttonRowDestination = document.createElement('td');\n\n    // Add class for { table-layout: fixed; } styling\n    linenosSpacer.className = 'linenos-button-row-spacer';\n\n    // Manipulate the DOM\n    tableBody.insertBefore(tableButtonRow, tableBody.firstChild);\n    tableButtonRow.appendChild(linenosSpacer);\n    tableButtonRow.appendChild(buttonRowDestination);\n    buttonRowDestination.appendChild(buttonRow);\n}\n\nfunction moveButtonRowBelowCaption(block) {\n    // Select existing elements\n    const buttonRow = block.getElementsByClassName('button-row')[0];\n    const caption = block.getElementsByClassName('code-block-caption')[0];\n\n    // console.log('MOVING BELOW CAPTION');\n\n    // Manipulate the DOM\n    caption.parentNode.insertBefore(buttonRow, caption.nextSibling);\n}\n\nfunction fixCodeBlock(block) {\n    if (isLineNumberBlock(block)) {\n        moveButtonRowToTable(block);\n    }\n    else if (isCaptionBlock(block)) {\n        moveButtonRowBelowCaption(block);\n    }\n}\n\nexport function setup() {\n    const codeblocks = document.getElementsByClassName('button-code-block');\n    for (const codeblock of codeblocks) {\n        if (hasButtonRow(codeblock)) {\n            fixCodeBlock(codeblock);\n        }\n    }\n}\n","import {reportAnalytics, toArray} from './util';\n\nconst TOOLTIP_STATE_ACTIVE = 'code-button__tooltip--active';\nconst TOOLTIP_STATE_INACTIVE = 'code-button__tooltip--inactive';\n\nfunction cancelAndWait(f, timeoutID, ms) {\n    if (timeoutID >= 0) {\n        window.clearTimeout(timeoutID);\n    }\n\n    return window.setTimeout(f, ms);\n}\n\nfunction isCopyableCodeBlock(block) {\n    return Boolean(block.getElementsByClassName('copyable-code-block')[0]);\n}\n\nexport function setup() {\n    const buttonCodeBlocks = document.getElementsByClassName('button-code-block');\n    const copyableBlocks = toArray(buttonCodeBlocks).filter(isCopyableCodeBlock);\n\n    for (const block of copyableBlocks) {\n        const highlightElement = block.getElementsByClassName('highlight')[0];\n        if (!highlightElement) {\n            return;\n        }\n\n        const buttonRow = block.getElementsByClassName('button-row')[0];\n        const copyButton = buttonRow.getElementsByClassName('code-button--copy')[0];\n        if (!copyButton) {\n            return;\n        }\n\n        const popupElement = document.createElement('div');\n        popupElement.innerText = 'copied';\n        popupElement.classList.add('code-button__tooltip');\n        popupElement.classList.add(TOOLTIP_STATE_INACTIVE);\n        let closePopupTimer = -1;\n\n        copyButton.appendChild(popupElement);\n        copyButton.addEventListener('click', () => {\n            const tempElement = document.createElement('textarea');\n            tempElement.style.position = 'fixed';\n            document.body.appendChild(tempElement);\n            const text = highlightElement.innerText.trim();\n            tempElement.value = text;\n            tempElement.select();\n\n            try {\n                const successful = document.execCommand('copy');\n                if (!successful) {\n                    throw new Error('Failed to copy');\n                }\n\n                popupElement.classList.replace(TOOLTIP_STATE_INACTIVE, TOOLTIP_STATE_ACTIVE);\n                closePopupTimer = cancelAndWait(() => {\n                    popupElement.classList.replace(TOOLTIP_STATE_ACTIVE, TOOLTIP_STATE_INACTIVE);\n                }, closePopupTimer, 1500);\n            } catch (err) {\n                console.error(err);\n            }\n\n            document.body.removeChild(tempElement);\n\n            reportAnalytics('Codeblock Copied', {'code': text});\n        });\n    }\n}\n","import {reportAnalytics} from './util';\n\nfunction reportClick(anchorElement) {\n    reportAnalytics('Link Clicked', {\n        'text': anchorElement.text,\n        'href': anchorElement.href\n    });\n}\n\nexport function setup() {\n    // only on ecosystem homepage, track link clicks\n    const driversUrls = [];\n    if (document.body.dataset && document.body.dataset.project === 'ecosystem' && driversUrls.includes(window.location.href)) {\n        // get links on ecosystem\n        const anchors = document.querySelectorAll('a.external');\n        for (let i = 0; i < anchors.length; i += 1) {\n            const anchor = anchors[i];\n            anchor.addEventListener('click', reportClick.bind(this, anchor));\n        }\n    }\n}\n","import * as util from './util';\n\n/* Wrapper around XMLHttpRequest to make it more convenient\n * Calls options.success(response, url), providing the response text and\n *         the canonical URL after redirects.\n * Calls options.error() on error.\n * jQuery's wrapper does not supply XMLHttpRequest.responseURL, making\n * this rewrite necessary. */\nfunction xhrGet(url, options) {\n    const xhr = new XMLHttpRequest();\n\n    xhr.onload = function() {\n        if (xhr.status >= 200 && xhr.status < 400) {\n            options.success(xhr.responseText, xhr.responseURL);\n            options.complete();\n        } else {\n            options.error();\n            options.complete();\n        }\n    };\n\n    xhr.onerror = function() {\n        options.error();\n        options.complete();\n    };\n\n    xhr.open('GET', url, true);\n    try {\n        xhr.send();\n    } catch (err) {\n        options.error();\n        options.complete();\n    }\n}\n\n// Because this is a SPA,  the browser can't scroll to find hashes\n// on its own.\nwindow.addEventListener('hashchange', () => {\n    if (!window.location.hash) { return; }\n\n    const el = document.getElementById(window.location.hash.slice(1));\n    if (!el) { return; }\n    el.scrollIntoView(true);\n});\n\n// If the browser is sufficiently modern, make navbar links load only\n// content pieces to avoid a full page load.\nexport function setup(fastNav) {\n    const project = $('body').attr('data-project');\n    const isStitch = project === 'stitch' || project === 'realm';\n    if (isStitch) {\n        return false;\n    }\n\n    if (window.history === undefined ||\n        document.querySelectorAll === undefined ||\n        document.body.classList === undefined ||\n        (new XMLHttpRequest()).responseURL === undefined) {\n        return false;\n    }\n\n    let navRootElement = document.querySelector('.sphinxsidebarwrapper');\n    let bodyElement = document.querySelector('.body');\n    let curLoading = {};\n\n    // Set up initial state so we can return to our initial landing page.\n    window.history.replaceState({'href': window.location.href},\n        document.querySelector('title').textContent,\n        window.location.href);\n\n    // Stop loading the currently-in-progress page.\n    function abortLoading() {\n        if (curLoading.timeoutID !== undefined) {\n            window.clearTimeout(curLoading.timeoutID);\n        }\n\n        if (curLoading.xhr !== undefined) {\n            curLoading.xhr.abort();\n        }\n\n        curLoading = {};\n    }\n\n    // Load the specified URL.\n    function loadPage(href, createHistory) {\n        if (href === undefined) {\n            console.error('Going to undefined path');\n        }\n\n        abortLoading();\n        bodyElement.classList.add('loading');\n\n        // If something goes wrong while loading, we don't want to leave\n        // people without a paddle. If we can't load after a long period of\n        // time, bring back the original content.\n        curLoading.timeoutID = window.setTimeout(() => {\n            bodyElement.classList.remove('loading');\n            curLoading.timeoutID = -1;\n        }, 10000);\n\n        const startTime = new Date();\n        curLoading.xhr = xhrGet(href, {\n            'complete': () => {\n                abortLoading();\n            },\n            'error': (error) => {\n            // Some browsers consider any file://-type request to be cross-origin.\n            // Upon any kind of error, fall back to classic behavior\n                console.error(`Failed to load ${href}`);\n                window.location = href;\n            },\n            'success': (pageText, trueUrl) => {\n                const enlapsedMs = (new Date()) - startTime;\n                bodyElement.classList.remove('loading');\n\n                // Change URL before loading the DOM to properly resolve URLs\n                if (createHistory && trueUrl !== window.location.href) {\n                    window.history.pushState({'href': trueUrl}, '', trueUrl);\n                }\n\n                const page = document.createElement('html');\n                page.innerHTML = pageText;\n                const title = page.querySelector('title').textContent;\n                const newBody = page.querySelector('.body');\n                const newNav = page.querySelector('.sphinxsidebarwrapper');\n\n                // Fade in ONLY if we had enough time to start fading out.\n                if (enlapsedMs > (250 / 4)) {\n                    newBody.classList.add('loading');\n                }\n\n                // Replace the DOM elements\n                bodyElement.parentElement.replaceChild(newBody, bodyElement);\n                bodyElement = newBody;\n                navRootElement.parentElement.replaceChild(newNav, navRootElement);\n                navRootElement = newNav;\n                document.title = title;\n\n                // Update dynamic page features\n                fastNav.update();\n\n                if (window.history.onnavigate) {\n                    window.history.onnavigate();\n                }\n\n                // Prime the new DOM so that we can set up our fade-in\n                // animation and scroll the new contents to the top.\n                window.setTimeout(() => {\n                    bodyElement.classList.remove('loading');\n\n                    // Scroll to the top of the page only if this is a new history entry.\n                    if (createHistory) {\n                        window.scroll(0, 0);\n                    }\n                }, 1);\n            }\n        });\n    }\n\n    // Set up fastnav links\n    const nodes = document.querySelectorAll('.sphinxsidebarwrapper > ul a.reference.internal');\n    function handleClickFunction(ev) {\n        // Ignore anything but vanilla click events, so that people can\n        // still use special browser behaviors like open in new tab.\n        if (!(ev.button !== 0 || ev.shiftKey || ev.altKey || ev.metaKey || ev.ctrlKey)) {\n            ev.preventDefault();\n            loadPage(ev.currentTarget.href, true);\n        }\n    }\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (!util.isLeafNode($(node)) && !util.requiresPageload($(node))) { continue; }\n\n        node.addEventListener('click', handleClickFunction);\n    }\n\n    window.onpopstate = function(ev) {\n        if (ev.state === null) { return; }\n        loadPage(ev.state.href, false);\n    };\n\n\n    return true;\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","var VNode = function VNode() {};\n\nvar options = {};\n\nvar stack = [];\n\nvar EMPTY_CHILDREN = [];\n\nfunction h(nodeName, attributes) {\n\tvar children = EMPTY_CHILDREN,\n\t    lastSimple,\n\t    child,\n\t    simple,\n\t    i;\n\tfor (i = arguments.length; i-- > 2;) {\n\t\tstack.push(arguments[i]);\n\t}\n\tif (attributes && attributes.children != null) {\n\t\tif (!stack.length) stack.push(attributes.children);\n\t\tdelete attributes.children;\n\t}\n\twhile (stack.length) {\n\t\tif ((child = stack.pop()) && child.pop !== undefined) {\n\t\t\tfor (i = child.length; i--;) {\n\t\t\t\tstack.push(child[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof child === 'boolean') child = null;\n\n\t\t\tif (simple = typeof nodeName !== 'function') {\n\t\t\t\tif (child == null) child = '';else if (typeof child === 'number') child = String(child);else if (typeof child !== 'string') simple = false;\n\t\t\t}\n\n\t\t\tif (simple && lastSimple) {\n\t\t\t\tchildren[children.length - 1] += child;\n\t\t\t} else if (children === EMPTY_CHILDREN) {\n\t\t\t\tchildren = [child];\n\t\t\t} else {\n\t\t\t\tchildren.push(child);\n\t\t\t}\n\n\t\t\tlastSimple = simple;\n\t\t}\n\t}\n\n\tvar p = new VNode();\n\tp.nodeName = nodeName;\n\tp.children = children;\n\tp.attributes = attributes == null ? undefined : attributes;\n\tp.key = attributes == null ? undefined : attributes.key;\n\n\tif (options.vnode !== undefined) options.vnode(p);\n\n\treturn p;\n}\n\nfunction extend(obj, props) {\n  for (var i in props) {\n    obj[i] = props[i];\n  }return obj;\n}\n\nvar defer = typeof Promise == 'function' ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout;\n\nfunction cloneElement(vnode, props) {\n  return h(vnode.nodeName, extend(extend({}, vnode.attributes), props), arguments.length > 2 ? [].slice.call(arguments, 2) : vnode.children);\n}\n\nvar IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n\nvar items = [];\n\nfunction enqueueRender(component) {\n\tif (!component._dirty && (component._dirty = true) && items.push(component) == 1) {\n\t\t(options.debounceRendering || defer)(rerender);\n\t}\n}\n\nfunction rerender() {\n\tvar p,\n\t    list = items;\n\titems = [];\n\twhile (p = list.pop()) {\n\t\tif (p._dirty) renderComponent(p);\n\t}\n}\n\nfunction isSameNodeType(node, vnode, hydrating) {\n\tif (typeof vnode === 'string' || typeof vnode === 'number') {\n\t\treturn node.splitText !== undefined;\n\t}\n\tif (typeof vnode.nodeName === 'string') {\n\t\treturn !node._componentConstructor && isNamedNode(node, vnode.nodeName);\n\t}\n\treturn hydrating || node._componentConstructor === vnode.nodeName;\n}\n\nfunction isNamedNode(node, nodeName) {\n\treturn node.normalizedNodeName === nodeName || node.nodeName.toLowerCase() === nodeName.toLowerCase();\n}\n\nfunction getNodeProps(vnode) {\n\tvar props = extend({}, vnode.attributes);\n\tprops.children = vnode.children;\n\n\tvar defaultProps = vnode.nodeName.defaultProps;\n\tif (defaultProps !== undefined) {\n\t\tfor (var i in defaultProps) {\n\t\t\tif (props[i] === undefined) {\n\t\t\t\tprops[i] = defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn props;\n}\n\nfunction createNode(nodeName, isSvg) {\n\tvar node = isSvg ? document.createElementNS('http://www.w3.org/2000/svg', nodeName) : document.createElement(nodeName);\n\tnode.normalizedNodeName = nodeName;\n\treturn node;\n}\n\nfunction removeNode(node) {\n\tvar parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nfunction setAccessor(node, name, old, value, isSvg) {\n\tif (name === 'className') name = 'class';\n\n\tif (name === 'key') {} else if (name === 'ref') {\n\t\tif (old) old(null);\n\t\tif (value) value(node);\n\t} else if (name === 'class' && !isSvg) {\n\t\tnode.className = value || '';\n\t} else if (name === 'style') {\n\t\tif (!value || typeof value === 'string' || typeof old === 'string') {\n\t\t\tnode.style.cssText = value || '';\n\t\t}\n\t\tif (value && typeof value === 'object') {\n\t\t\tif (typeof old !== 'string') {\n\t\t\t\tfor (var i in old) {\n\t\t\t\t\tif (!(i in value)) node.style[i] = '';\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i in value) {\n\t\t\t\tnode.style[i] = typeof value[i] === 'number' && IS_NON_DIMENSIONAL.test(i) === false ? value[i] + 'px' : value[i];\n\t\t\t}\n\t\t}\n\t} else if (name === 'dangerouslySetInnerHTML') {\n\t\tif (value) node.innerHTML = value.__html || '';\n\t} else if (name[0] == 'o' && name[1] == 'n') {\n\t\tvar useCapture = name !== (name = name.replace(/Capture$/, ''));\n\t\tname = name.toLowerCase().substring(2);\n\t\tif (value) {\n\t\t\tif (!old) node.addEventListener(name, eventProxy, useCapture);\n\t\t} else {\n\t\t\tnode.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t\t(node._listeners || (node._listeners = {}))[name] = value;\n\t} else if (name !== 'list' && name !== 'type' && !isSvg && name in node) {\n\t\ttry {\n\t\t\tnode[name] = value == null ? '' : value;\n\t\t} catch (e) {}\n\t\tif ((value == null || value === false) && name != 'spellcheck') node.removeAttribute(name);\n\t} else {\n\t\tvar ns = isSvg && name !== (name = name.replace(/^xlink:?/, ''));\n\n\t\tif (value == null || value === false) {\n\t\t\tif (ns) node.removeAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase());else node.removeAttribute(name);\n\t\t} else if (typeof value !== 'function') {\n\t\t\tif (ns) node.setAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase(), value);else node.setAttribute(name, value);\n\t\t}\n\t}\n}\n\nfunction eventProxy(e) {\n\treturn this._listeners[e.type](options.event && options.event(e) || e);\n}\n\nvar mounts = [];\n\nvar diffLevel = 0;\n\nvar isSvgMode = false;\n\nvar hydrating = false;\n\nfunction flushMounts() {\n\tvar c;\n\twhile (c = mounts.pop()) {\n\t\tif (options.afterMount) options.afterMount(c);\n\t\tif (c.componentDidMount) c.componentDidMount();\n\t}\n}\n\nfunction diff(dom, vnode, context, mountAll, parent, componentRoot) {\n\tif (!diffLevel++) {\n\t\tisSvgMode = parent != null && parent.ownerSVGElement !== undefined;\n\n\t\thydrating = dom != null && !('__preactattr_' in dom);\n\t}\n\n\tvar ret = idiff(dom, vnode, context, mountAll, componentRoot);\n\n\tif (parent && ret.parentNode !== parent) parent.appendChild(ret);\n\n\tif (! --diffLevel) {\n\t\thydrating = false;\n\n\t\tif (!componentRoot) flushMounts();\n\t}\n\n\treturn ret;\n}\n\nfunction idiff(dom, vnode, context, mountAll, componentRoot) {\n\tvar out = dom,\n\t    prevSvgMode = isSvgMode;\n\n\tif (vnode == null || typeof vnode === 'boolean') vnode = '';\n\n\tif (typeof vnode === 'string' || typeof vnode === 'number') {\n\t\tif (dom && dom.splitText !== undefined && dom.parentNode && (!dom._component || componentRoot)) {\n\t\t\tif (dom.nodeValue != vnode) {\n\t\t\t\tdom.nodeValue = vnode;\n\t\t\t}\n\t\t} else {\n\t\t\tout = document.createTextNode(vnode);\n\t\t\tif (dom) {\n\t\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\t\t\t\trecollectNodeTree(dom, true);\n\t\t\t}\n\t\t}\n\n\t\tout['__preactattr_'] = true;\n\n\t\treturn out;\n\t}\n\n\tvar vnodeName = vnode.nodeName;\n\tif (typeof vnodeName === 'function') {\n\t\treturn buildComponentFromVNode(dom, vnode, context, mountAll);\n\t}\n\n\tisSvgMode = vnodeName === 'svg' ? true : vnodeName === 'foreignObject' ? false : isSvgMode;\n\n\tvnodeName = String(vnodeName);\n\tif (!dom || !isNamedNode(dom, vnodeName)) {\n\t\tout = createNode(vnodeName, isSvgMode);\n\n\t\tif (dom) {\n\t\t\twhile (dom.firstChild) {\n\t\t\t\tout.appendChild(dom.firstChild);\n\t\t\t}\n\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\n\t\t\trecollectNodeTree(dom, true);\n\t\t}\n\t}\n\n\tvar fc = out.firstChild,\n\t    props = out['__preactattr_'],\n\t    vchildren = vnode.children;\n\n\tif (props == null) {\n\t\tprops = out['__preactattr_'] = {};\n\t\tfor (var a = out.attributes, i = a.length; i--;) {\n\t\t\tprops[a[i].name] = a[i].value;\n\t\t}\n\t}\n\n\tif (!hydrating && vchildren && vchildren.length === 1 && typeof vchildren[0] === 'string' && fc != null && fc.splitText !== undefined && fc.nextSibling == null) {\n\t\tif (fc.nodeValue != vchildren[0]) {\n\t\t\tfc.nodeValue = vchildren[0];\n\t\t}\n\t} else if (vchildren && vchildren.length || fc != null) {\n\t\t\tinnerDiffNode(out, vchildren, context, mountAll, hydrating || props.dangerouslySetInnerHTML != null);\n\t\t}\n\n\tdiffAttributes(out, vnode.attributes, props);\n\n\tisSvgMode = prevSvgMode;\n\n\treturn out;\n}\n\nfunction innerDiffNode(dom, vchildren, context, mountAll, isHydrating) {\n\tvar originalChildren = dom.childNodes,\n\t    children = [],\n\t    keyed = {},\n\t    keyedLen = 0,\n\t    min = 0,\n\t    len = originalChildren.length,\n\t    childrenLen = 0,\n\t    vlen = vchildren ? vchildren.length : 0,\n\t    j,\n\t    c,\n\t    f,\n\t    vchild,\n\t    child;\n\n\tif (len !== 0) {\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tvar _child = originalChildren[i],\n\t\t\t    props = _child['__preactattr_'],\n\t\t\t    key = vlen && props ? _child._component ? _child._component.__key : props.key : null;\n\t\t\tif (key != null) {\n\t\t\t\tkeyedLen++;\n\t\t\t\tkeyed[key] = _child;\n\t\t\t} else if (props || (_child.splitText !== undefined ? isHydrating ? _child.nodeValue.trim() : true : isHydrating)) {\n\t\t\t\tchildren[childrenLen++] = _child;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (vlen !== 0) {\n\t\tfor (var i = 0; i < vlen; i++) {\n\t\t\tvchild = vchildren[i];\n\t\t\tchild = null;\n\n\t\t\tvar key = vchild.key;\n\t\t\tif (key != null) {\n\t\t\t\tif (keyedLen && keyed[key] !== undefined) {\n\t\t\t\t\tchild = keyed[key];\n\t\t\t\t\tkeyed[key] = undefined;\n\t\t\t\t\tkeyedLen--;\n\t\t\t\t}\n\t\t\t} else if (min < childrenLen) {\n\t\t\t\t\tfor (j = min; j < childrenLen; j++) {\n\t\t\t\t\t\tif (children[j] !== undefined && isSameNodeType(c = children[j], vchild, isHydrating)) {\n\t\t\t\t\t\t\tchild = c;\n\t\t\t\t\t\t\tchildren[j] = undefined;\n\t\t\t\t\t\t\tif (j === childrenLen - 1) childrenLen--;\n\t\t\t\t\t\t\tif (j === min) min++;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\tchild = idiff(child, vchild, context, mountAll);\n\n\t\t\tf = originalChildren[i];\n\t\t\tif (child && child !== dom && child !== f) {\n\t\t\t\tif (f == null) {\n\t\t\t\t\tdom.appendChild(child);\n\t\t\t\t} else if (child === f.nextSibling) {\n\t\t\t\t\tremoveNode(f);\n\t\t\t\t} else {\n\t\t\t\t\tdom.insertBefore(child, f);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tif (keyedLen) {\n\t\tfor (var i in keyed) {\n\t\t\tif (keyed[i] !== undefined) recollectNodeTree(keyed[i], false);\n\t\t}\n\t}\n\n\twhile (min <= childrenLen) {\n\t\tif ((child = children[childrenLen--]) !== undefined) recollectNodeTree(child, false);\n\t}\n}\n\nfunction recollectNodeTree(node, unmountOnly) {\n\tvar component = node._component;\n\tif (component) {\n\t\tunmountComponent(component);\n\t} else {\n\t\tif (node['__preactattr_'] != null && node['__preactattr_'].ref) node['__preactattr_'].ref(null);\n\n\t\tif (unmountOnly === false || node['__preactattr_'] == null) {\n\t\t\tremoveNode(node);\n\t\t}\n\n\t\tremoveChildren(node);\n\t}\n}\n\nfunction removeChildren(node) {\n\tnode = node.lastChild;\n\twhile (node) {\n\t\tvar next = node.previousSibling;\n\t\trecollectNodeTree(node, true);\n\t\tnode = next;\n\t}\n}\n\nfunction diffAttributes(dom, attrs, old) {\n\tvar name;\n\n\tfor (name in old) {\n\t\tif (!(attrs && attrs[name] != null) && old[name] != null) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = undefined, isSvgMode);\n\t\t}\n\t}\n\n\tfor (name in attrs) {\n\t\tif (name !== 'children' && name !== 'innerHTML' && (!(name in old) || attrs[name] !== (name === 'value' || name === 'checked' ? dom[name] : old[name]))) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = attrs[name], isSvgMode);\n\t\t}\n\t}\n}\n\nvar recyclerComponents = [];\n\nfunction createComponent(Ctor, props, context) {\n\tvar inst,\n\t    i = recyclerComponents.length;\n\n\tif (Ctor.prototype && Ctor.prototype.render) {\n\t\tinst = new Ctor(props, context);\n\t\tComponent.call(inst, props, context);\n\t} else {\n\t\tinst = new Component(props, context);\n\t\tinst.constructor = Ctor;\n\t\tinst.render = doRender;\n\t}\n\n\twhile (i--) {\n\t\tif (recyclerComponents[i].constructor === Ctor) {\n\t\t\tinst.nextBase = recyclerComponents[i].nextBase;\n\t\t\trecyclerComponents.splice(i, 1);\n\t\t\treturn inst;\n\t\t}\n\t}\n\n\treturn inst;\n}\n\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n\nfunction setComponentProps(component, props, renderMode, context, mountAll) {\n\tif (component._disable) return;\n\tcomponent._disable = true;\n\n\tcomponent.__ref = props.ref;\n\tcomponent.__key = props.key;\n\tdelete props.ref;\n\tdelete props.key;\n\n\tif (typeof component.constructor.getDerivedStateFromProps === 'undefined') {\n\t\tif (!component.base || mountAll) {\n\t\t\tif (component.componentWillMount) component.componentWillMount();\n\t\t} else if (component.componentWillReceiveProps) {\n\t\t\tcomponent.componentWillReceiveProps(props, context);\n\t\t}\n\t}\n\n\tif (context && context !== component.context) {\n\t\tif (!component.prevContext) component.prevContext = component.context;\n\t\tcomponent.context = context;\n\t}\n\n\tif (!component.prevProps) component.prevProps = component.props;\n\tcomponent.props = props;\n\n\tcomponent._disable = false;\n\n\tif (renderMode !== 0) {\n\t\tif (renderMode === 1 || options.syncComponentUpdates !== false || !component.base) {\n\t\t\trenderComponent(component, 1, mountAll);\n\t\t} else {\n\t\t\tenqueueRender(component);\n\t\t}\n\t}\n\n\tif (component.__ref) component.__ref(component);\n}\n\nfunction renderComponent(component, renderMode, mountAll, isChild) {\n\tif (component._disable) return;\n\n\tvar props = component.props,\n\t    state = component.state,\n\t    context = component.context,\n\t    previousProps = component.prevProps || props,\n\t    previousState = component.prevState || state,\n\t    previousContext = component.prevContext || context,\n\t    isUpdate = component.base,\n\t    nextBase = component.nextBase,\n\t    initialBase = isUpdate || nextBase,\n\t    initialChildComponent = component._component,\n\t    skip = false,\n\t    snapshot = previousContext,\n\t    rendered,\n\t    inst,\n\t    cbase;\n\n\tif (component.constructor.getDerivedStateFromProps) {\n\t\tstate = extend(extend({}, state), component.constructor.getDerivedStateFromProps(props, state));\n\t\tcomponent.state = state;\n\t}\n\n\tif (isUpdate) {\n\t\tcomponent.props = previousProps;\n\t\tcomponent.state = previousState;\n\t\tcomponent.context = previousContext;\n\t\tif (renderMode !== 2 && component.shouldComponentUpdate && component.shouldComponentUpdate(props, state, context) === false) {\n\t\t\tskip = true;\n\t\t} else if (component.componentWillUpdate) {\n\t\t\tcomponent.componentWillUpdate(props, state, context);\n\t\t}\n\t\tcomponent.props = props;\n\t\tcomponent.state = state;\n\t\tcomponent.context = context;\n\t}\n\n\tcomponent.prevProps = component.prevState = component.prevContext = component.nextBase = null;\n\tcomponent._dirty = false;\n\n\tif (!skip) {\n\t\trendered = component.render(props, state, context);\n\n\t\tif (component.getChildContext) {\n\t\t\tcontext = extend(extend({}, context), component.getChildContext());\n\t\t}\n\n\t\tif (isUpdate && component.getSnapshotBeforeUpdate) {\n\t\t\tsnapshot = component.getSnapshotBeforeUpdate(previousProps, previousState);\n\t\t}\n\n\t\tvar childComponent = rendered && rendered.nodeName,\n\t\t    toUnmount,\n\t\t    base;\n\n\t\tif (typeof childComponent === 'function') {\n\n\t\t\tvar childProps = getNodeProps(rendered);\n\t\t\tinst = initialChildComponent;\n\n\t\t\tif (inst && inst.constructor === childComponent && childProps.key == inst.__key) {\n\t\t\t\tsetComponentProps(inst, childProps, 1, context, false);\n\t\t\t} else {\n\t\t\t\ttoUnmount = inst;\n\n\t\t\t\tcomponent._component = inst = createComponent(childComponent, childProps, context);\n\t\t\t\tinst.nextBase = inst.nextBase || nextBase;\n\t\t\t\tinst._parentComponent = component;\n\t\t\t\tsetComponentProps(inst, childProps, 0, context, false);\n\t\t\t\trenderComponent(inst, 1, mountAll, true);\n\t\t\t}\n\n\t\t\tbase = inst.base;\n\t\t} else {\n\t\t\tcbase = initialBase;\n\n\t\t\ttoUnmount = initialChildComponent;\n\t\t\tif (toUnmount) {\n\t\t\t\tcbase = component._component = null;\n\t\t\t}\n\n\t\t\tif (initialBase || renderMode === 1) {\n\t\t\t\tif (cbase) cbase._component = null;\n\t\t\t\tbase = diff(cbase, rendered, context, mountAll || !isUpdate, initialBase && initialBase.parentNode, true);\n\t\t\t}\n\t\t}\n\n\t\tif (initialBase && base !== initialBase && inst !== initialChildComponent) {\n\t\t\tvar baseParent = initialBase.parentNode;\n\t\t\tif (baseParent && base !== baseParent) {\n\t\t\t\tbaseParent.replaceChild(base, initialBase);\n\n\t\t\t\tif (!toUnmount) {\n\t\t\t\t\tinitialBase._component = null;\n\t\t\t\t\trecollectNodeTree(initialBase, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (toUnmount) {\n\t\t\tunmountComponent(toUnmount);\n\t\t}\n\n\t\tcomponent.base = base;\n\t\tif (base && !isChild) {\n\t\t\tvar componentRef = component,\n\t\t\t    t = component;\n\t\t\twhile (t = t._parentComponent) {\n\t\t\t\t(componentRef = t).base = base;\n\t\t\t}\n\t\t\tbase._component = componentRef;\n\t\t\tbase._componentConstructor = componentRef.constructor;\n\t\t}\n\t}\n\n\tif (!isUpdate || mountAll) {\n\t\tmounts.unshift(component);\n\t} else if (!skip) {\n\n\t\tif (component.componentDidUpdate) {\n\t\t\tcomponent.componentDidUpdate(previousProps, previousState, snapshot);\n\t\t}\n\t\tif (options.afterUpdate) options.afterUpdate(component);\n\t}\n\n\twhile (component._renderCallbacks.length) {\n\t\tcomponent._renderCallbacks.pop().call(component);\n\t}if (!diffLevel && !isChild) flushMounts();\n}\n\nfunction buildComponentFromVNode(dom, vnode, context, mountAll) {\n\tvar c = dom && dom._component,\n\t    originalComponent = c,\n\t    oldDom = dom,\n\t    isDirectOwner = c && dom._componentConstructor === vnode.nodeName,\n\t    isOwner = isDirectOwner,\n\t    props = getNodeProps(vnode);\n\twhile (c && !isOwner && (c = c._parentComponent)) {\n\t\tisOwner = c.constructor === vnode.nodeName;\n\t}\n\n\tif (c && isOwner && (!mountAll || c._component)) {\n\t\tsetComponentProps(c, props, 3, context, mountAll);\n\t\tdom = c.base;\n\t} else {\n\t\tif (originalComponent && !isDirectOwner) {\n\t\t\tunmountComponent(originalComponent);\n\t\t\tdom = oldDom = null;\n\t\t}\n\n\t\tc = createComponent(vnode.nodeName, props, context);\n\t\tif (dom && !c.nextBase) {\n\t\t\tc.nextBase = dom;\n\n\t\t\toldDom = null;\n\t\t}\n\t\tsetComponentProps(c, props, 1, context, mountAll);\n\t\tdom = c.base;\n\n\t\tif (oldDom && dom !== oldDom) {\n\t\t\toldDom._component = null;\n\t\t\trecollectNodeTree(oldDom, false);\n\t\t}\n\t}\n\n\treturn dom;\n}\n\nfunction unmountComponent(component) {\n\tif (options.beforeUnmount) options.beforeUnmount(component);\n\n\tvar base = component.base;\n\n\tcomponent._disable = true;\n\n\tif (component.componentWillUnmount) component.componentWillUnmount();\n\n\tcomponent.base = null;\n\n\tvar inner = component._component;\n\tif (inner) {\n\t\tunmountComponent(inner);\n\t} else if (base) {\n\t\tif (base['__preactattr_'] && base['__preactattr_'].ref) base['__preactattr_'].ref(null);\n\n\t\tcomponent.nextBase = base;\n\n\t\tremoveNode(base);\n\t\trecyclerComponents.push(component);\n\n\t\tremoveChildren(base);\n\t}\n\n\tif (component.__ref) component.__ref(null);\n}\n\nfunction Component(props, context) {\n\tthis._dirty = true;\n\n\tthis.context = context;\n\n\tthis.props = props;\n\n\tthis.state = this.state || {};\n\n\tthis._renderCallbacks = [];\n}\n\nextend(Component.prototype, {\n\tsetState: function setState(state, callback) {\n\t\tif (!this.prevState) this.prevState = this.state;\n\t\tthis.state = extend(extend({}, this.state), typeof state === 'function' ? state(this.state, this.props) : state);\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t},\n\tforceUpdate: function forceUpdate(callback) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\trenderComponent(this, 2);\n\t},\n\trender: function render() {}\n});\n\nfunction render(vnode, parent, merge) {\n  return diff(merge, vnode, {}, false, parent, false);\n}\n\nvar preact = {\n\th: h,\n\tcreateElement: h,\n\tcloneElement: cloneElement,\n\tComponent: Component,\n\trender: render,\n\trerender: rerender,\n\toptions: options\n};\n\nexport default preact;\nexport { h, h as createElement, cloneElement, Component, render, rerender, options };\n//# sourceMappingURL=preact.mjs.map\n","import PropTypes from 'prop-types';\nimport preact from 'preact';\n\nclass FreeformQuestion extends preact.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            'error': false,\n            'text': ''\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    handleChange(ev) {\n        const {hasError, store} = this.props;\n        const value = ev.target.value;\n        const error = hasError(value);\n\n        if (error) {\n            store.set('');\n            ev.target.setCustomValidity(error);\n        } else {\n            store.set(value);\n            ev.target.setCustomValidity('');\n        }\n        this.setState({\n            'error': error,\n            'text': value\n        });\n    }\n\n    render() {\n        const {errorText, placeholder} = this.props;\n        const {error, text} = this.state;\n        return (\n            <div>\n                <textarea\n                    placeholder={placeholder}\n                    onInput={this.handleChange}\n                    value={text}></textarea>\n                <div\n                    className=\"error\"\n                    style={{'visibility': error ? 'visible' : 'hidden'}}>\n                    {errorText}\n                </div>\n            </div>\n        );\n    }\n}\n\nFreeformQuestion.propTypes = {\n    'errorText': PropTypes.string,\n    'hasError': PropTypes.func,\n    'placeholder': PropTypes.string,\n    'store': PropTypes.objectOf(PropTypes.func).isRequired\n};\n\nFreeformQuestion.defaultProps = {\n    'hasError': () => false\n};\n\nexport default FreeformQuestion;\n","import PropTypes from 'prop-types';\nimport preact from 'preact';\n\nclass InputField extends preact.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            'error': false,\n            'text': ''\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    handleChange(ev) {\n        const {hasError, store} = this.props;\n        const value = ev.target.value;\n        const error = hasError(value);\n\n        if (error) {\n            store.set('');\n            ev.target.setCustomValidity(error);\n        } else {\n            store.set(value);\n            ev.target.setCustomValidity('');\n        }\n        this.setState({\n            'error': error,\n            'text': value\n        });\n    }\n\n    render() {\n        const {errorText, inputType, placeholder} = this.props;\n        const {error, text} = this.state;\n        return (\n            <div>\n                <input\n                    onInput={this.handleChange}\n                    placeholder={placeholder}\n                    type={inputType}\n                    value={text} />\n                <div className=\"error\" style={{'visibility': error ? 'visible' : 'hidden'}}>\n                    {errorText}\n                </div>\n            </div>\n        );\n    }\n}\n\nInputField.propTypes = {\n    'errorText': PropTypes.string,\n    'hasError': PropTypes.func,\n    'inputType': PropTypes.string,\n    'placeholder': PropTypes.string,\n    'store': PropTypes.objectOf(PropTypes.func).isRequired\n};\n\nInputField.defaultProps = {\n    'hasError': () => false,\n    'inputType': 'text'\n};\n\nexport default InputField;\n","import PropTypes from 'prop-types';\nimport preact from 'preact';\n\n// State enum\nconst STATE_INITIAL = 'Initial';\nconst STATE_VOTED = 'Voted';\n\nclass MainWidget extends preact.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            'closed': false,\n            'state': STATE_INITIAL\n        };\n\n        this.onSubmitFeedback = this.onSubmitFeedback.bind(this);\n        this.onInitialVote = this.onInitialVote.bind(this);\n        this.toggleVisibility = this.toggleVisibility.bind(this);\n    }\n\n    componentDidMount() {\n        const savedFeedbackState = JSON.parse(window.sessionStorage.getItem('feedbackHidden'));\n        if (savedFeedbackState) {\n            this.setState({'closed': savedFeedbackState});\n        }\n    }\n\n    onSubmitFeedback() {\n        this.props.onSubmitFeedback(this.state.state);\n        this.setState({'state': STATE_VOTED});\n    }\n\n    onInitialVote(e, state) {\n        window.open('https://discord.gg/yn3fm8bjWU', '_blank');\n    }\n\n    toggleVisibility(event) {\n        const {closed, state} = this.state;\n        event.stopPropagation();\n        if ((typeof state === 'boolean' || state === STATE_VOTED) && closed === false) {\n            this.setState({'state': STATE_INITIAL});\n        }\n        this.setState(\n            (prevState) => ({'closed': !prevState.closed}),\n            () => window.sessionStorage.setItem('feedbackHidden', JSON.stringify(this.state.closed))\n        );\n    }\n\n    render({children, canShowSuggestions, voteAcknowledgement}, {closed, state}) {\n        const delugeBodyClass = (state === STATE_INITIAL)\n            ? 'deluge-body'\n            : 'deluge-body deluge-body-expanded';\n        const delugeHeaderClass = 'deluge-header';\n        const delugeClass = (state !== STATE_INITIAL && closed === false)\n            ? 'deluge deluge-expanded'\n            : 'deluge';\n\n        return (\n            <div class={delugeClass}>\n                {closed ? (\n                    <div class=\"deluge-header deluge-header-minimized\"\n                        onClick={this.toggleVisibility}>\n                        <span class=\"fa fa-angle-up deluge-open-icon\"></span>\n                    </div>\n                ) : (\n                    <div>\n                        <div class={delugeHeaderClass}>\n                            <span class=\"fa fa-angle-down deluge-close-icon-hidden\"></span>\n                            <span class=\"deluge-helpful\">Need more info?</span>\n                            <span class=\"fa fa-angle-down deluge-close-icon\"\n                                onClick={this.toggleVisibility}></span>\n                        </div>\n\n                        <div class=\"deluge-vote\">\n                            <a key=\"voteup\" id=\"rate-up\"\n                                onClick={(e) => this.onInitialVote(e, true)}>JOIN DISCORD</a>\n                        </div>\n\n                        <div class={delugeBodyClass}>\n                        </div>\n                    </div>\n                )}\n            </div>\n        );\n    }\n}\n\nMainWidget.propTypes = {\n    'error': PropTypes.bool.isRequired,\n    'onSubmitFeedback': PropTypes.func.isRequired,\n    'onSubmitVote': PropTypes.func.isRequired,\n    'onClear': PropTypes.func.isRequired,\n    'children': PropTypes.arrayOf(PropTypes.node),\n    'voteAcknowledgement': PropTypes.string,\n    'handleOpenDrawer': PropTypes.func.isRequired,\n    'canShowSuggestions': PropTypes.bool.isRequired\n};\n\nexport default MainWidget;\n","import FreeformQuestion from './FreeformQuestion';\nimport InputField from './InputField';\nimport MainWidget from './MainWidget';\nimport PropTypes from 'prop-types';\nimport preact from 'preact';\n\nconst MIN_CHAR_COUNT = 15;\nconst MIN_CHAR_ERROR_TEXT = `Please respond with at least ${MIN_CHAR_COUNT} characters.`;\nconst EMAIL_ERROR_TEXT = 'Please enter a valid email address.';\nconst EMAIL_PROMPT_TEXT = 'May we contact you about your feedback?';\n\nclass Deluge extends preact.Component {\n  constructor(props) {\n    super(props);\n\n    const crypto = window.crypto || window.msCrypto;\n    const buf = new Uint8Array(16);\n    crypto.getRandomValues(buf);\n\n    this.state = {\n      answers: {},\n      emailError: false,\n      interactionId: btoa(\n        Array.prototype.map.call(buf, ch => String.fromCharCode(ch)).join('')\n      ).slice(0, -2),\n      voteAcknowledgement: null,\n    };\n    this.onSubmitFeedback = this.onSubmitFeedback.bind(this);\n    this.onSubmitVote = this.onSubmitVote.bind(this);\n  }\n\n  sendAnalytics(eventName, eventObj) {\n    try {\n      const user = window.analytics.user();\n      const segmentUID = user.id();\n      if (segmentUID) {\n        eventObj.segmentUID = segmentUID.toString();\n      } else {\n        eventObj.segmentAnonymousID = user.anonymousId().toString();\n      }\n      window.analytics.track(eventName, eventObj);\n    } catch (err) {\n      console.error(err);\n    }\n    return eventObj;\n  }\n\n  onSubmitVote(vote) {\n    this.sendVote(vote)\n      .then(result => {\n        this.setState({\n          voteAcknowledgement: vote ? 'up' : 'down',\n        });\n      })\n      .catch(err => {\n        console.error(err);\n      });\n  }\n\n  sendVote(vote) {}\n\n  onSubmitFeedback(vote) {\n    const fields = {};\n\n    const answers = this.state.answers;\n    const keys = Object.keys(answers);\n    for (let i = 0; i < keys.length; i += 1) {\n      const key = keys[i];\n\n      // Report booleans and non-empty strings\n      if (answers[key] || answers[key] === false) {\n        fields[key] = answers[key];\n      }\n    }\n\n    this.sendFeedback(vote, fields).catch(err => {\n      console.error(err);\n    });\n  }\n\n  sendFeedback(vote, fields) {}\n\n  makeStore(key) {\n    return {\n      get: () => this.state.answers[key],\n      set: val =>\n        this.setState(prevState => ({\n          answers: {\n            ...prevState.answers,\n            [key]: val,\n          },\n        })),\n    };\n  }\n\n  validateEmail(input) {\n    const hasError = !(\n      input === '' || /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(input)\n    );\n    this.setState({emailError: hasError});\n    return hasError;\n  }\n\n  render(props, {voteAcknowledgement}) {\n    const noAnswersSubmitted =\n      Object.keys(this.state.answers).length === 0 ||\n      Object.values(this.state.answers).every(val => val === '');\n    const hasError = noAnswersSubmitted || this.state.emailError;\n    return (\n      <MainWidget\n        voteAcknowledgement={voteAcknowledgement}\n        onSubmitFeedback={this.onSubmitFeedback}\n        onSubmitVote={this.onSubmitVote}\n        onClear={() => this.setState({answers: {}})}\n        canShowSuggestions={props.canShowSuggestions}\n        i\n        handleOpenDrawer={props.handleOpenDrawer}\n        error={hasError}\n      >\n        <FreeformQuestion\n          errorText={MIN_CHAR_ERROR_TEXT}\n          store={this.makeStore('reason')}\n          placeholder=\"What are you trying to do?\"\n        />\n        <div className=\"caption\">{EMAIL_PROMPT_TEXT}</div>\n        <InputField\n          errorText={EMAIL_ERROR_TEXT}\n          hasError={input => this.validateEmail(input)}\n          inputType={'email'}\n          store={this.makeStore('email')}\n          placeholder=\"Email address\"\n        />\n      </MainWidget>\n    );\n  }\n}\n\nDeluge.propTypes = {\n  project: PropTypes.string.isRequired,\n  path: PropTypes.string.isRequired,\n  canShowSuggestions: PropTypes.bool.isRequired,\n  handleOpenDrawer: PropTypes.func.isRequired,\n};\n\nexport default Deluge;\n","import PropTypes from 'prop-types';\nimport preact from 'preact';\n\nfunction addQueryParameters(url, pageName) {\n    return `${url}?suggestor=${encodeURIComponent(pageName)}`;\n}\n\nfunction SuggestionCard({suggestion}) {\n    const urlWithParams = addQueryParameters(suggestion.url, this.props.pageName);\n    return (\n        <div className=\"suggestion-card\">\n            <a href={urlWithParams}>\n                <div>\n                    <h2>{suggestion.title}</h2>\n                    {suggestion.description && <p>{suggestion.description}</p>}\n                </div>\n            </a>\n        </div>\n    );\n}\n\nfunction EmptyCard({handleDismissCard}) {\n    return (\n        <div className=\"suggestion-card suggestion-close\"\n            onClick={() => handleDismissCard()}>\n            <h2>This isn&#39;t what I was looking for</h2>\n        </div>\n    );\n}\n\nclass SuggestionCardList extends preact.Component {\n    render() {\n        const suggestions = this.props.suggestions;\n        const suggestionCards = suggestions.map((suggestion) =>\n            <SuggestionCard\n                suggestion={suggestion}\n                key={suggestion.url}\n                pageName={this.props.pageName}\n            />\n        );\n        return (\n            <div>\n                {suggestionCards}\n                <EmptyCard handleDismissCard={this.props.handleDismissCard} />\n            </div>\n        );\n    }\n}\n\nSuggestionCard.propTypes = {\n    'pageName': PropTypes.string.isRequired,\n    'suggestion': PropTypes.object.isRequired\n};\n\nEmptyCard.propTypes = {\n    'handleDismissCard': PropTypes.func.isRequired\n};\n\nSuggestionCardList.propTypes = {\n    'suggestions': PropTypes.array.isRequired,\n    'handleDismissCard': PropTypes.func.isRequired,\n    'pageName': PropTypes.string.isRequired\n};\n\nexport default SuggestionCardList;\n","import PropTypes from 'prop-types';\nimport SuggestionCardList from './SuggestionCardList';\nimport preact from 'preact';\nimport {reportAnalytics} from '../../js/util';\n\nfunction getPageName() {\n  const bodyElements = document.getElementsByClassName('body');\n  if (!bodyElements.length) {\n    return null;\n  }\n\n  const pagename = bodyElements[0].getAttribute('data-pagename');\n\n  return pagename;\n}\n\nclass Suggestion extends preact.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleCloseDrawer = this.handleCloseDrawer.bind(this);\n    this.handleDismissCard = this.handleDismissCard.bind(this);\n    this.pageName = getPageName();\n\n    this.state = {\n      isLoaded: false,\n      showThankYouMessage: false,\n      suggestions: [],\n    };\n  }\n\n  handleCloseDrawer() {\n    this.props.handleCloseDrawer();\n    reportAnalytics('Suggestion Drawer Closed', {\n      userDismissedSuggestions: this.state.showThankYouMessage,\n    });\n  }\n\n  handleDismissCard() {\n    this.setState({showThankYouMessage: true});\n    reportAnalytics('Suggestions Dismissed');\n  }\n\n  render() {\n    const drawerIsOpen = this.props.drawerIsOpen ? 'is-open' : '';\n    const showThankYouMessage = this.state.showThankYouMessage;\n    let bodyDisplay; // eslint-disable-line init-declarations\n\n    if (showThankYouMessage) {\n      bodyDisplay = (\n        <div>\n          <span\n            onClick={() => this.handleCloseDrawer()}\n            class=\"fa fa-times suggestion-close suggestion-close-button\"\n          />\n          <h1>Thanks for your feedback.</h1>\n          <p>\n            We&apos;ll use it to make more helpful suggestions in the future.\n          </p>\n        </div>\n      );\n    } else {\n      bodyDisplay = (\n        <div>\n          <span\n            onClick={() => this.handleCloseDrawer()}\n            class=\"fa fa-times suggestion-close suggestion-close-button\"\n          />\n          <h1>Need help?</h1>\n          <p>Other MongoDB users have found these resources useful.</p>\n          <SuggestionCardList\n            suggestions={this.state.suggestions}\n            handleDismissCard={this.handleDismissCard}\n            pageName={this.pageName}\n          />\n        </div>\n      );\n    }\n    return <div className={`suggestion ${drawerIsOpen}`}>{bodyDisplay}</div>;\n  }\n}\n\nSuggestion.propTypes = {\n  drawerIsOpen: PropTypes.bool.isRequired,\n  handleCloseDrawer: PropTypes.func.isRequired,\n};\n\nexport default Suggestion;\n","import Deluge from './deluge/deluge';\nimport PropTypes from 'prop-types';\nimport Suggestion from './suggestion/suggestion';\nimport preact from 'preact';\n\nconst whitelist = [\n];\n\nclass Widgets extends preact.Component {\n    constructor(props) {\n        super(props);\n        this.isSuggestionPage = this.isSuggestionPage(this.props.path);\n        this.handleOpenDrawer = this.handleOpenDrawer.bind(this);\n        this.handleCloseDrawer = this.handleCloseDrawer.bind(this);\n\n        this.state = {\n            'drawerIsOpen': false,\n            'drawerHasOpened': false\n        };\n    }\n\n    isSuggestionPage(path) {\n        return whitelist.indexOf(path) >= 0;\n    }\n\n    handleOpenDrawer() {\n        // Don't display suggestions again after closing\n        if (this.state.drawerHasOpened) {\n            return;\n        }\n\n        this.setState((prevState) => ({\n            'drawerIsOpen': true,\n            'drawerHasOpened': true\n        }));\n    }\n\n    handleCloseDrawer() {\n        this.setState((prevState) => ({\n            'drawerIsOpen': false\n        }));\n    }\n\n    render() {\n        // return null;\n        return (\n            <div>\n                <Deluge\n                    project={this.props.project}\n                    path={this.props.path}\n                    handleOpenDrawer={this.handleOpenDrawer}\n                    canShowSuggestions={this.isSuggestionPage}\n                />\n                {this.isSuggestionPage &&\n                    <Suggestion\n                        drawerIsOpen={this.state.drawerIsOpen}\n                        handleCloseDrawer={this.handleCloseDrawer}\n                    />\n                }\n            </div>\n        );\n    }\n}\n\nWidgets.propTypes = {\n    'project': PropTypes.string.isRequired,\n    'path': PropTypes.string.isRequired\n};\n\nexport default function widgets(project, path, rootElement) {\n    preact.render('', rootElement, rootElement._widgetsRendered);\n\n    if (path) {\n        rootElement._widgetsRendered = preact.render(\n            <Widgets project={project} path={path} />,\n            rootElement);\n    }\n}\n","import widgets from '../widgets/widgets';\n\nlet project = null;\nlet ratingPanelElement = null;\n\n// Files on which we should not have feedback widgets\nconst blacklist = ['meta/404', 'search'];\n\nfunction getPageName() {\n    const bodyElements = document.getElementsByClassName('body');\n    if (!bodyElements.length) { return null; }\n\n    const pagename = bodyElements[0].getAttribute('data-pagename');\n    if (blacklist.indexOf(pagename) >= 0) {\n        return null;\n    }\n\n    const isEol = bodyElements[0].getAttribute('data-eol');\n    if (isEol) {\n        return null;\n    }\n\n    return pagename;\n}\nexport function init() {\n    project = document.body.getAttribute('data-project');\n    ratingPanelElement = document.getElementById('rating-panel');\n}\n\nexport function setup() {\n    // We require DOM storage. Don't show anything if support is not present.\n    if (window.localStorage === undefined) { return; }\n\n    const pageName = getPageName();\n    if (ratingPanelElement) {\n        widgets(project, pageName, ratingPanelElement);\n    }\n}\n","import {Dispatcher, reportAnalytics, toArray} from './util';\n\nexport const tabsEventDispatcher = new Dispatcher();\n\n/**\n * Show only the first set of tabs at the top of the page.\n * @returns {void}\n */\nfunction hideTabBars() {\n    const isTop = document.querySelector('.tabs-top');\n    if (isTop) {\n        const tabBars = $('.tab-strip--singleton');\n        const mainTabBar = tabBars.first();\n        // Remove any additional tab bars\n        tabBars.slice(1).\n            detach();\n        // Position the main tab bar after the page title\n        mainTabBar.\n            detach().\n            insertAfter('h1').\n            first();\n    }\n}\n\n/**\n * Return the tabPref object containing preferences for tab sets\n * and page specific prefs. Returns an empty object if it doesn't\n * exist.\n * @returns {object} Tab preference object.\n */\nexport function getTabPref() {\n    return JSON.parse(window.localStorage.getItem('tabPref')) || {};\n}\n\n/**\n * Sets the tabPref object depending on whether the tab belongs\n * to set (e.g., \"drivers\") or if it's a one-off page.\n\n * @param {object} pref The \"tabId\" and \"type\" (tab set)\n * @param {boolean} anonymous Whether or not the tab being configured is anonymous.\n * @returns {void}\n */\nexport function setTabPref(pref, anonymous) {\n    const tabPref = getTabPref();\n\n    if (anonymous) {\n        if (!tabPref.pages) {\n            tabPref.pages = {};\n        }\n\n        tabPref.pages[window.location.pathname] = pref.tabId;\n    } else {\n        // Set top-level fields for tab set preferences\n        tabPref[pref.type] = pref.tabId;\n    }\n\n    // Write pref object back to localStorage\n    window.localStorage.setItem('tabPref', JSON.stringify(tabPref));\n}\n\nlet tabSets = {};\nclass TabSet {\n    constructor(tabType, anonymous, tabStripElements, tabContents) {\n        this.type = tabType;\n        this.tabStrips = tabStripElements;\n        this.tabContents = tabContents;\n        this.anonymous = anonymous;\n\n        // A set of all tabIds contained within this TabSet.\n        this.tabIds = {};\n    }\n\n    /**\n     * Return the first singleton tab ID on the page.\n     * @returns {string} The first singleton tab ID found.\n     */\n    getFirstTabId() {\n        const tabsElement = this.tabStrips[0].\n            querySelector('.tab-strip__element[aria-selected=true]');\n        if (!tabsElement) { return null; }\n\n        return tabsElement.getAttribute('data-tabid');\n    }\n\n    setup() {\n        if (this.tabStrips.length === 0) { return; }\n\n        hideTabBars();\n\n        for (const tabStrip of this.tabStrips) {\n            for (const element of tabStrip.querySelectorAll('[data-tabid]')) {\n                this.tabIds[element.getAttribute('data-tabid')] = true;\n\n                element.onclick = (e) => {\n                    // Get the initial position of the tab clicked\n                    // to avoid page jumping after new tab is selected\n                    const initRect = element.getBoundingClientRect();\n\n                    // Get the position where the user scrolled to\n                    const initScrollY = window.scrollY;\n\n                    // Calc the distance from the tab strip to the top\n                    // of whatever the user has scrolled to\n                    const offset = initScrollY - initRect.y;\n\n                    // Get the tab ID of the clicked tab\n                    const tabId = e.target.getAttribute('data-tabid');\n\n                    // Build the pref object to set\n                    const pref = {};\n                    pref.tabId = tabId;\n                    pref.type = this.type;\n\n                    // Check to make sure value is not null, i.e., don't do anything on \"other\"\n                    if (tabId) {\n                        // Save the users preference and re-render\n                        this.update(tabId, true);\n\n                        // Get the position of tab strip after re-render\n                        const rects = element.getBoundingClientRect();\n\n                        // Reset the scroll position of the browser\n                        window.scrollTo(rects.x, rects.y + offset);\n\n                        reportAnalytics('Tab Selected', {\n                            'tabId': tabId,\n                            'title': e.target.innerText,\n                            'tabSet': this.type\n                        });\n\n                        e.preventDefault();\n                    }\n                };\n            }\n        }\n\n        this.update(null, false);\n    }\n\n    update(tabId, isUserAction) {\n        if (this.tabStrips.length === 0) { return; }\n\n        if (!tabId) {\n            const tabPref = getTabPref();\n            if (this.anonymous && tabPref.pages && tabPref.pages[window.location.pathname]) {\n                // Check if current page has a one-off page specific pref\n                tabId = tabPref.pages[window.location.pathname];\n            } else if (tabPref[this.type]) {\n                tabId = tabPref[this.type];\n            }\n        }\n\n        if (!tabId || !this.tabIds[tabId]) {\n            tabId = this.getFirstTabId();\n\n            if (!tabId) { return; }\n        }\n\n        // Show the appropriate tab content and mark the tab as active\n        tabsEventDispatcher.dispatch({\n            'isUserAction': isUserAction,\n            'tabId': tabId,\n            'type': this.type\n        });\n    }\n\n    /**\n     * Marks the selected tab as active, handles special cases for the dropdown\n     * @param {string} currentAttrValue The currently selected tab ID.\n     * @returns {void}\n     */\n    showHideSelectedTab(currentAttrValue) {\n        for (const tabStrip of this.tabStrips) {\n            // Get the <a>, <li> and <ul> of the selected tab\n            const tabLink = $(tabStrip.querySelector(`[data-tabid=\"${currentAttrValue}\"]`));\n            if (!tabLink.length) {\n                continue;\n            }\n\n            const tabList = tabLink.parent('ul');\n\n            // Get the dropdown <a> and <li> for active and label management\n            const dropdownLink = $(tabStrip.querySelector('.dropdown-toggle'));\n            const dropdownListItem = $(tabStrip.querySelector('.dropdown'));\n\n            // Set the active tab, if it's on the dropdown set it to active and change label\n            if (tabList.hasClass('dropdown-menu')) {\n                // Use first so text doesn't repeat if more than one set of tabs\n                dropdownLink.text(`${tabLink.first().text()}`).append('<span class=\"caret\"></span>');\n                dropdownListItem.\n                    attr('aria-selected', true).\n                    siblings().\n                    attr('aria-selected', false);\n            } else {\n                // Set a non-dropdown tab to active, and change the dropdown label back to \"Other\"\n                tabLink.\n                    attr('aria-selected', true).\n                    siblings().\n                    attr('aria-selected', false);\n                dropdownLink.text('Other ').append('<span class=\"caret\"></span>');\n            }\n        }\n\n        const className = `tabpanel-${currentAttrValue}`;\n        for (const contentElement of this.tabContents) {\n            for (const childElement of contentElement.children) {\n                if (childElement.classList.contains(className)) {\n                    childElement.style.display = 'block';\n                } else {\n                    childElement.style.display = 'none';\n                }\n            }\n        }\n    }\n\n    static register(tabElement) {\n        const tabStripElements = toArray(tabElement.getElementsByClassName('tab-strip--singleton'));\n        const tabContent = tabElement.querySelector('.tabs__content');\n        let tabType = tabElement.getAttribute('data-tab-preference');\n        let anonymous = false;\n\n        // If there is no specified tab type, use the first tab's ID\n        if (!tabType) {\n            const firstTabidElement = tabElement.querySelector('[data-tabid]');\n            if (!firstTabidElement) { return; }\n\n            tabType = `anonymous-${firstTabidElement.getAttribute('data-tabid')}`;\n            anonymous = true;\n        }\n\n        if (tabSets[tabType]) {\n            const tabSet = tabSets[tabType];\n            tabSet.tabStrips = tabSet.tabStrips.concat(tabStripElements);\n            tabSet.tabContents.push(tabContent);\n            return;\n        }\n\n        const tabSet = new TabSet(tabType, anonymous, tabStripElements, [tabContent], false);\n        tabSets[tabType] = tabSet;\n    }\n}\n\n// Listen for state changes necessitating a redraw\ntabsEventDispatcher.listen((ctx) => {\n    const tabSet = tabSets[ctx.type];\n    if (tabSet) {\n        // Only save our new preference if we are responding to user input.\n        if (ctx.isUserAction) {\n            setTabPref(ctx, tabSet.anonymous);\n        }\n\n        tabSet.showHideSelectedTab(ctx.tabId);\n    }\n});\n\n// Create tab functionality for code examples\nexport function setup() {\n    tabSets = {};\n\n    const tabsElements = document.getElementsByClassName('tabs');\n    for (let i = 0; i < tabsElements.length; i += 1) {\n        TabSet.register(tabsElements[i]);\n    }\n\n    for (const tabType of Object.keys(tabSets)) {\n        tabSets[tabType].setup();\n    }\n}\n","import {setTabPref, tabsEventDispatcher} from './componentTabs';\nimport {throttle} from './util';\n\nconst headings = [];\n\nfunction recalculate() {\n    const height = document.body.clientHeight - window.innerHeight;\n\n    // This is a bit hacky, but it mostly works. Choose our current\n    // position in the page as a decimal in the range [0, 1], adding\n    // our window size multiplied by 80% of the unadjusted [0, 1]\n    // position.\n    // The 80% is necessary because the last sections of a guide tend to\n    // be shorter, and we need to make sure that scrolling to the bottom\n    // highlights the last section.\n    let currentPosition = document.documentElement.scrollTop / height;\n    currentPosition = (document.documentElement.scrollTop +\n        (currentPosition * 0.8 * window.innerHeight)) / height;\n\n    let bestMatch = [Infinity, null];\n\n    for (const [headingElement, tocElement] of headings) {\n        tocElement.classList.remove('active');\n\n        const headingPosition = headingElement.offsetTop / height;\n        const delta = Math.abs(headingPosition - currentPosition);\n        if (delta <= bestMatch[0]) {\n            bestMatch = [delta, tocElement];\n        }\n    }\n\n    if (bestMatch[1]) {\n        bestMatch[1].classList.add('active');\n    }\n}\n\ndocument.addEventListener('scroll', throttle(recalculate, 150));\n\nfunction setupScrollMonitor() {\n    const leftToc = document.querySelector('.left-toc');\n    if (!leftToc) { return; }\n\n    headings.length = 0;\n    for (const linkElement of leftToc.querySelectorAll('a')) {\n        const id = linkElement.getAttribute('href').slice(1);\n        if (!id) { continue; }\n\n        const headingElement = document.getElementById(id);\n        if (!headingElement) { continue; }\n\n        headings.push([headingElement, linkElement.parentElement]);\n    }\n\n    recalculate();\n}\n\nfunction pillClickHandler(ev) {\n    const tabId = ev.target.getAttribute('data-tab-preference');\n    if (!tabId) { return; }\n\n    setTabPref({\n        'tabId': tabId,\n        'type': 'languages'\n    }, false);\n}\n\nfunction setupLandingPage() {\n    const guidesCategoryListElement = document.getElementsByClassName('guide-category-list')[0];\n    if (!guidesCategoryListElement) { return; }\n\n    const pills = guidesCategoryListElement.getElementsByClassName('guide__pill');\n    for (let i = 0; i < pills.length; i += 1) {\n        pills[i].onclick = pillClickHandler;\n    }\n}\n\n// Guides show the current language in the tab preferences header. Update\n// that if necessary.\nconst showCurrentLanguageElements = document.getElementsByClassName('show-current-language');\ntabsEventDispatcher.listen((ctx) => {\n    if (ctx.type !== 'languages') { return; }\n\n    for (let i = 0; i < showCurrentLanguageElements.length; i += 1) {\n        showCurrentLanguageElements[i].innerText = ctx.tabId;\n    }\n});\n\nexport function setup() {\n    setupScrollMonitor();\n    setupLandingPage();\n}\n","const CLASS_ACTIVATED = 'lightbox__content--activated';\nconst CLASS_SCALABLE = 'lightbox__content--scalable';\n\nconst modal = document.createElement('div');\nmodal.className = 'lightbox__modal';\nmodal.title = 'click to close';\nconst modalContent = document.createElement('img');\nmodalContent.className = 'lightbox__content';\nmodal.appendChild(modalContent);\n\nfunction closeLightbox(ev) {\n    if (ev.type === 'keydown' && ev.key !== 'Escape') {\n        return;\n    }\n\n    modalContent.classList.remove(CLASS_ACTIVATED);\n    if (!modal.parentNode) {\n        return;\n    }\n\n    modal.parentNode.removeChild(modal);\n}\n\n// Wrap an image in a lightbox\nfunction wrapImage(img) {\n    const wrapperElement = document.createElement('div');\n    const captionElement = document.createElement('div');\n\n    wrapperElement.className = 'lightbox__imageWrapper';\n    captionElement.className = 'lightbox__caption';\n    captionElement.innerText = 'click to enlarge';\n\n    img.parentNode.replaceChild(wrapperElement, img);\n    wrapperElement.appendChild(img);\n    wrapperElement.appendChild(captionElement);\n\n    wrapperElement.addEventListener('click', () => {\n        document.body.appendChild(modal);\n        modalContent.src = img.src;\n        modalContent.alt = `${img.alt} — Enlarged`;\n\n        if ((/\\.svg$/).test(modalContent.src)) {\n            modalContent.classList.add(CLASS_SCALABLE);\n        } else {\n            modalContent.classList.remove(CLASS_SCALABLE);\n        }\n\n        modal.addEventListener('click', closeLightbox);\n\n        // Wait until the next DOM tick to make the fade animation work\n        setTimeout(() => {\n            modalContent.classList.add(CLASS_ACTIVATED);\n        }, 0);\n    });\n}\n\n// Intelligently wrap a figure in a lightbox if its natural area is >10%\n// larger than displayed.\nfunction wrapIfNeeded(figure, img) {\n    const naturalArea = img.naturalWidth * img.naturalHeight;\n    const clientArea = img.clientWidth * img.clientHeight;\n    if (clientArea < (naturalArea * 0.9)) {\n        wrapImage(img);\n        figure.classList.add('lightbox');\n    }\n}\n\nexport function setup() {\n    for (const figure of document.getElementsByClassName('lightbox')) {\n        if (figure.children.length === 0 || figure.children[0].tagName !== 'IMG') {\n            continue;\n        }\n\n        wrapImage(figure.children[0]);\n    }\n\n    // Now look at all non-explicitly-lightbox figures to see if they need\n    // the same treatment.\n    for (const figure of document.getElementsByClassName('figure')) {\n        if (figure.children.length === 0 ||\n            figure.children[0].tagName !== 'IMG' ||\n            figure.classList.contains('lightbox')) {\n            continue;\n        }\n\n        const img = figure.children[0];\n\n        if (img.complete) {\n            wrapIfNeeded(figure, img);\n        } else {\n            img.addEventListener('load', wrapIfNeeded.bind(null, figure, img));\n        }\n    }\n\n    // Register our escape handler. This is idempotent\n    document.addEventListener('keydown', closeLightbox);\n}\n","const COLLAPSED_PROPERTY = 'apiref-resource--collapsed';\n\n// We want to let users select a path without toggling the resource's\n// stage (open vs. collapsed). Only consider an event a click if the cursor\n// moved less than 50 pixels in either direction before the button is lifted.\nfunction createClickButNotSelectionHandler(element, onclick) {\n    let dragStart = null;\n\n    element.addEventListener('mousedown', (ev) => {\n        if (ev.button !== 0) { return; }\n        dragStart = ev;\n    });\n\n    element.addEventListener('mouseup', (ev) => {\n        if (ev.button !== 0) { return; }\n        const formerDragStart = dragStart;\n        dragStart = null;\n\n        if (!formerDragStart || (\n            Math.abs(ev.clientX - formerDragStart.clientX) < 50 &&\n            Math.abs(ev.clientY - formerDragStart.clientY) < 50)) {\n            onclick();\n        }\n    });\n}\n\nfunction toggleResource(classListAction, resourceElement) {\n    if (resourceElement.id) {\n        const hash = `#${resourceElement.id}`;\n        window.history.pushState({'href': hash}, '', hash);\n    }\n\n    resourceElement.classList[classListAction](COLLAPSED_PROPERTY);\n}\n\nfunction expand() {\n    const hash = document.location.hash.slice(1);\n    if (!hash) { return; }\n    const requested = document.getElementById(hash);\n    if (!requested) { return; }\n    if (!requested.classList.contains('apiref-resource')) { return; }\n    toggleResource('remove', requested);\n}\n\nwindow.addEventListener('hashchange', expand, false);\n\nexport function setup() {\n    const resourceHeaderElements = document.getElementsByClassName('apiref-resource__header');\n    for (let i = 0; i < resourceHeaderElements.length; i += 1) {\n        const element = resourceHeaderElements[i];\n        createClickButNotSelectionHandler(element,\n            toggleResource.bind(null, 'toggle', element.parentElement));\n    }\n\n    expand();\n}\n","export function setup() {\n    const extLinks = document.querySelectorAll('a.external');\n    if (extLinks) {\n        extLinks.forEach((link) => {\n            link.setAttribute('target', '_blank');\n        });\n    }\n}\n","import {reportAnalytics, toArray} from './util';\nimport {tabsEventDispatcher} from './componentTabs';\n\nfunction pillClickHandler(tabType, ev) {\n    const tabId = ev.target.getAttribute('data-tabid');\n    tabsEventDispatcher.dispatch({\n        'isUserAction': true,\n        'tabId': tabId,\n        'type': tabType\n    });\n\n    reportAnalytics('Pill Selected', {\n        'tabId': tabId,\n        'title': ev.target.innerText,\n        'pillSet': tabType\n    });\n}\n\nlet tabTypes = {};\ntabsEventDispatcher.listen((ctx) => {\n    for (const pillStripElement of tabTypes[ctx.type] || []) {\n        const elements = pillStripElement.getElementsByClassName('guide__pill');\n        for (let i = 0; i < elements.length; i += 1) {\n            const element = elements[i];\n            if (element.getAttribute('data-tabid') === ctx.tabId) {\n                elements[i].classList.add('guide__pill--active');\n            } else {\n                elements[i].classList.remove('guide__pill--active');\n            }\n        }\n    }\n});\n\nexport function setup() {\n    tabTypes = {};\n    for (const pillStripElement of document.querySelectorAll('.pillstrip-declaration')) {\n        const tabsType = pillStripElement.getAttribute('data-tab-preference');\n        if (!tabsType) { continue; }\n\n        if (tabTypes[tabsType] === undefined) { tabTypes[tabsType] = []; }\n        tabTypes[tabsType].push(pillStripElement);\n    }\n\n    for (const tabsType of Object.keys(tabTypes)) {\n        const pillStripElements = tabTypes[tabsType];\n        const tabStrips = document.querySelectorAll(`.tabs[data-tab-preference=\"${tabsType}\"] > .tab-strip`);\n        const seenPills = {};\n        const pills = [];\n\n        for (const tabStripElement of tabStrips) {\n            tabStripElement.style.display = 'none';\n\n            let i = -1;\n            let childElements = toArray(\n                tabStripElement.querySelectorAll('.tab-strip__element[data-tabid]'));\n            childElements = childElements.concat(\n                toArray(\n                    tabStripElement.querySelectorAll('.tab-strip__dropdown > li')));\n            for (const childElement of childElements) {\n                i += 1;\n                const tabId = childElement.getAttribute('data-tabid');\n                if (seenPills[tabId] !== undefined) {\n                    continue;\n                }\n\n                seenPills[tabId] = true;\n                pills.splice(i, 0, [tabId, childElement.innerText]);\n            }\n        }\n\n        const clickHandler = pillClickHandler.bind(undefined, tabsType);\n        for (const strip of pillStripElements) {\n            for (const [tabId, tabTitle] of pills) {\n                const pill = document.createElement('li');\n                pill.className = 'guide__pill';\n                pill.setAttribute('data-tabid', tabId);\n                pill.innerText = tabTitle;\n                pill.onclick = clickHandler;\n                strip.appendChild(pill);\n            }\n        }\n    }\n}\n","import * as util from './util';\n\n/* currently open page */\nfunction isCurrentNode($node) {\n    return $node.hasClass('current');\n}\n\nexport function setup() {\n    const project = $('body').attr('data-project');\n    const isStitch = project === 'stitch' || project === 'realm';\n    if (isStitch) {\n        return;\n    }\n    let $current = $('.sidebar a.current');\n    if (util.isLeafNode($current) || util.requiresPageload($current) || isCurrentNode($current)) {\n        $current.parent('li').addClass('selected-item');\n    }\n    $current.parents('ul').each((index, el) => {\n        $(el).css('display', 'block');\n    });\n\n    $('.sphinxsidebarwrapper > ul li:not(.current) > ul:not(.current)').hide();\n    $('.sphinxsidebarwrapper').show();\n\n    /*\n     * This event handler defines the left-column navigation's behavior\n     * The logic conforms to how sphinx generates the markup\n     * The rules are:\n     *  $('a.current') is the title of the content that is currently rendered\n     *    (this should never be changed client-side)\n     *  $('ul.current, li.current') are the set of lists that are currently expanded\n     *  $('li.selected-item') is the currently highlighted item\n     */\n    $('.sphinxsidebarwrapper .toctree-l1').on('click', 'a', (e) => {\n        const $target = $(e.currentTarget);\n        if (util.isLeafNode($target)) {\n            // Do a full page reload on leaf nodes\n            return;\n        }\n\n        // Release notes has special behavior to click through\n        if (!$target.parent().hasClass('selected-item') && util.requiresPageload($target)) {\n            return;\n        }\n\n        e.preventDefault();\n\n        if ($target.parent().hasClass('current')) {\n            // collapse target node\n            $target.parent().removeClass('current selected-item');\n            $target.siblings('ul').slideUp();\n        } else {\n\n            $current.parent().removeClass('selected-item');\n            // roll up all navigation up to the common ancestor\n            $current.parents().\n                add($current.siblings('ul')).\n                each((index, el) => {\n                    const $el = $(el);\n                    if ($el.has(e.currentTarget).length) {\n                        return;\n                    }\n\n                    if ($el.is('ul')) {\n                        $el.removeClass('current').slideUp();\n                    } else {\n                        $el.removeClass('current');\n                    }\n                });\n            // add css classes for the new 'current' nav item\n            $target.parent().addClass('current');\n            $target.siblings('ul').slideDown(() => {\n                if (util.isLeafNode($target) ||\n                    util.requiresPageload($target) ||\n                    isCurrentNode($current)) {\n                    $target.parent('li').addClass('selected-item');\n                }\n            });\n            // set new $current\n            $current = $target;\n        }\n    });\n\n    /* Add expand icons to indicate what's expandable and what's a link. This\n       is necessary when (1) we're at a leaf node, or (2) the menu triggers\n       a page load. */\n    $('.sphinxsidebarwrapper > ul ul a.reference').prepend(function(index) {\n        const expandElement = $('<span class=\"expand-icon\"></span>');\n        const self = $(this);\n\n        if (!util.isLeafNode(self)) {\n            expandElement.addClass('docs-expand-arrow');\n        }\n\n        return expandElement;\n    });\n}\n","const SLIDE_ANIMATION_TIME_MS = 400;\nlet $currentPage = $('.sidebar a.current');\n\nfunction isVisible(target) {\n    return target.hasClass('current');\n}\n\nfunction handleTocSectionVisibility() {\n    // Show/hide the appropriate TOC sections\n    const $sidebar = $('.sphinxsidebarwrapper');\n    const $visibleRootSection = $('ul.toc-section-root.current');\n    const $nonvisibleRootSections = $('ul.toc-section-root:not(.current)');\n    const $visibleNestedSection = $('ul.toc-section-nested.current');\n    const $nonvisibleNestedSections = $('ul.toc-section-nested:not(.current)');\n    $visibleRootSection.show();\n    $visibleNestedSection.show();\n    $nonvisibleRootSections.hide();\n    $nonvisibleNestedSections.hide();\n    $sidebar.show();\n}\nfunction handleRootSectionNavigation(e) {\n    e.preventDefault();\n    const $targetSection = $(e.currentTarget).parent();\n\n    function collapseSection(section) {\n        const $sectionHeading = section.children('h3');\n        const $sectionContent = section.children(':not(h3)');\n\n        $sectionHeading.removeClass('open');\n        $sectionContent.stop().slideUp(SLIDE_ANIMATION_TIME_MS, () => {\n            section.add(section.children()).removeClass('current');\n        });\n    }\n\n    function expandSection(section) {\n        section.add(section.children()).addClass('current');\n        section.children('ul.toc-section-root').stop().\n            slideDown(SLIDE_ANIMATION_TIME_MS);\n    }\n\n    if (isVisible($targetSection)) {\n        collapseSection($targetSection);\n    } else {\n        const $visibleSection = $('li.toctree-l1.current');\n        collapseSection($visibleSection);\n        expandSection($targetSection);\n    }\n}\n\nfunction handleSectionNavigation(e) {\n    e.preventDefault();\n    const $targetHeading = $(e.currentTarget);\n    const $targetSection = $targetHeading.parent();\n\n    function collapseSection(section) {\n        const $sectionHeading = section.children('h4, h5');\n        const $sectionContent = section.children(':not(h4, h5)');\n\n        $sectionHeading.removeClass('open');\n        $sectionContent.stop().slideUp(SLIDE_ANIMATION_TIME_MS, () => {\n            section.add(section.children()).removeClass('current');\n        });\n    }\n\n    function expandSection(section) {\n        const $sectionHeading = section.children('h4, h5');\n        const $sectionContent = section.children(':not(h4, h5)');\n\n        $sectionHeading.addClass('open current');\n        $sectionContent.stop().slideDown(SLIDE_ANIMATION_TIME_MS, () => {\n            section.addClass('current');\n            $sectionContent.addClass('current');\n        });\n    }\n\n    if (isVisible($targetSection)) {\n        collapseSection($targetSection);\n    } else {\n        expandSection($targetSection);\n    }\n}\n\nfunction handleCompositePage(e) {\n    e.preventDefault();\n    const $targetIcon = $(e.currentTarget);\n    const $targetPage = $targetIcon.parent();\n    const $subpageSection = $targetPage.siblings('ul.toc-section-nested');\n\n    const isClosed = $targetIcon.hasClass('is-closed');\n    if (isClosed) {\n        $subpageSection.stop().slideDown();\n        $targetIcon.removeClass('is-closed');\n        $targetIcon.addClass('is-open');\n    } else {\n        $subpageSection.stop().slideUp();\n        $targetIcon.removeClass('is-open');\n        $targetIcon.addClass('is-closed');\n    }\n}\n\n\nfunction addNavigationHandlers() {\n    // Handle TOC navigation\n    const $tocSections = $('.toctree-root .toctree-l1');\n    $tocSections.on('click', 'h3', handleRootSectionNavigation);\n    $tocSections.on('click', 'h4', handleSectionNavigation);\n    $tocSections.on('click', 'h5', handleSectionNavigation);\n    $tocSections.on('click', 'a span.nested-page-toggle', handleCompositePage);\n}\n\nfunction addIcons() {\n    // Add the page icon (file-alt-regular) to (expand-icon)\n    const $tocPagesWithoutChildren = $(\n        'ul.toctree-root li:not(.contains-nested) > a.reference'\n    );\n    $tocPagesWithoutChildren.prepend(() =>\n        $('<span class=\"page-icon\"></span>')\n    );\n\n    // Add composite page toggles\n    const closedPageToggleIcon =\n    '<span class=\"nested-page-toggle is-closed\"></span>';\n    const openPageToggleIcon =\n    '<span class=\"nested-page-toggle is-open contains-current-page\"></span>';\n\n    const $closedPagesWithChildren = $('li.contains-nested > a:not(.current)').\n        filter($('li.contains-nested > ul:not(.toc-section-nested.current)').siblings('a'));\n    const $openPagesWithChildren = $('li.contains-nested > a.current').\n        add($('li.contains-nested > ul.toc-section-nested.current').siblings('a'));\n\n    $closedPagesWithChildren.prepend(closedPageToggleIcon);\n    $openPagesWithChildren.prepend(openPageToggleIcon);\n\n    // Add a vertical line to nested sub-pages\n    const $nestedTocPages = $('ul.toc-section-nested a.reference');\n    $nestedTocPages.prepend(() => $('<span class=\"nested-page-line\"></span>'));\n}\n\nexport function setup() {\n    const project = $('body').attr('data-project');\n    const isStitch = project === 'stitch' || project === 'realm';\n    if (isStitch) {\n        $currentPage = $('.sidebar a.current');\n        $currentPage.parent('li').addClass('selected-item');\n\n        handleTocSectionVisibility();\n        addNavigationHandlers();\n        addIcons();\n    }\n}\n","export function initialize() {\n    /* eslint-disable */\n}\n\nexport function setup(fastNav) {\n    return false;\n}\n","import {getTabPref, tabsEventDispatcher} from './componentTabs';\n\nconst STYLE_SELECTED = 'guide__deploymentpill--active';\nconst STYLE = 'guide__pill';\nconst STYLE_DEPLOY = 'guide__deploymentpill';\nconst STYLE_DEPLOYTEXT = 'show-current-deployment';\n\n\nfunction setToggleState(id) {\n    const elements = document.getElementsByClassName(STYLE);\n    for (let i = 0; i < elements.length; i += 1) {\n        const element = elements[i];\n        if (element.getAttribute('data-tabid') === id) {\n            elements[i].classList.add(STYLE_SELECTED);\n        } else {\n            elements[i].classList.remove(STYLE_SELECTED);\n        }\n    }\n    if (document.getElementsByClassName(STYLE_DEPLOYTEXT).length > 0) {\n        document.getElementsByClassName(STYLE_DEPLOYTEXT)[0].innerHTML = id;\n    }\n}\n\ntabsEventDispatcher.listen((ctx) => {\n    if (ctx.type === 'cloud') {\n        setToggleState(ctx.tabId);\n    }\n});\n\nfunction dispatchState(cloudState) {\n    tabsEventDispatcher.dispatch({\n        'isUserAction': true,\n        'tabId': cloudState,\n        'type': 'cloud'\n    });\n}\n\nfunction addListenersToPills(element) {\n    element.addEventListener('click', (event) => {\n        tabsEventDispatcher.dispatch({\n            'isUserAction': true,\n            'tabId': event.target.innerHTML,\n            'type': 'cloud'\n        });\n    });\n}\n\nfunction getTabNode(nodeName, pref) {\n    const element = document.createElement('li');\n    element.classList.add(STYLE);\n    element.classList.add(STYLE_DEPLOY);\n    element.setAttribute('data-tabid', nodeName);\n    element.innerHTML = nodeName;\n    addListenersToPills(element);\n    setToggleState(nodeName);\n    return element;\n}\n\nexport function setup() {\n    // we use a sort of reflection to figure out if this needs to display\n\n    const parent = document.getElementsByClassName('guide-prefs__deploy')[0];\n    if (parent === undefined) {\n        return;\n    }\n    if (document.getElementsByClassName('tabpanel-cloud').length === 0 &&\n        document.getElementsByClassName('guide-prefs__deploy').length > 0) {\n        document.getElementsByClassName('guide-prefs__deploy')[0].style.display = 'none';\n        return;\n    }\n    const tabPrefs = getTabPref();\n    if (tabPrefs.cloud === undefined) {\n        tabPrefs.cloud = 'local';\n    }\n    // setToggleState(tabPrefs.cloud);\n    const list = document.createElement('ul');\n    list.classList.add('guide__pills');\n    list.classList.add('pillstrip-declaration');\n    list.setAttribute('role', 'tablist');\n    list.setAttribute('data-tab-preference', 'cloud');\n    list.appendChild(getTabNode('cloud', tabPrefs.cloud));\n    list.appendChild(getTabNode('local', tabPrefs.cloud));\n    parent.appendChild(list);\n    setToggleState(tabPrefs.cloud);\n    dispatchState(tabPrefs.cloud);\n}\n","import {tabsEventDispatcher} from './componentTabs';\n\nconst LOCALSTORAGE_KEY_LOCAL = 'uriwriter_local';\nconst LOCALSTORAGE_KEY_ATLAS = 'uriwriter_atlas';\nconst LOCALSTORAGE_KEY_CURRENT_STATE = 'uriwriter_currentstate';\n\nconst TEMPLATE_TYPE_SELF_MANAGED = 'local';\nconst TEMPLATE_TYPE_REPLICA_SET = 'local with replica set';\nconst TEMPLATE_TYPE_ATLAS_36 = 'Atlas (Cloud) v. 3.6';\nconst TEMPLATE_TYPE_ATLAS_34 = 'Atlas (Cloud) v. 3.4';\nconst TEMPLATE_TYPE_ATLAS = 'Atlas (Cloud)';\n\nconst TEMPLATES = {\n  [TEMPLATE_TYPE_SELF_MANAGED]: {\n    options: [\n      {\n        name: 'authSource',\n        type: 'text',\n      },\n    ],\n    template:\n      'mongodb://$[username]:$[password]@$[hostlist]/$[database]?$[options]',\n    templatePasswordRedactedShell:\n      'mongodb://$[hostlist]/$[database]?$[options] --username $[username]',\n    templateShell:\n      'mongodb://$[username]:$[password]@$[hostlist]/$[database]?$[options]',\n  },\n  [TEMPLATE_TYPE_REPLICA_SET]: {\n    options: [\n      {\n        name: 'replicaSet',\n        type: 'text',\n      },\n      {\n        name: 'authSource',\n        type: 'text',\n      },\n      {\n        name: 'ssl',\n        type: 'pass-through',\n        value: 'true',\n      },\n    ],\n    template:\n      'mongodb://$[username]:$[password]@$[hostlist]/$[database]?$[options]',\n    templatePasswordRedactedShell:\n      'mongodb://$[hostlist]/$[database]?$[options] --username $[username] --password',\n    templateShell:\n      'mongodb://$[username]:$[password]@$[hostlist]/$[database]?$[options]',\n  },\n  [TEMPLATE_TYPE_ATLAS_36]: {\n    options: [],\n    template:\n      'mongodb+srv://$[username]:$[password]@$[hostlist]/$[database]?retryWrites=true',\n    templatePasswordRedactedShell:\n      'mongodb+srv://$[hostlist]/$[database] --username $[username] --password',\n    templateShell:\n      'mongodb+srv://$[username]:$[password]@$[hostlist]/$[database]',\n  },\n  [TEMPLATE_TYPE_ATLAS_34]: {\n    options: [\n      {\n        name: 'replicaSet',\n        type: 'text',\n      },\n      {\n        name: 'authSource',\n        type: 'text',\n      },\n      {\n        name: 'ssl',\n        type: 'pass-through',\n        value: 'true',\n      },\n    ],\n    template:\n      'mongodb://$[username]:$[password]@$[hostlist]/$[database]?$[options]',\n    templatePasswordRedactedShell:\n      'mongodb://$[hostlist]/$[database]?replicaSet=$[replicaSet] --ssl --authenticationDatabase $[authSource] --username $[username] --password',\n    templateShell:\n      'mongodb://$[hostlist]/$[database]?replicaSet=$[replicaSet] --ssl --authenticationDatabase $[authSource] --username $[username] --password $[password]',\n  },\n};\n\nfunction getValue(value, option) {\n  if (option.type === 'pass-through') {\n    return option.value;\n  }\n\n  return value;\n}\n\nfunction getPrefix(uri) {\n  if (uri.charAt(0) === \"'\" || uri.charAt(0) === '\"') {\n    return uri.charAt(0);\n  }\n  return '';\n}\n\nconst PLACEHOLDER_PATTERN =\n  /&lt;(?:(?:URISTRING(?:_(?:(?:SHELL_NOUSER)|(?:SHELL)))?)|(?:USERNAME))&gt;/g;\nfunction preparseUristrings() {\n  const elements = document.getElementsByTagName('pre');\n  for (let i = 0; i < elements.length; i += 1) {\n    elements[i].innerHTML = elements[i].innerHTML.replace(\n      PLACEHOLDER_PATTERN,\n      '<span class=\"uristring-element\">$&</span>'\n    );\n  }\n}\n\nfunction validateHost(host) {\n  const parsed = /^\\s*([^:\\s]+)(?::(\\d+))?\\s*$/.exec(host);\n  if (!parsed) {\n    throw new Error(\n      'Invalid host format: must match the format \"hostname:port\"'\n    );\n  }\n\n  const port = parseInt(parsed[2], 10);\n  if (isNaN(port)) {\n    throw new Error('Missing port: host must match the format \"hostname:port\"');\n  }\n\n  if (port > 65535) {\n    throw new Error('Port number is too large');\n  }\n\n  return [parsed[1], port];\n}\n\nfunction conveyInvalidParse(statusElement) {\n  statusElement.classList.add('mongodb-form__status--invalid');\n  statusElement.classList.remove('mongodb-form__status--good');\n  statusElement.style.display = '';\n  statusElement.innerText = 'Connection string could not be parsed';\n  // do something? email?\n}\n\nfunction conveyValidParse(statusElement) {\n  statusElement.classList.add('mongodb-form__status--good');\n  statusElement.classList.remove('mongodb-form__status--invalid');\n  statusElement.style.display = '';\n  statusElement.innerText = 'Connection string parsed';\n}\n\nfunction splitOptions(tempWriter, arrayOfMatches) {\n  const settingsArray = arrayOfMatches.split('&');\n  if (settingsArray.length > 0) {\n    for (let i = 0; i < settingsArray.length; i += 1) {\n      const keyValue = settingsArray[i].split('=');\n      tempWriter[keyValue[0]] = keyValue[1];\n    }\n  }\n}\n\nclass HostList {\n  constructor(rootElement, uriWriter) {\n    this.root = rootElement;\n\n    this.uriWriter = uriWriter;\n    this.elementPairs = [];\n    this.updateHostsFromUriWriter();\n  }\n\n  get hosts() {\n    return this.elementPairs\n      .map(pair => pair[0].value.trim())\n      .filter(host => host);\n  }\n\n  get lastInput() {\n    return this.elementPairs[this.elementPairs.length - 1][0];\n  }\n\n  updateHostsFromUriWriter() {\n    this.elementPairs = [];\n    this.root.innerText = '';\n    const state = this.uriWriter.loadState(this.uriWriter.loadCurrentState());\n    for (const host of state.hostlist || []) {\n      this.addHost(host);\n    }\n\n    this.addHost();\n  }\n\n  addHost(host) {\n    const inputElement = document.createElement('input');\n    inputElement.className = 'mongodb-form__input';\n    inputElement.placeholder = 'localhost:27017';\n    inputElement.value = host || '';\n    const statusElement = document.createElement('div');\n    statusElement.className = 'mongodb-form__status';\n\n    inputElement.oninput = () => {\n      if (inputElement.value) {\n        if (this.lastInput === inputElement) {\n          this.addHost();\n        }\n      } else if (this.lastInput !== inputElement) {\n        this.elementPairs = this.elementPairs.filter(\n          x => x[0] !== inputElement\n        );\n        this.root.removeChild(inputElement);\n        this.root.removeChild(statusElement);\n\n        this.uriWriter.setHosts(this.hosts);\n        return;\n      }\n\n      try {\n        validateHost(inputElement.value);\n      } catch (err) {\n        inputElement.setCustomValidity(err.message);\n        statusElement.innerText = err.message;\n        statusElement.classList.add('mongodb-form__status--invalid');\n        return;\n      }\n\n      statusElement.innerText = '';\n      statusElement.classList.remove('mongodb-form__status--invalid');\n      inputElement.setCustomValidity('');\n\n      this.uriWriter.setHosts(this.hosts);\n    };\n\n    this.root.appendChild(inputElement);\n    this.root.appendChild(statusElement);\n    this.elementPairs.push([inputElement, statusElement]);\n  }\n}\n\nlet uriwriterSingleton = null;\nclass UriwriterSingleton {\n  constructor() {\n    // an array of DOM objects that care about changes to the URI\n    this.uristowrite = [];\n    this.usernamestowrite = [];\n    this.uristowritepasswordredactedshell = [];\n    this.uristowriteshell = [];\n    // this.uristringPasswordRedacted = 'mongodb://$[hostlist]/$[database]?$[options]';\n    this.urireplacestring = '';\n    this.options = {};\n\n    this.hostList = null;\n\n    // setup listeners on the page to changes in uri fields (view)\n    this.setupURIListeners();\n    // calculate and propagate the URI (controller)]\n    this.loadTemplateEnv();\n    this.renderURI();\n    this.registerDispatch();\n  }\n\n  loadTemplateEnv() {\n    if (this.loadState(this.loadCurrentState()).env === undefined) {\n      if (\n        this.loadCurrentState() === 'local' ||\n        this.loadCurrentState() === 'undefined'\n      ) {\n        this.saveState({env: TEMPLATE_TYPE_SELF_MANAGED}, 'local');\n      } else {\n        this.saveState({env: TEMPLATE_TYPE_ATLAS_36}, 'cloud');\n      }\n    }\n  }\n\n  // get stuff related to this component out of local storage\n  loadState(atlas) {\n    if (atlas === 'cloud') {\n      return (\n        JSON.parse(window.localStorage.getItem(LOCALSTORAGE_KEY_ATLAS)) || {}\n      );\n    }\n    return (\n      JSON.parse(window.localStorage.getItem(LOCALSTORAGE_KEY_LOCAL)) || {}\n    );\n  }\n\n  // put stuff related to this coponent in local storage, we only set\n  // the whole thing, not portions\n  saveState(state, atlas) {\n    if (atlas === 'cloud') {\n      window.localStorage.setItem(\n        LOCALSTORAGE_KEY_ATLAS,\n        JSON.stringify(state)\n      );\n    } else {\n      window.localStorage.setItem(\n        LOCALSTORAGE_KEY_LOCAL,\n        JSON.stringify(state)\n      );\n    }\n  }\n\n  loadCurrentState() {\n    return window.localStorage.getItem(LOCALSTORAGE_KEY_CURRENT_STATE);\n  }\n\n  saveCurrentState(atlasState) {\n    window.localStorage.setItem(LOCALSTORAGE_KEY_CURRENT_STATE, atlasState);\n  }\n\n  // add or modify a value in our uriwriter in local storage.\n  addValue(key, value) {\n    const uriwriter = this.loadState(this.loadCurrentState());\n    if (key !== 'atlaspasteduri' && key !== 'env') {\n      delete uriwriter.atlaspasteduri;\n    }\n    uriwriter[key] = value;\n    this.saveState(uriwriter, this.loadCurrentState());\n  }\n\n  // setup view hooks to change when data or environment changes\n  setupURIListeners() {\n    preparseUristrings();\n    const list = document.getElementsByClassName('uristring-element');\n    for (let i = 0; i < list.length; i += 1) {\n      if (list[i].innerHTML.indexOf('&lt;URISTRING&gt;') > -1) {\n        this.uristowrite.push(list[i]);\n      }\n      if (list[i].innerHTML.indexOf('&lt;USERNAME&gt;') > -1) {\n        this.usernamestowrite.push(list[i]);\n      }\n      if (list[i].innerHTML.indexOf('&lt;URISTRING_SHELL&gt;') > -1) {\n        this.uristowriteshell.push(list[i]);\n      }\n      if (list[i].innerHTML.indexOf('&lt;URISTRING_SHELL_NOUSER&gt;') > -1) {\n        this.uristowritepasswordredactedshell.push(list[i]);\n      }\n    }\n  }\n\n  writeToPlaceholders() {\n    for (let i = 0; i < this.uristowrite.length; i += 1) {\n      const prefix = getPrefix(this.uristowrite[i].innerHTML);\n      this.uristowrite[\n        i\n      ].innerHTML = `${prefix}${this.urireplacestring}${prefix}`;\n    }\n    for (let i = 0; i < this.uristowritepasswordredactedshell.length; i += 1) {\n      this.uristowritepasswordredactedshell[i].innerHTML =\n        this.urireplacestringPasswordRedactedShell;\n    }\n    for (let i = 0; i < this.uristowriteshell.length; i += 1) {\n      this.uristowriteshell[i].innerHTML = this.urireplacestringShell;\n    }\n    // node use case for separation of username out of uri for encoding\n    for (let i = 0; i < this.usernamestowrite.length; i += 1) {\n      this.usernamestowrite[i].innerHTML = this.username;\n    }\n  }\n\n  setEnvironment(env) {\n    const isAtlas = env.startsWith(TEMPLATE_TYPE_ATLAS);\n    if (isAtlas) {\n      this.saveCurrentState('cloud');\n    } else {\n      this.saveCurrentState('local');\n    }\n    const state = this.loadState(this.loadCurrentState());\n    const haveWidgetOnPage = Boolean(document.getElementById('uriwriter'));\n    if (isAtlas && haveWidgetOnPage) {\n      document.getElementsByClassName(\n        'atlascontrols__status'\n      )[0].style.display = 'none';\n\n      if (state.atlaspasteduri !== undefined) {\n        // move all of this to an encapsulating function;\n        this.parseIncomingAtlasString(state.atlaspasteduri);\n        this.renderURI();\n        this.populateForm();\n        return;\n      }\n    }\n\n    if (\n      (state !== undefined &&\n        state.env !== undefined &&\n        state.env.startsWith(TEMPLATE_TYPE_ATLAS)) ||\n      isAtlas\n    ) {\n      // this.saveState({});\n\n      if (haveWidgetOnPage) {\n        this.hostList.updateHostsFromUriWriter();\n      }\n    }\n\n    this.addValue('env', env);\n    this.renderURI();\n\n    if (haveWidgetOnPage) {\n      this.populateForm();\n    }\n  }\n\n  toggleEnvironmentExternal(atlas) {\n    const element = document.getElementById('deployment_type');\n    if (atlas === 'cloud') {\n      element.style.display = 'none';\n    } else {\n      element.style.display = 'block';\n    }\n  }\n  // this is the listener that is triggered when an environment select happens\n  setupEnvironmentListeners() {\n    const elements = document.getElementsByClassName('uriwriter__toggle');\n    let initiallySelected = this.loadState(this.loadCurrentState()).env;\n    if (\n      initiallySelected === TEMPLATE_TYPE_ATLAS_36 ||\n      initiallySelected === TEMPLATE_TYPE_ATLAS_34\n    ) {\n      initiallySelected = TEMPLATE_TYPE_ATLAS;\n    }\n\n    for (let i = 0; i < elements.length; i += 1) {\n      if (initiallySelected === elements[i].innerHTML) {\n        elements[i].classList.add('guide__pill--active');\n      }\n\n      elements[i].onclick = event => {\n        const element = event.target;\n\n        const parentChildren = element.parentElement.children;\n        for (\n          let childIndex = 0;\n          childIndex < parentChildren.length;\n          childIndex += 1\n        ) {\n          parentChildren[childIndex].classList.remove('guide__pill--active');\n        }\n\n        element.classList.add('guide__pill--active');\n        this.setEnvironment(element.innerHTML);\n      };\n    }\n  }\n\n  // controller for writing the uri out to the listening html\n  renderURI() {\n    // User is in Atlas placeholder mode, no template defined. Can't render a uri.\n    // or should we default?\n    if (this.loadState(this.loadCurrentState()).env === TEMPLATE_TYPE_ATLAS) {\n      this.addValue('env', TEMPLATE_TYPE_ATLAS_36);\n    }\n    // we have a basic idea of the environment, get the associated uri template\n    const template = TEMPLATES[this.loadState(this.loadCurrentState()).env];\n\n    if (!template) {\n      return;\n    }\n\n    // the placeholder uri string template\n    this.uristring = template.template;\n    // options are environment specific settings that need to go in the uri\n    this.options = template.options;\n    // no we do our replacing of template fields\n    this.urireplacestring = this.replaceString(this.uristring, '&');\n    // on the redacted one as well\n    this.urireplacestringShell = this.replaceString(\n      template.templateShell,\n      ','\n    );\n    this.urireplacestringPasswordRedactedShell = this.replaceString(\n      template.templatePasswordRedactedShell,\n      ','\n    );\n    this.username = this.loadState(this.loadCurrentState()).username;\n    this.writeToPlaceholders();\n  }\n\n  optionStringifier(options, optionJoinCharacter) {\n    const parts = [];\n    const state = this.loadState(this.loadCurrentState());\n\n    for (let i = 0; i < this.options.length; i += 1) {\n      const option = this.options[i];\n      const name = option.name;\n      let value = getValue(state[name], option);\n      if (!value) {\n        if (option.placeholder) {\n          value = option.placeholder;\n        } else {\n          value = `$[${name}]`;\n        }\n      }\n      parts.push(`${name}=${value}`);\n    }\n\n    return parts.join(optionJoinCharacter);\n  }\n\n  replaceString(localUriString, optionJoinCharacter) {\n    const state = this.loadState(this.loadCurrentState());\n\n    // replace hardcoded plaments (why oh why do we do this????)\n    if (state.username) {\n      localUriString = localUriString.replace('$[username]', state.username);\n    }\n    if (state.database) {\n      localUriString = localUriString.replace('$[database]', state.database);\n    }\n    if (state.authSource) {\n      localUriString = localUriString.replace(\n        '$[authSource]',\n        state.authSource\n      );\n    }\n    if (state.replicaSet) {\n      localUriString = localUriString.replace(\n        '$[replicaSet]',\n        state.replicaSet\n      );\n    }\n\n    // replace options where they exist\n    const optionsString = this.optionStringifier(\n      this.options,\n      optionJoinCharacter\n    );\n\n    if (optionsString.length > 0) {\n      localUriString = localUriString.replace('$[options]', optionsString);\n    }\n\n    // get our hosts and ports in\n    if (state.hostlist && state.hostlist.length > 0) {\n      localUriString = localUriString.replace(\n        '$[hostlist]',\n        state.hostlist.join(',')\n      );\n    }\n\n    return localUriString;\n  }\n\n  renderOptions() {\n    const elements = document.getElementsByClassName(\n      'uriwriter__option-prompt'\n    );\n    while (elements.length > 0) {\n      elements[0].parentElement.removeChild(elements[0]);\n    }\n\n    if (this.options && this.options.length > 0) {\n      for (let i = 0; i < this.options.length; i += 1) {\n        if (this.options[i].type !== 'pass-through') {\n          this.renderOption(this.options[i]);\n        }\n      }\n    }\n  }\n\n  renderOption(option) {\n    const optionElement = document.createElement('label');\n    optionElement.className = 'mongodb-form__prompt uriwriter__option-prompt';\n\n    const label = document.createElement('div');\n    label.className = 'mongodb-form__label';\n    label.innerText = option.name;\n\n    const inputElement = document.createElement('input');\n    inputElement.setAttribute('id', option.name);\n    if (option.placeholder) {\n      inputElement.setAttribute('placeholder', option.placeholder);\n    }\n    inputElement.className = 'mongodb-form__input';\n    if (this.loadState(this.loadCurrentState())[option.name] !== undefined) {\n      inputElement.value = this.loadState(this.loadCurrentState())[option.name];\n    }\n    inputElement.addEventListener('input', event => {\n      this.addValue(option.name, document.getElementById(option.name).value);\n      this.renderURI();\n    });\n\n    optionElement.appendChild(label);\n    optionElement.appendChild(inputElement);\n\n    const serverPromptElement = document.querySelector(\n      '[data-server-configuration]'\n    );\n    serverPromptElement.parentElement.insertBefore(\n      optionElement,\n      serverPromptElement\n    );\n  }\n\n  initializeWidget() {\n    if (!document.getElementById('uriwriter')) {\n      return;\n    }\n\n    this.hostList = new HostList(document.getElementById('hostlist'), this);\n\n    document\n      .getElementById('uriwriter_username')\n      .addEventListener('input', event => {\n        this.addValue('username', event.target.value);\n        this.renderURI();\n      });\n\n    const atlaspaste = document.getElementById('uriwriter_atlaspaste');\n    const statusElement = document.getElementsByClassName(\n      'atlascontrols__status'\n    )[0];\n\n    atlaspaste.oninput = event => {\n      const pastedValue = atlaspaste.value;\n      if (!pastedValue.trim()) {\n        statusElement.style.display = 'none';\n        atlaspaste.setCustomValidity('');\n        return;\n      }\n\n      if (!this.parseIncomingAtlasString(pastedValue)) {\n        atlaspaste.setCustomValidity('Failed to parse');\n        conveyInvalidParse(statusElement);\n      } else {\n        atlaspaste.setCustomValidity('');\n        this.addValue('atlaspasteduri', pastedValue);\n        conveyValidParse(statusElement);\n        this.renderURI();\n        this.populateForm();\n      }\n    };\n\n    document.getElementById('uriwriter_db').addEventListener('input', event => {\n      this.addValue('database', document.getElementById('uriwriter_db').value);\n      this.renderURI();\n    });\n    this.setupEnvironmentListeners();\n    this.populateForm();\n  }\n\n  renderFormValues() {\n    const state = this.loadState(this.loadCurrentState());\n    const atlasControlsElement = document.getElementsByClassName(\n      'uriwriter__atlascontrols'\n    )[0];\n    if (\n      state.env === TEMPLATE_TYPE_SELF_MANAGED ||\n      state.env === TEMPLATE_TYPE_REPLICA_SET\n    ) {\n      atlasControlsElement.style.display = 'none';\n      document.getElementById('userinfo_form').style.display = '';\n    } else {\n      document.getElementById('uriwriter_atlaspaste').value =\n        state.atlaspasteduri || '';\n\n      if (state.atlaspasteduri !== undefined) {\n        atlasControlsElement.style.display = '';\n      } else {\n        atlasControlsElement.style.display = 'none';\n      }\n\n      document.getElementById('userinfo_form').style.display = 'none';\n      atlasControlsElement.style.display = '';\n      return;\n    }\n    if (state.username !== undefined) {\n      document.getElementById('uriwriter_username').value = state.username;\n    }\n    if (state.database !== undefined) {\n      document.getElementById('uriwriter_db').value = state.database;\n    }\n  }\n\n  /** IP related functions **/\n\n  setHosts(hostlist) {\n    const uriwriter = this.loadState(this.loadCurrentState());\n    uriwriter.hostlist = hostlist;\n    this.saveState(uriwriter, this.loadCurrentState());\n    this.renderURI();\n  }\n\n  populateForm() {\n    this.toggleEnvironmentExternal(this.loadCurrentState());\n    this.renderOptions();\n    this.renderFormValues();\n    this.hostList = new HostList(document.getElementById('hostlist'), this);\n  }\n\n  registerDispatch() {\n    tabsEventDispatcher.listen(ctx => {\n      if (!uriwriterSingleton) {\n        return;\n      }\n      this.renderURI();\n      if (ctx.type !== 'cloud') {\n        return;\n      }\n      // tricky: we only want to change the pill state on toggle\n      if (ctx.tabId === 'cloud') {\n        if (this.loadCurrentState() === 'cloud') {\n          return;\n        }\n        this.saveCurrentState('cloud');\n        this.loadTemplateEnv();\n        this.renderURI();\n        // this.toggleEnvironmentExternal('cloud');\n      } else {\n        if (this.loadCurrentState() === 'local') {\n          return;\n        }\n        this.saveCurrentState('local');\n        this.loadTemplateEnv();\n        this.renderURI();\n        // this.toggleEnvironmentExternal('local');\n      }\n      const haveWidgetOnPage = Boolean(document.getElementById('uriwriter'));\n      if (haveWidgetOnPage) {\n        this.populateForm();\n      }\n    });\n  }\n\n  /** Atlas copy paste parse and processing **/\n\n  parseOutShellParams(splitOnSpace, tempWriter) {\n    // go through all of the command line args, parse\n    for (let i = 0; i < splitOnSpace.length; i += 1) {\n      if (splitOnSpace[i].startsWith('--')) {\n        // this is a key, if next val does not begin with --, its a value\n        if (!splitOnSpace[i + 1].startsWith('--')) {\n          let splitKey = splitOnSpace[i].replace('--', '');\n          let splitValue = splitOnSpace[i + 1];\n\n          if (splitKey === 'authenticationDatabase') {\n            splitKey = 'authSource';\n          }\n\n          // sometimes the next string is another parameter,\n          // ignore those as they are canned\n          if (!splitValue.startsWith('--')) {\n            // get rid of brackets which can cause problems with our inline code\n            splitValue = splitValue.replace('<', '').replace('>', '');\n            tempWriter[splitKey] = splitValue;\n          }\n        }\n      }\n    }\n  }\n\n  parseOutURIParams(shellString, tempWriter) {\n    const uriParamArray = shellString.split('&');\n    for (let i = 0; i < uriParamArray.length; i += 1) {\n      const keyValueString = uriParamArray[i];\n      const keyValueArray = keyValueString.split('=');\n      tempWriter[keyValueArray[0]] = keyValueArray[1];\n    }\n  }\n\n  parseOutEnvAndClusters(splitOnSpaceClusterEnv, tempWriter) {\n    // depending on whether this is 3.6 or 3.4 the cluster info looks slightly different\n    // 3.4 uses the URI to pass in a replica set name\n    let shellMatch = /(\\w+):\\/\\/((\\S+)(:)+(\\S+))\\/(\\w+)?\\?(\\S+)/;\n    const shellMatch36 = /((\\w+)\\+(\\w+)):\\/\\/((\\S+))\\/(\\w+)/;\n    if (splitOnSpaceClusterEnv.startsWith('mongodb+srv')) {\n      shellMatch = shellMatch36;\n    }\n    const shellArray = splitOnSpaceClusterEnv.match(shellMatch);\n    // add length check here?\n    if (shellArray[1] === 'mongodb') {\n      tempWriter.env = TEMPLATE_TYPE_ATLAS_34;\n      const hostListString = shellArray[2];\n      tempWriter.hostlist = hostListString.split(',');\n      this.parseOutURIParams(shellArray[7], tempWriter);\n    } else {\n      tempWriter.env = TEMPLATE_TYPE_ATLAS_36;\n      tempWriter.hostlist = [shellArray[4]];\n    }\n    tempWriter.database = shellArray[6];\n  }\n\n  parseShell(atlasString, tempWriter) {\n    // split out the mongo and parse the rest\n    const splitOnSpace = atlasString.split(' ');\n    let splitOnSpaceClusterEnv = splitOnSpace[1];\n    // get rid of double quotes\n    splitOnSpaceClusterEnv = splitOnSpaceClusterEnv.replace(/\"/g, '');\n    // get command line args\n    this.parseOutShellParams(splitOnSpace, tempWriter);\n    // get the cluster information\n    this.parseOutEnvAndClusters(splitOnSpaceClusterEnv, tempWriter);\n\n    this.saveState(tempWriter, 'cloud');\n\n    // we need to define success\n    return true;\n  }\n\n  // get the pasted string and parse it out\n  parseIncomingAtlasString(pastedValue) {\n    if (pastedValue === undefined) {\n      return false;\n    }\n    // trim any carriage return line feed business\n    pastedValue = pastedValue.replace(/[\\n\\r]+/g, '').trim();\n    if (pastedValue !== null) {\n      const status = this.parseAtlasString(pastedValue);\n      this.hostList.updateHostsFromUriWriter();\n      return status;\n    }\n    return false;\n  }\n\n  // this is a 3.4 URI\n  // mongodb://<USERNAME>:<PASSWORD>@cluster0-shard-00-00-juau5.mongodb.net:27017,cluster0-shard-00-01-juau5.mongodb.net:27017,cluster0-shard-00-02-juau5.mongodb.net:27017/test?ssl=true&replicaSet=Cluster0-shard-0&authSource=admin\n  parseTo3dot4(atlasString, tempWriter) {\n    tempWriter.env = TEMPLATE_TYPE_ATLAS_34;\n    // save the environment selection\n    this.saveState(tempWriter, 'cloud');\n    tempWriter = this.loadState(this.loadCurrentState());\n    const re = /(\\S+):\\/\\/(\\S+):(\\S*)@(\\S+)\\/(\\S+)\\?(\\S+)/;\n    const matchesArray = atlasString.match(re);\n    if (!matchesArray) {\n      return false;\n    }\n\n    tempWriter.username = matchesArray[2];\n    tempWriter.hostlist = matchesArray[4].split(',');\n    tempWriter.database = matchesArray[5];\n    splitOptions(tempWriter, matchesArray[6]);\n    this.saveState(tempWriter, this.loadCurrentState());\n    return true;\n  }\n\n  // this is a 3.6 url, parse accordingly\n  // ex: mongodb+srv://<USERNAME>:<PASSWORD>@cluster0-juau5.mongodb.net/test\n  parseTo3dot6(atlasString, tempWriter) {\n    tempWriter.env = TEMPLATE_TYPE_ATLAS_36;\n    // save the environment selection\n    this.saveState(tempWriter, 'cloud');\n    tempWriter = this.loadState(this.loadCurrentState());\n    // regexp for 3.6 format\n    const re = /(\\S+):\\/\\/(\\S+):(\\S*)@(\\S+)\\/([^\\s?]+)\\?/;\n    const matchesArray = atlasString.match(re);\n    if (!matchesArray) {\n      return false;\n    }\n\n    tempWriter.username = matchesArray[2];\n    tempWriter.havePassword = Boolean(matchesArray[3]);\n    tempWriter.hostlist = [matchesArray[4]];\n    tempWriter.database = matchesArray[5];\n    this.saveState(tempWriter, this.loadCurrentState());\n    return true;\n  }\n\n  parseAtlasString(atlasString) {\n    const tempWriter = this.loadState('true');\n    // add shell parser here\n    if (atlasString.indexOf(' --') > -1) {\n      return this.parseShell(atlasString, tempWriter);\n    }\n    if (atlasString.startsWith('mongodb+srv')) {\n      return this.parseTo3dot6(atlasString, tempWriter);\n    }\n    return this.parseTo3dot4(atlasString, tempWriter);\n  }\n}\n\n// Create Uriwriter\nexport function setup() {\n  uriwriterSingleton = new UriwriterSingleton();\n  uriwriterSingleton.initializeWidget();\n}\n","function fullDocsPath(base) {\n    const body = document.getElementsByClassName('body')[0];\n    let path = body.getAttribute('data-pagename');\n\n    // skip if pagename is undefined (index.html)\n    if (path === 'index') {\n        path = '';\n    } else if (path) {\n        path = `${path}/`;\n    }\n\n    return `/${base}/${path}`;\n}\n\nexport function setup() {\n    $('.version-selector').on('click', (e) => {\n        e.preventDefault();\n        const base = $(e.currentTarget).data('path');\n        window.location.href = fullDocsPath(base);\n    });\n}\n","import * as componentCatTrack from '../js/componentCatTrack';\nimport * as componentAccordion from '../js/componentAccordion';\nimport * as componentCloseOpen from '../js/componentCloseOpen';\nimport * as componentCodeBlockFix from '../js/componentCodeBlockFix';\nimport * as componentCopyButtons from '../js/componentCopyButtons';\nimport * as componentEcosystemLinkTrack from '../js/componentEcosystemLinkTrack';\nimport * as componentFastLoad from '../js/componentFastLoad';\nimport * as componentFeedback from '../js/componentFeedback';\nimport * as componentGuides from '../js/componentGuides';\nimport * as componentLightbox from '../js/componentLightbox';\nimport * as componentOpenAPI from '../js/componentOpenAPI';\nimport * as componentOpenLink from '../js/componentOpenLink';\nimport * as componentPillStrip from '../js/componentPillStrip';\nimport * as componentSidebar from '../js/componentSidebar';\nimport * as componentStitchSidebar from '../js/componentStitchSidebar';\nimport * as componentTabs from '../js/componentTabs';\nimport * as componentThirdParty from '../js/componentThirdParty';\nimport * as componentToggleController from '../js/componentToggleController';\nimport * as componentUriWriter from '../js/componentUriwriter';\nimport * as componentVersionSelector from '../js/componentVersionSelector';\n\nclass FastNav {\n  constructor() {\n    this.components = [];\n  }\n\n  register(component) {\n    this.components.push(component);\n    if (component.init) {\n      component.init();\n    }\n  }\n\n  update() {\n    for (const component of this.components) {\n      component.setup(this);\n    }\n\n    // The anchor we wanted might have shifted around the page.\n    // Reload to make sure that we're at the right place.\n    if (window.location.hash) {\n      window.location.hash = window.location.hash; // eslint-disable-line no-self-assign\n    }\n  }\n}\nconst fastNav = new FastNav();\n\n$(() => {\n  // Monkey-patch jQuery to add the removed load() event handler.\n  // This is required by the JIRA issue collector 🙄\n  jQuery.fn.load = function (callback) {\n    $(window).on('load', callback);\n  };\n\n  componentThirdParty.initialize();\n\n  fastNav.register(componentCatTrack);\n  fastNav.register(componentCodeBlockFix);\n  fastNav.register(componentCopyButtons);\n  fastNav.register(componentEcosystemLinkTrack);\n  fastNav.register(componentFastLoad);\n  fastNav.register(componentFeedback);\n  fastNav.register(componentLightbox);\n  fastNav.register(componentSidebar);\n  fastNav.register(componentStitchSidebar);\n  // Must precede componentTabs\n  fastNav.register(componentPillStrip);\n  fastNav.register(componentTabs);\n  fastNav.register(componentVersionSelector);\n  fastNav.register(componentThirdParty);\n  fastNav.register(componentGuides);\n  fastNav.register(componentOpenAPI);\n  fastNav.register(componentUriWriter);\n  fastNav.register(componentToggleController);\n  fastNav.register(componentCloseOpen);\n  fastNav.register(componentAccordion);\n  fastNav.register(componentOpenLink);\n\n  /* Hide toc if there aren't any items */\n  if (!$('.toc > ul > li > ul > li').length) {\n    $('.right-column .toc').hide();\n  }\n\n  /* Expand/collapse navbar on narrower viewports */\n  $('.expand-toc-icon').on('click', e => {\n    e.preventDefault();\n    $('.sidebar').toggleClass('reveal');\n  });\n\n  /* Reset the sidebar when the viewport is wider than tablet size */\n  const $window = $(window);\n  const $sidebar = $('.sidebar');\n  let isTabletWidth = $window.width() <= 1093;\n  $window.resize(_e => {\n    if (isTabletWidth && $window.width() > 1093) {\n      isTabletWidth = false;\n      $sidebar.removeClass('reveal');\n    } else if (!isTabletWidth && $window.width() <= 1093) {\n      isTabletWidth = true;\n    }\n  });\n\n  // Update dynamic page features\n  fastNav.update();\n\n  if (document.querySelector) {\n    // Scroll so that the selected navbar element is in view.\n    const current = document.querySelector('a.current');\n    if (current) {\n      current.scrollIntoView(false);\n    }\n  }\n});\n"],"names":["key","__ctlst_authkey","window","__cat_track_event","log","type","subType","isLeafNode","$node","siblings","length","toArray","arrayLike","result","i","push","requiresPageload","docsExcludedNav","href","indexOf","reportAnalytics","eventName","data","Dispatcher","listeners","handler","ctx","this","COLLAPSED_PROPERTY","accordionShowHide","element","classList","toggle","control","querySelector","innerHTML","innerText","contains","accordionElements","document","getElementsByClassName","addEventListener","bind","showNavButton","getElementById","onclick","style","display","closeNavButton","fixCodeBlock","block","Boolean","isLineNumberBlock","isCaptionBlock","buttonRow","caption","parentNode","insertBefore","nextSibling","tableBody","childNodes","tableButtonRow","createElement","linenosSpacer","buttonRowDestination","className","firstChild","appendChild","codeblocks","codeblock","TOOLTIP_STATE_ACTIVE","TOOLTIP_STATE_INACTIVE","isCopyableCodeBlock","copyableBlocks","filter","highlightElement","copyButton","popupElement","add","closePopupTimer","tempElement","position","body","f","timeoutID","ms","text","trim","value","select","execCommand","Error","replace","clearTimeout","setTimeout","err","error","removeChild","code","reportClick","anchorElement","dataset","project","includes","location","anchors","querySelectorAll","anchor","hash","el","slice","scrollIntoView","fastNav","$","attr","undefined","history","XMLHttpRequest","responseURL","navRootElement","bodyElement","curLoading","abortLoading","xhr","abort","loadPage","createHistory","remove","startTime","Date","url","options","onload","status","success","responseText","complete","onerror","open","send","xhrGet","pageText","trueUrl","enlapsedMs","pushState","page","title","textContent","newBody","newNav","parentElement","replaceChild","update","onnavigate","scroll","replaceState","nodes","handleClickFunction","ev","button","shiftKey","altKey","metaKey","ctrlKey","preventDefault","currentTarget","node","util","onpopstate","state","emptyFunction","emptyFunctionWithReset","resetWarningCache","module","shim","props","propName","componentName","propFullName","secret","ReactPropTypesSecret","name","getShim","isRequired","ReactPropTypes","array","bigint","bool","func","number","object","string","symbol","any","arrayOf","elementType","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","require$$0","VNode","stack","EMPTY_CHILDREN","h","nodeName","attributes","lastSimple","child","simple","children","arguments","pop","String","p","extend","obj","defer","Promise","resolve","then","IS_NON_DIMENSIONAL","items","enqueueRender","component","_dirty","rerender","list","renderComponent","isNamedNode","normalizedNodeName","toLowerCase","getNodeProps","vnode","defaultProps","removeNode","setAccessor","old","isSvg","cssText","test","__html","useCapture","substring","eventProxy","removeEventListener","_listeners","e","removeAttribute","ns","removeAttributeNS","setAttributeNS","setAttribute","mounts","diffLevel","isSvgMode","hydrating","flushMounts","c","componentDidMount","diff","dom","context","mountAll","parent","componentRoot","ownerSVGElement","ret","idiff","out","prevSvgMode","splitText","_component","nodeValue","createTextNode","recollectNodeTree","vnodeName","originalComponent","oldDom","isDirectOwner","_componentConstructor","isOwner","_parentComponent","constructor","setComponentProps","base","unmountComponent","createComponent","nextBase","buildComponentFromVNode","createElementNS","fc","vchildren","a","isHydrating","j","vchild","originalChildren","keyed","keyedLen","min","len","childrenLen","vlen","_child","__key","innerDiffNode","dangerouslySetInnerHTML","attrs","diffAttributes","unmountOnly","ref","removeChildren","lastChild","next","previousSibling","recyclerComponents","Ctor","inst","prototype","render","Component","call","doRender","splice","renderMode","_disable","__ref","getDerivedStateFromProps","componentWillMount","componentWillReceiveProps","prevContext","prevProps","syncComponentUpdates","isChild","rendered","cbase","previousProps","previousState","prevState","previousContext","isUpdate","initialBase","initialChildComponent","skip","snapshot","shouldComponentUpdate","componentWillUpdate","getChildContext","getSnapshotBeforeUpdate","toUnmount","childComponent","childProps","baseParent","componentRef","t","unshift","componentDidUpdate","_renderCallbacks","componentWillUnmount","inner","setState","callback","forceUpdate","preact","cloneElement","merge","FreeformQuestion","handleChange","_this","hasError","store","target","set","setCustomValidity","errorText","placeholder","visibility","propTypes","InputField","inputType","STATE_INITIAL","MainWidget","onSubmitFeedback","onInitialVote","toggleVisibility","savedFeedbackState","JSON","parse","sessionStorage","getItem","closed","event","stopPropagation","setItem","stringify","_this2","canShowSuggestions","voteAcknowledgement","delugeBodyClass","delugeClass","class","id","_this3","Deluge","crypto","msCrypto","buf","Uint8Array","getRandomValues","btoa","Array","map","fromCharCode","ch","join","onSubmitVote","eventObj","user","analytics","segmentUID","toString","segmentAnonymousID","anonymousId","track","vote","sendVote","catch","fields","answers","keys","Object","sendFeedback","val","input","emailError","values","every","_this4","handleOpenDrawer","makeStore","validateEmail","SuggestionCard","pageName","suggestion","urlWithParams","encodeURIComponent","description","EmptyCard","handleDismissCard","SuggestionCardList","suggestionCards","suggestions","Suggestion","bodyElements","handleCloseDrawer","getAttribute","showThankYouMessage","drawerIsOpen","bodyDisplay","whitelist","Widgets","isSuggestionPage","path","drawerHasOpened","ratingPanelElement","blacklist","localStorage","pagename","getPageName","rootElement","_widgetsRendered","tabsEventDispatcher","getTabPref","setTabPref","pref","anonymous","tabPref","pages","pathname","tabId","tabSets","TabSet","tabType","tabStripElements","tabContents","tabStrips","tabIds","tabsElement","tabBars","mainTabBar","first","detach","insertAfter","initRect","getBoundingClientRect","offset","scrollY","y","rects","scrollTo","x","isUserAction","getFirstTabId","dispatch","currentAttrValue","tabStrip","tabLink","tabList","dropdownLink","dropdownListItem","hasClass","append","childElement","tabElement","tabContent","firstTabidElement","tabSet","concat","listen","showHideSelectedTab","tabsElements","register","setup","headings","recalculate","height","clientHeight","innerHeight","currentPosition","documentElement","scrollTop","bestMatch","Infinity","headingElement","tocElement","headingPosition","offsetTop","delta","Math","abs","pillClickHandler","wait","args","timeout","previous","later","now","apply","remaining","newArgs","throttle","showCurrentLanguageElements","leftToc","linkElement","guidesCategoryListElement","pills","CLASS_ACTIVATED","CLASS_SCALABLE","modal","modalContent","closeLightbox","wrapImage","img","wrapperElement","captionElement","src","alt","wrapIfNeeded","figure","naturalArea","naturalWidth","naturalHeight","clientWidth","tagName","createClickButNotSelectionHandler","dragStart","formerDragStart","clientX","clientY","toggleResource","classListAction","resourceElement","expand","requested","resourceHeaderElements","extLinks","forEach","link","tabTypes","elements","pillStripElement","tabsType","pillStripElements","seenPills","tabStripElement","childElements","clickHandler","strip","tabTitle","pill","isCurrentNode","$current","addClass","parents","each","index","css","hide","show","on","$target","removeClass","slideUp","$el","has","is","slideDown","prepend","expandElement","SLIDE_ANIMATION_TIME_MS","isVisible","handleRootSectionNavigation","section","$targetSection","collapseSection","$sectionHeading","$sectionContent","stop","handleSectionNavigation","handleCompositePage","$targetIcon","$subpageSection","$tocSections","$sidebar","$visibleRootSection","$nonvisibleRootSections","$visibleNestedSection","$nonvisibleNestedSections","$closedPagesWithChildren","$openPagesWithChildren","STYLE_SELECTED","STYLE","STYLE_DEPLOY","STYLE_DEPLOYTEXT","setToggleState","getTabNode","tabPrefs","cloud","cloudState","TEMPLATES","getValue","option","PLACEHOLDER_PATTERN","HostList","uriWriter","root","elementPairs","updateHostsFromUriWriter","loadState","loadCurrentState","hostlist","host","addHost","inputElement","statusElement","oninput","lastInput","setHosts","hosts","parsed","exec","port","parseInt","isNaN","message","pair","uriwriterSingleton","UriwriterSingleton","uristowrite","usernamestowrite","uristowritepasswordredactedshell","uristowriteshell","urireplacestring","hostList","setupURIListeners","loadTemplateEnv","renderURI","registerDispatch","env","saveState","atlas","atlasState","uriwriter","atlaspasteduri","getElementsByTagName","prefix","uri","charAt","urireplacestringPasswordRedactedShell","urireplacestringShell","username","isAtlas","startsWith","saveCurrentState","haveWidgetOnPage","parseIncomingAtlasString","populateForm","addValue","initiallySelected","parentChildren","childIndex","setEnvironment","template","uristring","replaceString","templateShell","templatePasswordRedactedShell","writeToPlaceholders","optionJoinCharacter","parts","localUriString","database","authSource","replicaSet","optionsString","optionStringifier","renderOption","optionElement","label","serverPromptElement","atlaspaste","pastedValue","setupEnvironmentListeners","atlasControlsElement","toggleEnvironmentExternal","renderOptions","renderFormValues","_this5","splitOnSpace","tempWriter","splitKey","splitValue","shellString","uriParamArray","split","keyValueArray","splitOnSpaceClusterEnv","shellMatch","shellArray","match","hostListString","parseOutURIParams","atlasString","parseOutShellParams","parseOutEnvAndClusters","parseAtlasString","matchesArray","arrayOfMatches","settingsArray","keyValue","havePassword","parseShell","parseTo3dot6","parseTo3dot4","initializeWidget","fullDocsPath","components","init","fn","load","componentCatTrack","componentCodeBlockFix","componentCopyButtons","componentEcosystemLinkTrack","componentFastLoad","componentFeedback","componentLightbox","componentSidebar","componentStitchSidebar","componentPillStrip","componentTabs","componentVersionSelector","componentThirdParty","componentGuides","componentOpenAPI","componentUriWriter","componentToggleController","componentCloseOpen","componentAccordion","componentOpenLink","toggleClass","$window","isTabletWidth","width","resize","current"],"mappings":"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"}