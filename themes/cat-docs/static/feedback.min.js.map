{"version":3,"file":"feedback.min.js","sources":["../src/node_modules/prop-types/lib/ReactPropTypesSecret.js","../src/node_modules/prop-types/factoryWithThrowingShims.js","../src/node_modules/prop-types/index.js","../src/node_modules/preact/dist/preact.mjs","../src/widgets/deluge/FreeformQuestion.js","../src/widgets/deluge/InputField.js","../src/widgets/deluge/MainWidget.js","../src/widgets/deluge/deluge.js","../src/widgets/suggestion/SuggestionCardList.js","../src/js/util.js","../src/widgets/suggestion/suggestion.js","../src/widgets/widgets.js","../src/js/componentFeedback.js","../src/main/feedbackController.js"],"sourcesContent":["/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","var VNode = function VNode() {};\n\nvar options = {};\n\nvar stack = [];\n\nvar EMPTY_CHILDREN = [];\n\nfunction h(nodeName, attributes) {\n\tvar children = EMPTY_CHILDREN,\n\t    lastSimple,\n\t    child,\n\t    simple,\n\t    i;\n\tfor (i = arguments.length; i-- > 2;) {\n\t\tstack.push(arguments[i]);\n\t}\n\tif (attributes && attributes.children != null) {\n\t\tif (!stack.length) stack.push(attributes.children);\n\t\tdelete attributes.children;\n\t}\n\twhile (stack.length) {\n\t\tif ((child = stack.pop()) && child.pop !== undefined) {\n\t\t\tfor (i = child.length; i--;) {\n\t\t\t\tstack.push(child[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof child === 'boolean') child = null;\n\n\t\t\tif (simple = typeof nodeName !== 'function') {\n\t\t\t\tif (child == null) child = '';else if (typeof child === 'number') child = String(child);else if (typeof child !== 'string') simple = false;\n\t\t\t}\n\n\t\t\tif (simple && lastSimple) {\n\t\t\t\tchildren[children.length - 1] += child;\n\t\t\t} else if (children === EMPTY_CHILDREN) {\n\t\t\t\tchildren = [child];\n\t\t\t} else {\n\t\t\t\tchildren.push(child);\n\t\t\t}\n\n\t\t\tlastSimple = simple;\n\t\t}\n\t}\n\n\tvar p = new VNode();\n\tp.nodeName = nodeName;\n\tp.children = children;\n\tp.attributes = attributes == null ? undefined : attributes;\n\tp.key = attributes == null ? undefined : attributes.key;\n\n\tif (options.vnode !== undefined) options.vnode(p);\n\n\treturn p;\n}\n\nfunction extend(obj, props) {\n  for (var i in props) {\n    obj[i] = props[i];\n  }return obj;\n}\n\nvar defer = typeof Promise == 'function' ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout;\n\nfunction cloneElement(vnode, props) {\n  return h(vnode.nodeName, extend(extend({}, vnode.attributes), props), arguments.length > 2 ? [].slice.call(arguments, 2) : vnode.children);\n}\n\nvar IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n\nvar items = [];\n\nfunction enqueueRender(component) {\n\tif (!component._dirty && (component._dirty = true) && items.push(component) == 1) {\n\t\t(options.debounceRendering || defer)(rerender);\n\t}\n}\n\nfunction rerender() {\n\tvar p,\n\t    list = items;\n\titems = [];\n\twhile (p = list.pop()) {\n\t\tif (p._dirty) renderComponent(p);\n\t}\n}\n\nfunction isSameNodeType(node, vnode, hydrating) {\n\tif (typeof vnode === 'string' || typeof vnode === 'number') {\n\t\treturn node.splitText !== undefined;\n\t}\n\tif (typeof vnode.nodeName === 'string') {\n\t\treturn !node._componentConstructor && isNamedNode(node, vnode.nodeName);\n\t}\n\treturn hydrating || node._componentConstructor === vnode.nodeName;\n}\n\nfunction isNamedNode(node, nodeName) {\n\treturn node.normalizedNodeName === nodeName || node.nodeName.toLowerCase() === nodeName.toLowerCase();\n}\n\nfunction getNodeProps(vnode) {\n\tvar props = extend({}, vnode.attributes);\n\tprops.children = vnode.children;\n\n\tvar defaultProps = vnode.nodeName.defaultProps;\n\tif (defaultProps !== undefined) {\n\t\tfor (var i in defaultProps) {\n\t\t\tif (props[i] === undefined) {\n\t\t\t\tprops[i] = defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn props;\n}\n\nfunction createNode(nodeName, isSvg) {\n\tvar node = isSvg ? document.createElementNS('http://www.w3.org/2000/svg', nodeName) : document.createElement(nodeName);\n\tnode.normalizedNodeName = nodeName;\n\treturn node;\n}\n\nfunction removeNode(node) {\n\tvar parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nfunction setAccessor(node, name, old, value, isSvg) {\n\tif (name === 'className') name = 'class';\n\n\tif (name === 'key') {} else if (name === 'ref') {\n\t\tif (old) old(null);\n\t\tif (value) value(node);\n\t} else if (name === 'class' && !isSvg) {\n\t\tnode.className = value || '';\n\t} else if (name === 'style') {\n\t\tif (!value || typeof value === 'string' || typeof old === 'string') {\n\t\t\tnode.style.cssText = value || '';\n\t\t}\n\t\tif (value && typeof value === 'object') {\n\t\t\tif (typeof old !== 'string') {\n\t\t\t\tfor (var i in old) {\n\t\t\t\t\tif (!(i in value)) node.style[i] = '';\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i in value) {\n\t\t\t\tnode.style[i] = typeof value[i] === 'number' && IS_NON_DIMENSIONAL.test(i) === false ? value[i] + 'px' : value[i];\n\t\t\t}\n\t\t}\n\t} else if (name === 'dangerouslySetInnerHTML') {\n\t\tif (value) node.innerHTML = value.__html || '';\n\t} else if (name[0] == 'o' && name[1] == 'n') {\n\t\tvar useCapture = name !== (name = name.replace(/Capture$/, ''));\n\t\tname = name.toLowerCase().substring(2);\n\t\tif (value) {\n\t\t\tif (!old) node.addEventListener(name, eventProxy, useCapture);\n\t\t} else {\n\t\t\tnode.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t\t(node._listeners || (node._listeners = {}))[name] = value;\n\t} else if (name !== 'list' && name !== 'type' && !isSvg && name in node) {\n\t\ttry {\n\t\t\tnode[name] = value == null ? '' : value;\n\t\t} catch (e) {}\n\t\tif ((value == null || value === false) && name != 'spellcheck') node.removeAttribute(name);\n\t} else {\n\t\tvar ns = isSvg && name !== (name = name.replace(/^xlink:?/, ''));\n\n\t\tif (value == null || value === false) {\n\t\t\tif (ns) node.removeAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase());else node.removeAttribute(name);\n\t\t} else if (typeof value !== 'function') {\n\t\t\tif (ns) node.setAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase(), value);else node.setAttribute(name, value);\n\t\t}\n\t}\n}\n\nfunction eventProxy(e) {\n\treturn this._listeners[e.type](options.event && options.event(e) || e);\n}\n\nvar mounts = [];\n\nvar diffLevel = 0;\n\nvar isSvgMode = false;\n\nvar hydrating = false;\n\nfunction flushMounts() {\n\tvar c;\n\twhile (c = mounts.pop()) {\n\t\tif (options.afterMount) options.afterMount(c);\n\t\tif (c.componentDidMount) c.componentDidMount();\n\t}\n}\n\nfunction diff(dom, vnode, context, mountAll, parent, componentRoot) {\n\tif (!diffLevel++) {\n\t\tisSvgMode = parent != null && parent.ownerSVGElement !== undefined;\n\n\t\thydrating = dom != null && !('__preactattr_' in dom);\n\t}\n\n\tvar ret = idiff(dom, vnode, context, mountAll, componentRoot);\n\n\tif (parent && ret.parentNode !== parent) parent.appendChild(ret);\n\n\tif (! --diffLevel) {\n\t\thydrating = false;\n\n\t\tif (!componentRoot) flushMounts();\n\t}\n\n\treturn ret;\n}\n\nfunction idiff(dom, vnode, context, mountAll, componentRoot) {\n\tvar out = dom,\n\t    prevSvgMode = isSvgMode;\n\n\tif (vnode == null || typeof vnode === 'boolean') vnode = '';\n\n\tif (typeof vnode === 'string' || typeof vnode === 'number') {\n\t\tif (dom && dom.splitText !== undefined && dom.parentNode && (!dom._component || componentRoot)) {\n\t\t\tif (dom.nodeValue != vnode) {\n\t\t\t\tdom.nodeValue = vnode;\n\t\t\t}\n\t\t} else {\n\t\t\tout = document.createTextNode(vnode);\n\t\t\tif (dom) {\n\t\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\t\t\t\trecollectNodeTree(dom, true);\n\t\t\t}\n\t\t}\n\n\t\tout['__preactattr_'] = true;\n\n\t\treturn out;\n\t}\n\n\tvar vnodeName = vnode.nodeName;\n\tif (typeof vnodeName === 'function') {\n\t\treturn buildComponentFromVNode(dom, vnode, context, mountAll);\n\t}\n\n\tisSvgMode = vnodeName === 'svg' ? true : vnodeName === 'foreignObject' ? false : isSvgMode;\n\n\tvnodeName = String(vnodeName);\n\tif (!dom || !isNamedNode(dom, vnodeName)) {\n\t\tout = createNode(vnodeName, isSvgMode);\n\n\t\tif (dom) {\n\t\t\twhile (dom.firstChild) {\n\t\t\t\tout.appendChild(dom.firstChild);\n\t\t\t}\n\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\n\t\t\trecollectNodeTree(dom, true);\n\t\t}\n\t}\n\n\tvar fc = out.firstChild,\n\t    props = out['__preactattr_'],\n\t    vchildren = vnode.children;\n\n\tif (props == null) {\n\t\tprops = out['__preactattr_'] = {};\n\t\tfor (var a = out.attributes, i = a.length; i--;) {\n\t\t\tprops[a[i].name] = a[i].value;\n\t\t}\n\t}\n\n\tif (!hydrating && vchildren && vchildren.length === 1 && typeof vchildren[0] === 'string' && fc != null && fc.splitText !== undefined && fc.nextSibling == null) {\n\t\tif (fc.nodeValue != vchildren[0]) {\n\t\t\tfc.nodeValue = vchildren[0];\n\t\t}\n\t} else if (vchildren && vchildren.length || fc != null) {\n\t\t\tinnerDiffNode(out, vchildren, context, mountAll, hydrating || props.dangerouslySetInnerHTML != null);\n\t\t}\n\n\tdiffAttributes(out, vnode.attributes, props);\n\n\tisSvgMode = prevSvgMode;\n\n\treturn out;\n}\n\nfunction innerDiffNode(dom, vchildren, context, mountAll, isHydrating) {\n\tvar originalChildren = dom.childNodes,\n\t    children = [],\n\t    keyed = {},\n\t    keyedLen = 0,\n\t    min = 0,\n\t    len = originalChildren.length,\n\t    childrenLen = 0,\n\t    vlen = vchildren ? vchildren.length : 0,\n\t    j,\n\t    c,\n\t    f,\n\t    vchild,\n\t    child;\n\n\tif (len !== 0) {\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tvar _child = originalChildren[i],\n\t\t\t    props = _child['__preactattr_'],\n\t\t\t    key = vlen && props ? _child._component ? _child._component.__key : props.key : null;\n\t\t\tif (key != null) {\n\t\t\t\tkeyedLen++;\n\t\t\t\tkeyed[key] = _child;\n\t\t\t} else if (props || (_child.splitText !== undefined ? isHydrating ? _child.nodeValue.trim() : true : isHydrating)) {\n\t\t\t\tchildren[childrenLen++] = _child;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (vlen !== 0) {\n\t\tfor (var i = 0; i < vlen; i++) {\n\t\t\tvchild = vchildren[i];\n\t\t\tchild = null;\n\n\t\t\tvar key = vchild.key;\n\t\t\tif (key != null) {\n\t\t\t\tif (keyedLen && keyed[key] !== undefined) {\n\t\t\t\t\tchild = keyed[key];\n\t\t\t\t\tkeyed[key] = undefined;\n\t\t\t\t\tkeyedLen--;\n\t\t\t\t}\n\t\t\t} else if (min < childrenLen) {\n\t\t\t\t\tfor (j = min; j < childrenLen; j++) {\n\t\t\t\t\t\tif (children[j] !== undefined && isSameNodeType(c = children[j], vchild, isHydrating)) {\n\t\t\t\t\t\t\tchild = c;\n\t\t\t\t\t\t\tchildren[j] = undefined;\n\t\t\t\t\t\t\tif (j === childrenLen - 1) childrenLen--;\n\t\t\t\t\t\t\tif (j === min) min++;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\tchild = idiff(child, vchild, context, mountAll);\n\n\t\t\tf = originalChildren[i];\n\t\t\tif (child && child !== dom && child !== f) {\n\t\t\t\tif (f == null) {\n\t\t\t\t\tdom.appendChild(child);\n\t\t\t\t} else if (child === f.nextSibling) {\n\t\t\t\t\tremoveNode(f);\n\t\t\t\t} else {\n\t\t\t\t\tdom.insertBefore(child, f);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tif (keyedLen) {\n\t\tfor (var i in keyed) {\n\t\t\tif (keyed[i] !== undefined) recollectNodeTree(keyed[i], false);\n\t\t}\n\t}\n\n\twhile (min <= childrenLen) {\n\t\tif ((child = children[childrenLen--]) !== undefined) recollectNodeTree(child, false);\n\t}\n}\n\nfunction recollectNodeTree(node, unmountOnly) {\n\tvar component = node._component;\n\tif (component) {\n\t\tunmountComponent(component);\n\t} else {\n\t\tif (node['__preactattr_'] != null && node['__preactattr_'].ref) node['__preactattr_'].ref(null);\n\n\t\tif (unmountOnly === false || node['__preactattr_'] == null) {\n\t\t\tremoveNode(node);\n\t\t}\n\n\t\tremoveChildren(node);\n\t}\n}\n\nfunction removeChildren(node) {\n\tnode = node.lastChild;\n\twhile (node) {\n\t\tvar next = node.previousSibling;\n\t\trecollectNodeTree(node, true);\n\t\tnode = next;\n\t}\n}\n\nfunction diffAttributes(dom, attrs, old) {\n\tvar name;\n\n\tfor (name in old) {\n\t\tif (!(attrs && attrs[name] != null) && old[name] != null) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = undefined, isSvgMode);\n\t\t}\n\t}\n\n\tfor (name in attrs) {\n\t\tif (name !== 'children' && name !== 'innerHTML' && (!(name in old) || attrs[name] !== (name === 'value' || name === 'checked' ? dom[name] : old[name]))) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = attrs[name], isSvgMode);\n\t\t}\n\t}\n}\n\nvar recyclerComponents = [];\n\nfunction createComponent(Ctor, props, context) {\n\tvar inst,\n\t    i = recyclerComponents.length;\n\n\tif (Ctor.prototype && Ctor.prototype.render) {\n\t\tinst = new Ctor(props, context);\n\t\tComponent.call(inst, props, context);\n\t} else {\n\t\tinst = new Component(props, context);\n\t\tinst.constructor = Ctor;\n\t\tinst.render = doRender;\n\t}\n\n\twhile (i--) {\n\t\tif (recyclerComponents[i].constructor === Ctor) {\n\t\t\tinst.nextBase = recyclerComponents[i].nextBase;\n\t\t\trecyclerComponents.splice(i, 1);\n\t\t\treturn inst;\n\t\t}\n\t}\n\n\treturn inst;\n}\n\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n\nfunction setComponentProps(component, props, renderMode, context, mountAll) {\n\tif (component._disable) return;\n\tcomponent._disable = true;\n\n\tcomponent.__ref = props.ref;\n\tcomponent.__key = props.key;\n\tdelete props.ref;\n\tdelete props.key;\n\n\tif (typeof component.constructor.getDerivedStateFromProps === 'undefined') {\n\t\tif (!component.base || mountAll) {\n\t\t\tif (component.componentWillMount) component.componentWillMount();\n\t\t} else if (component.componentWillReceiveProps) {\n\t\t\tcomponent.componentWillReceiveProps(props, context);\n\t\t}\n\t}\n\n\tif (context && context !== component.context) {\n\t\tif (!component.prevContext) component.prevContext = component.context;\n\t\tcomponent.context = context;\n\t}\n\n\tif (!component.prevProps) component.prevProps = component.props;\n\tcomponent.props = props;\n\n\tcomponent._disable = false;\n\n\tif (renderMode !== 0) {\n\t\tif (renderMode === 1 || options.syncComponentUpdates !== false || !component.base) {\n\t\t\trenderComponent(component, 1, mountAll);\n\t\t} else {\n\t\t\tenqueueRender(component);\n\t\t}\n\t}\n\n\tif (component.__ref) component.__ref(component);\n}\n\nfunction renderComponent(component, renderMode, mountAll, isChild) {\n\tif (component._disable) return;\n\n\tvar props = component.props,\n\t    state = component.state,\n\t    context = component.context,\n\t    previousProps = component.prevProps || props,\n\t    previousState = component.prevState || state,\n\t    previousContext = component.prevContext || context,\n\t    isUpdate = component.base,\n\t    nextBase = component.nextBase,\n\t    initialBase = isUpdate || nextBase,\n\t    initialChildComponent = component._component,\n\t    skip = false,\n\t    snapshot = previousContext,\n\t    rendered,\n\t    inst,\n\t    cbase;\n\n\tif (component.constructor.getDerivedStateFromProps) {\n\t\tstate = extend(extend({}, state), component.constructor.getDerivedStateFromProps(props, state));\n\t\tcomponent.state = state;\n\t}\n\n\tif (isUpdate) {\n\t\tcomponent.props = previousProps;\n\t\tcomponent.state = previousState;\n\t\tcomponent.context = previousContext;\n\t\tif (renderMode !== 2 && component.shouldComponentUpdate && component.shouldComponentUpdate(props, state, context) === false) {\n\t\t\tskip = true;\n\t\t} else if (component.componentWillUpdate) {\n\t\t\tcomponent.componentWillUpdate(props, state, context);\n\t\t}\n\t\tcomponent.props = props;\n\t\tcomponent.state = state;\n\t\tcomponent.context = context;\n\t}\n\n\tcomponent.prevProps = component.prevState = component.prevContext = component.nextBase = null;\n\tcomponent._dirty = false;\n\n\tif (!skip) {\n\t\trendered = component.render(props, state, context);\n\n\t\tif (component.getChildContext) {\n\t\t\tcontext = extend(extend({}, context), component.getChildContext());\n\t\t}\n\n\t\tif (isUpdate && component.getSnapshotBeforeUpdate) {\n\t\t\tsnapshot = component.getSnapshotBeforeUpdate(previousProps, previousState);\n\t\t}\n\n\t\tvar childComponent = rendered && rendered.nodeName,\n\t\t    toUnmount,\n\t\t    base;\n\n\t\tif (typeof childComponent === 'function') {\n\n\t\t\tvar childProps = getNodeProps(rendered);\n\t\t\tinst = initialChildComponent;\n\n\t\t\tif (inst && inst.constructor === childComponent && childProps.key == inst.__key) {\n\t\t\t\tsetComponentProps(inst, childProps, 1, context, false);\n\t\t\t} else {\n\t\t\t\ttoUnmount = inst;\n\n\t\t\t\tcomponent._component = inst = createComponent(childComponent, childProps, context);\n\t\t\t\tinst.nextBase = inst.nextBase || nextBase;\n\t\t\t\tinst._parentComponent = component;\n\t\t\t\tsetComponentProps(inst, childProps, 0, context, false);\n\t\t\t\trenderComponent(inst, 1, mountAll, true);\n\t\t\t}\n\n\t\t\tbase = inst.base;\n\t\t} else {\n\t\t\tcbase = initialBase;\n\n\t\t\ttoUnmount = initialChildComponent;\n\t\t\tif (toUnmount) {\n\t\t\t\tcbase = component._component = null;\n\t\t\t}\n\n\t\t\tif (initialBase || renderMode === 1) {\n\t\t\t\tif (cbase) cbase._component = null;\n\t\t\t\tbase = diff(cbase, rendered, context, mountAll || !isUpdate, initialBase && initialBase.parentNode, true);\n\t\t\t}\n\t\t}\n\n\t\tif (initialBase && base !== initialBase && inst !== initialChildComponent) {\n\t\t\tvar baseParent = initialBase.parentNode;\n\t\t\tif (baseParent && base !== baseParent) {\n\t\t\t\tbaseParent.replaceChild(base, initialBase);\n\n\t\t\t\tif (!toUnmount) {\n\t\t\t\t\tinitialBase._component = null;\n\t\t\t\t\trecollectNodeTree(initialBase, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (toUnmount) {\n\t\t\tunmountComponent(toUnmount);\n\t\t}\n\n\t\tcomponent.base = base;\n\t\tif (base && !isChild) {\n\t\t\tvar componentRef = component,\n\t\t\t    t = component;\n\t\t\twhile (t = t._parentComponent) {\n\t\t\t\t(componentRef = t).base = base;\n\t\t\t}\n\t\t\tbase._component = componentRef;\n\t\t\tbase._componentConstructor = componentRef.constructor;\n\t\t}\n\t}\n\n\tif (!isUpdate || mountAll) {\n\t\tmounts.unshift(component);\n\t} else if (!skip) {\n\n\t\tif (component.componentDidUpdate) {\n\t\t\tcomponent.componentDidUpdate(previousProps, previousState, snapshot);\n\t\t}\n\t\tif (options.afterUpdate) options.afterUpdate(component);\n\t}\n\n\twhile (component._renderCallbacks.length) {\n\t\tcomponent._renderCallbacks.pop().call(component);\n\t}if (!diffLevel && !isChild) flushMounts();\n}\n\nfunction buildComponentFromVNode(dom, vnode, context, mountAll) {\n\tvar c = dom && dom._component,\n\t    originalComponent = c,\n\t    oldDom = dom,\n\t    isDirectOwner = c && dom._componentConstructor === vnode.nodeName,\n\t    isOwner = isDirectOwner,\n\t    props = getNodeProps(vnode);\n\twhile (c && !isOwner && (c = c._parentComponent)) {\n\t\tisOwner = c.constructor === vnode.nodeName;\n\t}\n\n\tif (c && isOwner && (!mountAll || c._component)) {\n\t\tsetComponentProps(c, props, 3, context, mountAll);\n\t\tdom = c.base;\n\t} else {\n\t\tif (originalComponent && !isDirectOwner) {\n\t\t\tunmountComponent(originalComponent);\n\t\t\tdom = oldDom = null;\n\t\t}\n\n\t\tc = createComponent(vnode.nodeName, props, context);\n\t\tif (dom && !c.nextBase) {\n\t\t\tc.nextBase = dom;\n\n\t\t\toldDom = null;\n\t\t}\n\t\tsetComponentProps(c, props, 1, context, mountAll);\n\t\tdom = c.base;\n\n\t\tif (oldDom && dom !== oldDom) {\n\t\t\toldDom._component = null;\n\t\t\trecollectNodeTree(oldDom, false);\n\t\t}\n\t}\n\n\treturn dom;\n}\n\nfunction unmountComponent(component) {\n\tif (options.beforeUnmount) options.beforeUnmount(component);\n\n\tvar base = component.base;\n\n\tcomponent._disable = true;\n\n\tif (component.componentWillUnmount) component.componentWillUnmount();\n\n\tcomponent.base = null;\n\n\tvar inner = component._component;\n\tif (inner) {\n\t\tunmountComponent(inner);\n\t} else if (base) {\n\t\tif (base['__preactattr_'] && base['__preactattr_'].ref) base['__preactattr_'].ref(null);\n\n\t\tcomponent.nextBase = base;\n\n\t\tremoveNode(base);\n\t\trecyclerComponents.push(component);\n\n\t\tremoveChildren(base);\n\t}\n\n\tif (component.__ref) component.__ref(null);\n}\n\nfunction Component(props, context) {\n\tthis._dirty = true;\n\n\tthis.context = context;\n\n\tthis.props = props;\n\n\tthis.state = this.state || {};\n\n\tthis._renderCallbacks = [];\n}\n\nextend(Component.prototype, {\n\tsetState: function setState(state, callback) {\n\t\tif (!this.prevState) this.prevState = this.state;\n\t\tthis.state = extend(extend({}, this.state), typeof state === 'function' ? state(this.state, this.props) : state);\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t},\n\tforceUpdate: function forceUpdate(callback) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\trenderComponent(this, 2);\n\t},\n\trender: function render() {}\n});\n\nfunction render(vnode, parent, merge) {\n  return diff(merge, vnode, {}, false, parent, false);\n}\n\nvar preact = {\n\th: h,\n\tcreateElement: h,\n\tcloneElement: cloneElement,\n\tComponent: Component,\n\trender: render,\n\trerender: rerender,\n\toptions: options\n};\n\nexport default preact;\nexport { h, h as createElement, cloneElement, Component, render, rerender, options };\n//# sourceMappingURL=preact.mjs.map\n","import PropTypes from 'prop-types';\nimport preact from 'preact';\n\nclass FreeformQuestion extends preact.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            'error': false,\n            'text': ''\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    handleChange(ev) {\n        const {hasError, store} = this.props;\n        const value = ev.target.value;\n        const error = hasError(value);\n\n        if (error) {\n            store.set('');\n            ev.target.setCustomValidity(error);\n        } else {\n            store.set(value);\n            ev.target.setCustomValidity('');\n        }\n        this.setState({\n            'error': error,\n            'text': value\n        });\n    }\n\n    render() {\n        const {errorText, placeholder} = this.props;\n        const {error, text} = this.state;\n        return (\n            <div>\n                <textarea\n                    placeholder={placeholder}\n                    onInput={this.handleChange}\n                    value={text}></textarea>\n                <div\n                    className=\"error\"\n                    style={{'visibility': error ? 'visible' : 'hidden'}}>\n                    {errorText}\n                </div>\n            </div>\n        );\n    }\n}\n\nFreeformQuestion.propTypes = {\n    'errorText': PropTypes.string,\n    'hasError': PropTypes.func,\n    'placeholder': PropTypes.string,\n    'store': PropTypes.objectOf(PropTypes.func).isRequired\n};\n\nFreeformQuestion.defaultProps = {\n    'hasError': () => false\n};\n\nexport default FreeformQuestion;\n","import PropTypes from 'prop-types';\nimport preact from 'preact';\n\nclass InputField extends preact.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            'error': false,\n            'text': ''\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    handleChange(ev) {\n        const {hasError, store} = this.props;\n        const value = ev.target.value;\n        const error = hasError(value);\n\n        if (error) {\n            store.set('');\n            ev.target.setCustomValidity(error);\n        } else {\n            store.set(value);\n            ev.target.setCustomValidity('');\n        }\n        this.setState({\n            'error': error,\n            'text': value\n        });\n    }\n\n    render() {\n        const {errorText, inputType, placeholder} = this.props;\n        const {error, text} = this.state;\n        return (\n            <div>\n                <input\n                    onInput={this.handleChange}\n                    placeholder={placeholder}\n                    type={inputType}\n                    value={text} />\n                <div className=\"error\" style={{'visibility': error ? 'visible' : 'hidden'}}>\n                    {errorText}\n                </div>\n            </div>\n        );\n    }\n}\n\nInputField.propTypes = {\n    'errorText': PropTypes.string,\n    'hasError': PropTypes.func,\n    'inputType': PropTypes.string,\n    'placeholder': PropTypes.string,\n    'store': PropTypes.objectOf(PropTypes.func).isRequired\n};\n\nInputField.defaultProps = {\n    'hasError': () => false,\n    'inputType': 'text'\n};\n\nexport default InputField;\n","import PropTypes from 'prop-types';\nimport preact from 'preact';\n\n// State enum\nconst STATE_INITIAL = 'Initial';\nconst STATE_VOTED = 'Voted';\n\nclass MainWidget extends preact.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            'closed': false,\n            'state': STATE_INITIAL\n        };\n\n        this.onSubmitFeedback = this.onSubmitFeedback.bind(this);\n        this.onInitialVote = this.onInitialVote.bind(this);\n        this.toggleVisibility = this.toggleVisibility.bind(this);\n    }\n\n    componentDidMount() {\n        const savedFeedbackState = JSON.parse(window.sessionStorage.getItem('feedbackHidden'));\n        if (savedFeedbackState) {\n            this.setState({'closed': savedFeedbackState});\n        }\n    }\n\n    onSubmitFeedback() {\n        this.props.onSubmitFeedback(this.state.state);\n        this.setState({'state': STATE_VOTED});\n    }\n\n    onInitialVote(e, state) {\n        window.open('https://discord.gg/yn3fm8bjWU', '_blank');\n    }\n\n    toggleVisibility(event) {\n        const {closed, state} = this.state;\n        event.stopPropagation();\n        if ((typeof state === 'boolean' || state === STATE_VOTED) && closed === false) {\n            this.setState({'state': STATE_INITIAL});\n        }\n        this.setState(\n            (prevState) => ({'closed': !prevState.closed}),\n            () => window.sessionStorage.setItem('feedbackHidden', JSON.stringify(this.state.closed))\n        );\n    }\n\n    render({children, canShowSuggestions, voteAcknowledgement}, {closed, state}) {\n        const delugeBodyClass = (state === STATE_INITIAL)\n            ? 'deluge-body'\n            : 'deluge-body deluge-body-expanded';\n        const delugeHeaderClass = 'deluge-header';\n        const delugeClass = (state !== STATE_INITIAL && closed === false)\n            ? 'deluge deluge-expanded'\n            : 'deluge';\n\n        return (\n            <div class={delugeClass}>\n                {closed ? (\n                    <div class=\"deluge-header deluge-header-minimized\"\n                        onClick={this.toggleVisibility}>\n                        <span class=\"fa fa-angle-up deluge-open-icon\"></span>\n                    </div>\n                ) : (\n                    <div>\n                        <div class={delugeHeaderClass}>\n                            <span class=\"fa fa-angle-down deluge-close-icon-hidden\"></span>\n                            <span class=\"deluge-helpful\">Need more info?</span>\n                            <span class=\"fa fa-angle-down deluge-close-icon\"\n                                onClick={this.toggleVisibility}></span>\n                        </div>\n\n                        <div class=\"deluge-vote\">\n                            <a key=\"voteup\" id=\"rate-up\"\n                                onClick={(e) => this.onInitialVote(e, true)}>JOIN DISCORD</a>\n                        </div>\n\n                        <div class={delugeBodyClass}>\n                        </div>\n                    </div>\n                )}\n            </div>\n        );\n    }\n}\n\nMainWidget.propTypes = {\n    'error': PropTypes.bool.isRequired,\n    'onSubmitFeedback': PropTypes.func.isRequired,\n    'onSubmitVote': PropTypes.func.isRequired,\n    'onClear': PropTypes.func.isRequired,\n    'children': PropTypes.arrayOf(PropTypes.node),\n    'voteAcknowledgement': PropTypes.string,\n    'handleOpenDrawer': PropTypes.func.isRequired,\n    'canShowSuggestions': PropTypes.bool.isRequired\n};\n\nexport default MainWidget;\n","import FreeformQuestion from './FreeformQuestion';\nimport InputField from './InputField';\nimport MainWidget from './MainWidget';\nimport PropTypes from 'prop-types';\nimport preact from 'preact';\n\nconst MIN_CHAR_COUNT = 15;\nconst MIN_CHAR_ERROR_TEXT = `Please respond with at least ${MIN_CHAR_COUNT} characters.`;\nconst EMAIL_ERROR_TEXT = 'Please enter a valid email address.';\nconst EMAIL_PROMPT_TEXT = 'May we contact you about your feedback?';\n\nclass Deluge extends preact.Component {\n  constructor(props) {\n    super(props);\n\n    const crypto = window.crypto || window.msCrypto;\n    const buf = new Uint8Array(16);\n    crypto.getRandomValues(buf);\n\n    this.state = {\n      answers: {},\n      emailError: false,\n      interactionId: btoa(\n        Array.prototype.map.call(buf, ch => String.fromCharCode(ch)).join('')\n      ).slice(0, -2),\n      voteAcknowledgement: null,\n    };\n    this.onSubmitFeedback = this.onSubmitFeedback.bind(this);\n    this.onSubmitVote = this.onSubmitVote.bind(this);\n  }\n\n  sendAnalytics(eventName, eventObj) {\n    try {\n      const user = window.analytics.user();\n      const segmentUID = user.id();\n      if (segmentUID) {\n        eventObj.segmentUID = segmentUID.toString();\n      } else {\n        eventObj.segmentAnonymousID = user.anonymousId().toString();\n      }\n      window.analytics.track(eventName, eventObj);\n    } catch (err) {\n      console.error(err);\n    }\n    return eventObj;\n  }\n\n  onSubmitVote(vote) {\n    this.sendVote(vote)\n      .then(result => {\n        this.setState({\n          voteAcknowledgement: vote ? 'up' : 'down',\n        });\n      })\n      .catch(err => {\n        console.error(err);\n      });\n  }\n\n  sendVote(vote) {}\n\n  onSubmitFeedback(vote) {\n    const fields = {};\n\n    const answers = this.state.answers;\n    const keys = Object.keys(answers);\n    for (let i = 0; i < keys.length; i += 1) {\n      const key = keys[i];\n\n      // Report booleans and non-empty strings\n      if (answers[key] || answers[key] === false) {\n        fields[key] = answers[key];\n      }\n    }\n\n    this.sendFeedback(vote, fields).catch(err => {\n      console.error(err);\n    });\n  }\n\n  sendFeedback(vote, fields) {}\n\n  makeStore(key) {\n    return {\n      get: () => this.state.answers[key],\n      set: val =>\n        this.setState(prevState => ({\n          answers: {\n            ...prevState.answers,\n            [key]: val,\n          },\n        })),\n    };\n  }\n\n  validateEmail(input) {\n    const hasError = !(\n      input === '' || /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(input)\n    );\n    this.setState({emailError: hasError});\n    return hasError;\n  }\n\n  render(props, {voteAcknowledgement}) {\n    const noAnswersSubmitted =\n      Object.keys(this.state.answers).length === 0 ||\n      Object.values(this.state.answers).every(val => val === '');\n    const hasError = noAnswersSubmitted || this.state.emailError;\n    return (\n      <MainWidget\n        voteAcknowledgement={voteAcknowledgement}\n        onSubmitFeedback={this.onSubmitFeedback}\n        onSubmitVote={this.onSubmitVote}\n        onClear={() => this.setState({answers: {}})}\n        canShowSuggestions={props.canShowSuggestions}\n        i\n        handleOpenDrawer={props.handleOpenDrawer}\n        error={hasError}\n      >\n        <FreeformQuestion\n          errorText={MIN_CHAR_ERROR_TEXT}\n          store={this.makeStore('reason')}\n          placeholder=\"What are you trying to do?\"\n        />\n        <div className=\"caption\">{EMAIL_PROMPT_TEXT}</div>\n        <InputField\n          errorText={EMAIL_ERROR_TEXT}\n          hasError={input => this.validateEmail(input)}\n          inputType={'email'}\n          store={this.makeStore('email')}\n          placeholder=\"Email address\"\n        />\n      </MainWidget>\n    );\n  }\n}\n\nDeluge.propTypes = {\n  project: PropTypes.string.isRequired,\n  path: PropTypes.string.isRequired,\n  canShowSuggestions: PropTypes.bool.isRequired,\n  handleOpenDrawer: PropTypes.func.isRequired,\n};\n\nexport default Deluge;\n","import PropTypes from 'prop-types';\nimport preact from 'preact';\n\nfunction addQueryParameters(url, pageName) {\n    return `${url}?suggestor=${encodeURIComponent(pageName)}`;\n}\n\nfunction SuggestionCard({suggestion}) {\n    const urlWithParams = addQueryParameters(suggestion.url, this.props.pageName);\n    return (\n        <div className=\"suggestion-card\">\n            <a href={urlWithParams}>\n                <div>\n                    <h2>{suggestion.title}</h2>\n                    {suggestion.description && <p>{suggestion.description}</p>}\n                </div>\n            </a>\n        </div>\n    );\n}\n\nfunction EmptyCard({handleDismissCard}) {\n    return (\n        <div className=\"suggestion-card suggestion-close\"\n            onClick={() => handleDismissCard()}>\n            <h2>This isn&#39;t what I was looking for</h2>\n        </div>\n    );\n}\n\nclass SuggestionCardList extends preact.Component {\n    render() {\n        const suggestions = this.props.suggestions;\n        const suggestionCards = suggestions.map((suggestion) =>\n            <SuggestionCard\n                suggestion={suggestion}\n                key={suggestion.url}\n                pageName={this.props.pageName}\n            />\n        );\n        return (\n            <div>\n                {suggestionCards}\n                <EmptyCard handleDismissCard={this.props.handleDismissCard} />\n            </div>\n        );\n    }\n}\n\nSuggestionCard.propTypes = {\n    'pageName': PropTypes.string.isRequired,\n    'suggestion': PropTypes.object.isRequired\n};\n\nEmptyCard.propTypes = {\n    'handleDismissCard': PropTypes.func.isRequired\n};\n\nSuggestionCardList.propTypes = {\n    'suggestions': PropTypes.array.isRequired,\n    'handleDismissCard': PropTypes.func.isRequired,\n    'pageName': PropTypes.string.isRequired\n};\n\nexport default SuggestionCardList;\n","export function isLeafNode($node) {\n  return !$node.siblings('ul:not(.simple)').length;\n}\n\nexport function toArray(arrayLike) {\n  const result = [];\n  for (let i = 0; i < arrayLike.length; i += 1) {\n    result.push(arrayLike[i]);\n  }\n\n  return result;\n}\n\n/* Checks a whitelist for non-leaf nodes that should trigger a full page reload */\nexport function requiresPageload($node) {\n  const docsExcludedNav = window.docsExcludedNav;\n\n  if (!docsExcludedNav || !docsExcludedNav.length) {\n    return false;\n  }\n\n  for (let i = 0; i < docsExcludedNav.length; i += 1) {\n    if ($node[0].href.indexOf(docsExcludedNav[i]) !== -1) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport function throttle(func, wait) {\n  let args = null;\n  let result = null;\n  let timeout = null;\n  let previous = 0;\n\n  function later() {\n    previous = Date.now();\n    timeout = null;\n    result = func.apply(...args);\n    if (!timeout) {\n      args = null;\n    }\n  }\n\n  return function (...newArgs) {\n    const now = Date.now();\n    const remaining = wait - (now - previous);\n    args = newArgs;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        window.clearTimeout(timeout);\n        timeout = null;\n      }\n\n      previous = now;\n      result = func(...args);\n      if (!timeout) {\n        args = null;\n      }\n    } else if (!timeout) {\n      timeout = window.setTimeout(later, remaining);\n    }\n\n    return result;\n  };\n}\n\nexport function reportAnalytics(eventName, data) {\n  console.log('report analytics', eventName, data);\n}\n\nexport class Dispatcher {\n  constructor() {\n    this.listeners = [];\n  }\n\n  listen(handler) {\n    this.listeners.push(handler);\n  }\n\n  dispatch(ctx) {\n    for (let i = 0; i < this.listeners.length; i += 1) {\n      this.listeners[i](ctx);\n    }\n  }\n}\n","import PropTypes from 'prop-types';\nimport SuggestionCardList from './SuggestionCardList';\nimport preact from 'preact';\nimport {reportAnalytics} from '../../js/util';\n\nfunction getPageName() {\n  const bodyElements = document.getElementsByClassName('body');\n  if (!bodyElements.length) {\n    return null;\n  }\n\n  const pagename = bodyElements[0].getAttribute('data-pagename');\n\n  return pagename;\n}\n\nclass Suggestion extends preact.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleCloseDrawer = this.handleCloseDrawer.bind(this);\n    this.handleDismissCard = this.handleDismissCard.bind(this);\n    this.pageName = getPageName();\n\n    this.state = {\n      isLoaded: false,\n      showThankYouMessage: false,\n      suggestions: [],\n    };\n  }\n\n  handleCloseDrawer() {\n    this.props.handleCloseDrawer();\n    reportAnalytics('Suggestion Drawer Closed', {\n      userDismissedSuggestions: this.state.showThankYouMessage,\n    });\n  }\n\n  handleDismissCard() {\n    this.setState({showThankYouMessage: true});\n    reportAnalytics('Suggestions Dismissed');\n  }\n\n  render() {\n    const drawerIsOpen = this.props.drawerIsOpen ? 'is-open' : '';\n    const showThankYouMessage = this.state.showThankYouMessage;\n    let bodyDisplay; // eslint-disable-line init-declarations\n\n    if (showThankYouMessage) {\n      bodyDisplay = (\n        <div>\n          <span\n            onClick={() => this.handleCloseDrawer()}\n            class=\"fa fa-times suggestion-close suggestion-close-button\"\n          />\n          <h1>Thanks for your feedback.</h1>\n          <p>\n            We&apos;ll use it to make more helpful suggestions in the future.\n          </p>\n        </div>\n      );\n    } else {\n      bodyDisplay = (\n        <div>\n          <span\n            onClick={() => this.handleCloseDrawer()}\n            class=\"fa fa-times suggestion-close suggestion-close-button\"\n          />\n          <h1>Need help?</h1>\n          <p>Other MongoDB users have found these resources useful.</p>\n          <SuggestionCardList\n            suggestions={this.state.suggestions}\n            handleDismissCard={this.handleDismissCard}\n            pageName={this.pageName}\n          />\n        </div>\n      );\n    }\n    return <div className={`suggestion ${drawerIsOpen}`}>{bodyDisplay}</div>;\n  }\n}\n\nSuggestion.propTypes = {\n  drawerIsOpen: PropTypes.bool.isRequired,\n  handleCloseDrawer: PropTypes.func.isRequired,\n};\n\nexport default Suggestion;\n","import Deluge from './deluge/deluge';\nimport PropTypes from 'prop-types';\nimport Suggestion from './suggestion/suggestion';\nimport preact from 'preact';\n\nconst whitelist = [\n];\n\nclass Widgets extends preact.Component {\n    constructor(props) {\n        super(props);\n        this.isSuggestionPage = this.isSuggestionPage(this.props.path);\n        this.handleOpenDrawer = this.handleOpenDrawer.bind(this);\n        this.handleCloseDrawer = this.handleCloseDrawer.bind(this);\n\n        this.state = {\n            'drawerIsOpen': false,\n            'drawerHasOpened': false\n        };\n    }\n\n    isSuggestionPage(path) {\n        return whitelist.indexOf(path) >= 0;\n    }\n\n    handleOpenDrawer() {\n        // Don't display suggestions again after closing\n        if (this.state.drawerHasOpened) {\n            return;\n        }\n\n        this.setState((prevState) => ({\n            'drawerIsOpen': true,\n            'drawerHasOpened': true\n        }));\n    }\n\n    handleCloseDrawer() {\n        this.setState((prevState) => ({\n            'drawerIsOpen': false\n        }));\n    }\n\n    render() {\n        // return null;\n        return (\n            <div>\n                <Deluge\n                    project={this.props.project}\n                    path={this.props.path}\n                    handleOpenDrawer={this.handleOpenDrawer}\n                    canShowSuggestions={this.isSuggestionPage}\n                />\n                {this.isSuggestionPage &&\n                    <Suggestion\n                        drawerIsOpen={this.state.drawerIsOpen}\n                        handleCloseDrawer={this.handleCloseDrawer}\n                    />\n                }\n            </div>\n        );\n    }\n}\n\nWidgets.propTypes = {\n    'project': PropTypes.string.isRequired,\n    'path': PropTypes.string.isRequired\n};\n\nexport default function widgets(project, path, rootElement) {\n    preact.render('', rootElement, rootElement._widgetsRendered);\n\n    if (path) {\n        rootElement._widgetsRendered = preact.render(\n            <Widgets project={project} path={path} />,\n            rootElement);\n    }\n}\n","import widgets from '../widgets/widgets';\n\nlet project = null;\nlet ratingPanelElement = null;\n\n// Files on which we should not have feedback widgets\nconst blacklist = ['meta/404', 'search'];\n\nfunction getPageName() {\n    const bodyElements = document.getElementsByClassName('body');\n    if (!bodyElements.length) { return null; }\n\n    const pagename = bodyElements[0].getAttribute('data-pagename');\n    if (blacklist.indexOf(pagename) >= 0) {\n        return null;\n    }\n\n    const isEol = bodyElements[0].getAttribute('data-eol');\n    if (isEol) {\n        return null;\n    }\n\n    return pagename;\n}\nexport function init() {\n    project = document.body.getAttribute('data-project');\n    ratingPanelElement = document.getElementById('rating-panel');\n}\n\nexport function setup() {\n    // We require DOM storage. Don't show anything if support is not present.\n    if (window.localStorage === undefined) { return; }\n\n    const pageName = getPageName();\n    if (ratingPanelElement) {\n        widgets(project, pageName, ratingPanelElement);\n    }\n}\n","import * as componentFeedback from '../js/componentFeedback';\n\n$(() => {\n  // Monkey-patch jQuery to add the removed load() event handler.\n  // This is required by the JIRA issue collector 🙄\n  jQuery.fn.load = function (callback) {\n    $(window).on('load', callback);\n  };\n\n  componentFeedback.init();\n  componentFeedback.setup();\n});\n"],"names":["emptyFunction","emptyFunctionWithReset","resetWarningCache","module","shim","props","propName","componentName","location","propFullName","secret","ReactPropTypesSecret","err","Error","name","getShim","isRequired","ReactPropTypes","array","bigint","bool","func","number","object","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","require$$0","VNode","options","stack","EMPTY_CHILDREN","h","nodeName","attributes","lastSimple","child","simple","i","children","arguments","length","push","pop","undefined","String","p","key","extend","obj","defer","Promise","resolve","then","bind","setTimeout","IS_NON_DIMENSIONAL","items","enqueueRender","component","_dirty","rerender","list","renderComponent","isNamedNode","normalizedNodeName","toLowerCase","getNodeProps","vnode","defaultProps","removeNode","parentNode","removeChild","setAccessor","old","value","isSvg","style","cssText","test","innerHTML","__html","useCapture","replace","substring","addEventListener","eventProxy","removeEventListener","_listeners","e","removeAttribute","ns","removeAttributeNS","setAttributeNS","setAttribute","className","this","type","mounts","diffLevel","isSvgMode","hydrating","flushMounts","c","componentDidMount","diff","dom","context","mountAll","parent","componentRoot","ownerSVGElement","ret","idiff","appendChild","out","prevSvgMode","splitText","_component","nodeValue","document","createTextNode","replaceChild","recollectNodeTree","vnodeName","originalComponent","oldDom","isDirectOwner","_componentConstructor","isOwner","_parentComponent","constructor","setComponentProps","base","unmountComponent","createComponent","nextBase","buildComponentFromVNode","createElementNS","createElement","firstChild","fc","vchildren","a","nextSibling","isHydrating","j","f","vchild","originalChildren","childNodes","keyed","keyedLen","min","len","childrenLen","vlen","_child","__key","trim","insertBefore","innerDiffNode","dangerouslySetInnerHTML","attrs","diffAttributes","unmountOnly","ref","removeChildren","lastChild","next","previousSibling","recyclerComponents","Ctor","inst","prototype","render","Component","call","doRender","splice","state","renderMode","_disable","__ref","getDerivedStateFromProps","componentWillMount","componentWillReceiveProps","prevContext","prevProps","syncComponentUpdates","isChild","rendered","cbase","previousProps","previousState","prevState","previousContext","isUpdate","initialBase","initialChildComponent","skip","snapshot","shouldComponentUpdate","componentWillUpdate","getChildContext","getSnapshotBeforeUpdate","toUnmount","childComponent","childProps","baseParent","componentRef","t","unshift","componentDidUpdate","_renderCallbacks","componentWillUnmount","inner","setState","callback","forceUpdate","preact","cloneElement","slice","merge","FreeformQuestion","handleChange","_this","ev","hasError","store","target","error","set","setCustomValidity","errorText","placeholder","text","visibility","propTypes","InputField","inputType","STATE_INITIAL","MainWidget","onSubmitFeedback","onInitialVote","toggleVisibility","savedFeedbackState","JSON","parse","window","sessionStorage","getItem","closed","open","event","stopPropagation","setItem","stringify","_this2","canShowSuggestions","voteAcknowledgement","delugeBodyClass","delugeClass","class","id","_this3","Deluge","crypto","msCrypto","buf","Uint8Array","getRandomValues","btoa","Array","map","fromCharCode","ch","join","onSubmitVote","eventName","eventObj","user","analytics","segmentUID","toString","segmentAnonymousID","anonymousId","track","vote","sendVote","catch","fields","answers","keys","Object","sendFeedback","val","input","emailError","values","every","_this4","handleOpenDrawer","makeStore","validateEmail","SuggestionCard","url","pageName","suggestion","urlWithParams","encodeURIComponent","href","title","description","EmptyCard","handleDismissCard","SuggestionCardList","suggestionCards","suggestions","reportAnalytics","data","log","listeners","handler","ctx","Suggestion","bodyElements","handleCloseDrawer","getElementsByClassName","getAttribute","showThankYouMessage","drawerIsOpen","bodyDisplay","whitelist","Widgets","isSuggestionPage","path","indexOf","drawerHasOpened","project","ratingPanelElement","blacklist","setup","localStorage","pagename","getPageName","rootElement","_widgetsRendered","fn","load","on","body","getElementById"],"mappings":"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"}